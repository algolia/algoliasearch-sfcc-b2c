<isset name="categoryLog" value="${pdict.algoliaData.getLogData('LastCategorySyncLog')}" scope="page"/>
<div class="algolia-bm-log-category">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody>
            <tr>
            <td class="table_header w s" nowrap="nowrap" width="100%" colspan="1" style="padding: 6px;">Log of the last processed Categories data</td>
                <td class="table_header w e s center">Date</td>
                <td class="table_header e s center">Result</td>
            </tr>
            <tr>
                <td class="table_detail w s" width="100%" nowrap="nowrap" colspan="1">Last processed Date</td>
                <td class="table_detail w e s" nowrap="nowrap">
                    <isprint value="${categoryLog.processedDate}" encoding="htmlcontent" />
                </td>
                <td class="table_detail e s center">
                    <isif condition="${categoryLog.processedError}">
                        Error
                    <iselse/>
                        Succes
                    </isif>
                </td>
            </tr>
        </tbody>
    </table>
    <isif condition="${categoryLog.processedError}">
        <table border="0" cellpadding="0" cellspacing="0" width="100%">
            <tbody>
                <tr>
                    <td class="table_detail w s" nowrap="nowrap" colspan="1">Error Message: </td>
                    <td class="table_detail w e s" width="100%">
                        <isprint value="${categoryLog.processedErrorMessage}" encoding="htmlcontent" />
                    </td>
                </tr>
            </tbody>
        </table>
    </isif>
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody>
            <tr>
                <td class="table_detail w e s" nowrap="nowrap">Categories processed</td>
                <td class="table_detail e s"  width="100%">
                    <isprint value="${categoryLog.processedRecords + ' records'}" encoding="htmlcontent" />
                </td>
            </tr>
            <tr>
                <td class="table_detail w e s" nowrap="nowrap">Categories ready for update</td>
                <td class="table_detail e s"  width="100%">
                    <isprint value="${categoryLog.processedToUpdateRecords + ' records'}" encoding="htmlcontent" />
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="algolia-bm-log-category-send">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody>
            <tr>
                <td class="table_header w s" nowrap="nowrap" width="100%" colspan="1" style="padding: 6px;">Log of the last sent Category data</td>
                <td class="table_header w e s center">Date</td>
                <td class="table_header e s center">Result</td>
            </tr>
            <tr>
                <td class="table_detail w s" width="100%" nowrap="nowrap" colspan="1">Last sent Date</td>
                <td class="table_detail w e s" nowrap="nowrap">
                    <isprint value="${categoryLog.sendDate}" encoding="htmlcontent" />
                </td>
                <td class="table_detail e s center">
                    <isif condition="${categoryLog.sendError}">
                        Error
                    <iselse/>
                        Succes
                    </isif>
                </td>
            </tr>
        </tbody>
    </table>
    <isif condition="${categoryLog.sendError}">
        <table border="0" cellpadding="0" cellspacing="0" width="100%">
            <tbody>
                <tr>
                    <td class="table_detail w s" nowrap="nowrap" colspan="1">Error Message: </td>
                    <td class="table_detail w e s" width="100%">
                        <isprint value="${categoryLog.sendErrorMessage}" encoding="htmlcontent" />
                    </td>
                </tr>
            </tbody>
        </table>
    </isif>
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody>
            <tr>
                <td class="table_detail w e s" nowrap="nowrap">Data sent successfully</td>
                <td class="table_detail e s"  width="100%">
                    <isprint value="${categoryLog.sendedChunk + ' chunk (' + categoryLog.sendedRecords + ' records)'}" encoding="htmlcontent" />
                </td>
            </tr>
            <tr>
                <td class="table_detail w e s" nowrap="nowrap">Failed to send data</td>
                <td class="table_detail e s"  width="100%">
                    <isprint value="${categoryLog.failedChunk + ' chunk (' + categoryLog.failedRecords + ' records)'}" encoding="htmlcontent" />
                </td>
            </tr>
        </tbody>
    </table>
</div>
