{"version":3,"file":"index.production.js","sources":["../../../autocomplete-shared/dist/esm/createRef.js","../../../autocomplete-shared/dist/esm/debounce.js","../../../autocomplete-shared/dist/esm/flatten.js","../../../autocomplete-shared/dist/esm/generateAutocompleteId.js","../../../autocomplete-shared/dist/esm/getAttributeValueByPath.js","../../../autocomplete-shared/dist/esm/getItemsCount.js","../../../autocomplete-shared/dist/esm/noop.js","../../../autocomplete-shared/dist/esm/version.js","../../../autocomplete-shared/dist/esm/userAgents.js","../../../autocomplete-core/dist/esm/utils/createCancelablePromise.js","../../../autocomplete-core/dist/esm/utils/getNextActiveItemId.js","../../../autocomplete-core/dist/esm/utils/getNormalizedSources.js","../../../autocomplete-core/dist/esm/utils/getActiveItem.js","../../../autocomplete-core/dist/esm/utils/isSamsung.js","../../../autocomplete-core/dist/esm/utils/mapToAlgoliaResponse.js","../../../autocomplete-core/dist/esm/createStore.js","../../../autocomplete-core/dist/esm/utils/createCancelablePromiseList.js","../../../autocomplete-core/dist/esm/getAutocompleteSetters.js","../../../autocomplete-core/dist/esm/getDefaultProps.js","../../../autocomplete-core/dist/esm/reshape.js","../../../autocomplete-core/dist/esm/resolve.js","../../../autocomplete-core/dist/esm/onInput.js","../../../autocomplete-core/dist/esm/utils/createConcurrentSafePromise.js","../../../autocomplete-core/dist/esm/onKeyDown.js","../../../autocomplete-core/dist/esm/getPropGetters.js","../../../autocomplete-core/dist/esm/utils/isOrContainsNode.js","../../../autocomplete-core/dist/esm/metadata.js","../../../autocomplete-core/dist/esm/getCompletion.js","../../../autocomplete-core/dist/esm/stateReducer.js","../../../autocomplete-core/dist/esm/createAutocomplete.js","../../../../node_modules/htm/dist/htm.mjs","../../src/elements/ClearIcon.ts","../../src/utils/getHTMLElement.ts","../../src/utils/mergeClassNames.ts","../../src/utils/mergeDeep.ts","../../src/utils/pickBy.ts","../../src/utils/setProperties.ts","../../src/getCreateDomElement.ts","../../src/elements/LoadingIcon.ts","../../src/elements/SearchIcon.ts","../../src/createAutocompleteDom.ts","../../src/elements/Input.ts","../../node_modules/preact/dist/preact.mjs","../../../autocomplete-preset-algolia/dist/esm/constants/index.js","../../../autocomplete-preset-algolia/dist/esm/highlight/parseAttribute.js","../../../autocomplete-preset-algolia/dist/esm/highlight/parseAlgoliaHitHighlight.js","../../../autocomplete-preset-algolia/dist/esm/highlight/isPartHighlighted.js","../../../autocomplete-preset-algolia/dist/esm/highlight/reverseHighlightedParts.js","../../../autocomplete-preset-algolia/dist/esm/highlight/parseAlgoliaHitSnippet.js","../../../autocomplete-preset-algolia/dist/esm/requester/createRequester.js","../../../autocomplete-preset-algolia/dist/esm/search/fetchAlgoliaResults.js","../../src/components/Highlight.ts","../../src/components/ReverseHighlight.ts","../../../autocomplete-preset-algolia/dist/esm/highlight/parseAlgoliaHitReverseHighlight.js","../../src/components/ReverseSnippet.ts","../../../autocomplete-preset-algolia/dist/esm/highlight/parseAlgoliaHitReverseSnippet.js","../../src/components/Snippet.ts","../../src/getDefaultOptions.ts","../../src/getPanelPlacementStyle.ts","../../src/userAgents.ts","../../src/requesters/createAlgoliaRequester.ts","../../src/requesters/getAlgoliaResults.ts","../../src/autocomplete.ts","../../src/createReactiveWrapper.ts","../../src/createEffectWrapper.ts","../../src/render.tsx","../../src/requesters/getAlgoliaFacets.ts"],"sourcesContent":["export function createRef(initialValue) {\n  return {\n    current: initialValue\n  };\n}","export function debounce(fn, time) {\n  var timerId = undefined;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n\n    timerId = setTimeout(function () {\n      return fn.apply(void 0, args);\n    }, time);\n  };\n}","export function flatten(values) {\n  return values.reduce(function (a, b) {\n    return a.concat(b);\n  }, []);\n}","var autocompleteId = 0;\nexport function generateAutocompleteId() {\n  return \"autocomplete-\".concat(autocompleteId++);\n}","export function getAttributeValueByPath(record, path) {\n  return path.reduce(function (current, key) {\n    return current && current[key];\n  }, record);\n}","export function getItemsCount(state) {\n  if (state.collections.length === 0) {\n    return 0;\n  }\n\n  return state.collections.reduce(function (sum, collection) {\n    return sum + collection.items.length;\n  }, 0);\n}","export var noop = function noop() {};","export var version = '1.8.3';","import { version } from './version';\nexport var userAgents = [{\n  segment: 'autocomplete-core',\n  version: version\n}];","function createInternalCancelablePromise(promise, initialState) {\n  var state = initialState;\n  return {\n    then: function then(onfulfilled, onrejected) {\n      return createInternalCancelablePromise(promise.then(createCallback(onfulfilled, state, promise), createCallback(onrejected, state, promise)), state);\n    },\n    catch: function _catch(onrejected) {\n      return createInternalCancelablePromise(promise.catch(createCallback(onrejected, state, promise)), state);\n    },\n    finally: function _finally(onfinally) {\n      if (onfinally) {\n        state.onCancelList.push(onfinally);\n      }\n\n      return createInternalCancelablePromise(promise.finally(createCallback(onfinally && function () {\n        state.onCancelList = [];\n        return onfinally();\n      }, state, promise)), state);\n    },\n    cancel: function cancel() {\n      state.isCanceled = true;\n      var callbacks = state.onCancelList;\n      state.onCancelList = [];\n      callbacks.forEach(function (callback) {\n        callback();\n      });\n    },\n    isCanceled: function isCanceled() {\n      return state.isCanceled === true;\n    }\n  };\n}\n\nexport function createCancelablePromise(executor) {\n  return createInternalCancelablePromise(new Promise(function (resolve, reject) {\n    return executor(resolve, reject);\n  }), {\n    isCanceled: false,\n    onCancelList: []\n  });\n}\n\ncreateCancelablePromise.resolve = function (value) {\n  return cancelable(Promise.resolve(value));\n};\n\ncreateCancelablePromise.reject = function (reason) {\n  return cancelable(Promise.reject(reason));\n};\n\nexport function cancelable(promise) {\n  return createInternalCancelablePromise(promise, {\n    isCanceled: false,\n    onCancelList: []\n  });\n}\n\nfunction createCallback(onResult, state, fallback) {\n  if (!onResult) {\n    return fallback;\n  }\n\n  return function callback(arg) {\n    if (state.isCanceled) {\n      return arg;\n    }\n\n    return onResult(arg);\n  };\n}","/**\n * Returns the next active item ID from the current state.\n *\n * We allow circular keyboard navigation from the base index.\n * The base index can either be `null` (nothing is highlighted) or `0`\n * (the first item is highlighted).\n * The base index is allowed to get assigned `null` only if\n * `props.defaultActiveItemId` is `null`. This pattern allows to \"stop\"\n * by the actual query before navigating to other suggestions as seen on\n * Google or Amazon.\n *\n * @param moveAmount The offset to increment (or decrement) the last index\n * @param baseIndex The current index to compute the next index from\n * @param itemCount The number of items\n * @param defaultActiveItemId The default active index to fallback to\n */\nexport function getNextActiveItemId(moveAmount, baseIndex, itemCount, defaultActiveItemId) {\n  if (!itemCount) {\n    return null;\n  }\n\n  if (moveAmount < 0 && (baseIndex === null || defaultActiveItemId !== null && baseIndex === 0)) {\n    return itemCount + moveAmount;\n  }\n\n  var numericIndex = (baseIndex === null ? -1 : baseIndex) + moveAmount;\n\n  if (numericIndex <= -1 || numericIndex >= itemCount) {\n    return defaultActiveItemId === null ? null : 0;\n  }\n\n  return numericIndex;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { invariant, decycle, noop } from '@algolia/autocomplete-shared';\nexport function getNormalizedSources(getSources, params) {\n  var seenSourceIds = [];\n  return Promise.resolve(getSources(params)).then(function (sources) {\n    invariant(Array.isArray(sources), function () {\n      return \"The `getSources` function must return an array of sources but returned type \".concat(JSON.stringify(_typeof(sources)), \":\\n\\n\").concat(JSON.stringify(decycle(sources), null, 2));\n    });\n    return Promise.all(sources // We allow `undefined` and `false` sources to allow users to use\n    // `Boolean(query) && source` (=> `false`).\n    // We need to remove these values at this point.\n    .filter(function (maybeSource) {\n      return Boolean(maybeSource);\n    }).map(function (source) {\n      invariant(typeof source.sourceId === 'string', 'A source must provide a `sourceId` string.');\n\n      if (seenSourceIds.includes(source.sourceId)) {\n        throw new Error(\"[Autocomplete] The `sourceId` \".concat(JSON.stringify(source.sourceId), \" is not unique.\"));\n      }\n\n      seenSourceIds.push(source.sourceId);\n      var defaultSource = {\n        getItemInputValue: function getItemInputValue(_ref) {\n          var state = _ref.state;\n          return state.query;\n        },\n        getItemUrl: function getItemUrl() {\n          return undefined;\n        },\n        onSelect: function onSelect(_ref2) {\n          var setIsOpen = _ref2.setIsOpen;\n          setIsOpen(false);\n        },\n        onActive: noop,\n        onResolve: noop\n      };\n      Object.keys(defaultSource).forEach(function (key) {\n        defaultSource[key].__default = true;\n      });\n\n      var normalizedSource = _objectSpread(_objectSpread({}, defaultSource), source);\n\n      return Promise.resolve(normalizedSource);\n    }));\n  });\n}","// We don't have access to the autocomplete source when we call `onKeyDown`\n// or `onClick` because those are native browser events.\n// However, we can get the source from the suggestion index.\nfunction getCollectionFromActiveItemId(state) {\n  // Given 3 sources with respectively 1, 2 and 3 suggestions: [1, 2, 3]\n  // We want to get the accumulated counts:\n  // [1, 1 + 2, 1 + 2 + 3] = [1, 3, 3 + 3] = [1, 3, 6]\n  var accumulatedCollectionsCount = state.collections.map(function (collections) {\n    return collections.items.length;\n  }).reduce(function (acc, collectionsCount, index) {\n    var previousValue = acc[index - 1] || 0;\n    var nextValue = previousValue + collectionsCount;\n    acc.push(nextValue);\n    return acc;\n  }, []); // Based on the accumulated counts, we can infer the index of the suggestion.\n\n  var collectionIndex = accumulatedCollectionsCount.reduce(function (acc, current) {\n    if (current <= state.activeItemId) {\n      return acc + 1;\n    }\n\n    return acc;\n  }, 0);\n  return state.collections[collectionIndex];\n}\n/**\n * Gets the highlighted index relative to a suggestion object (not the absolute\n * highlighted index).\n *\n * Example:\n *  [['a', 'b'], ['c', 'd', 'e'], ['f']]\n *                      ↑\n *         (absolute: 3, relative: 1)\n */\n\n\nfunction getRelativeActiveItemId(_ref) {\n  var state = _ref.state,\n      collection = _ref.collection;\n  var isOffsetFound = false;\n  var counter = 0;\n  var previousItemsOffset = 0;\n\n  while (isOffsetFound === false) {\n    var currentCollection = state.collections[counter];\n\n    if (currentCollection === collection) {\n      isOffsetFound = true;\n      break;\n    }\n\n    previousItemsOffset += currentCollection.items.length;\n    counter++;\n  }\n\n  return state.activeItemId - previousItemsOffset;\n}\n\nexport function getActiveItem(state) {\n  var collection = getCollectionFromActiveItemId(state);\n\n  if (!collection) {\n    return null;\n  }\n\n  var item = collection.items[getRelativeActiveItemId({\n    state: state,\n    collection: collection\n  })];\n  var source = collection.source;\n  var itemInputValue = source.getItemInputValue({\n    item: item,\n    state: state\n  });\n  var itemUrl = source.getItemUrl({\n    item: item,\n    state: state\n  });\n  return {\n    item: item,\n    itemInputValue: itemInputValue,\n    itemUrl: itemUrl,\n    source: source\n  };\n}","var regex = /((gt|sm)-|galaxy nexus)|samsung[- ]/i;\nexport function isSamsung(userAgent) {\n  return Boolean(userAgent && userAgent.match(regex));\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function mapToAlgoliaResponse(rawResults) {\n  var results = rawResults.map(function (result) {\n    var _hits;\n\n    return _objectSpread(_objectSpread({}, result), {}, {\n      hits: (_hits = result.hits) === null || _hits === void 0 ? void 0 : _hits.map(function (hit) {\n        // Bring support for the Insights plugin.\n        return _objectSpread(_objectSpread({}, hit), {}, {\n          __autocomplete_indexName: result.index,\n          __autocomplete_queryID: result.queryID\n        });\n      })\n    });\n  });\n  return {\n    results: results,\n    hits: results.map(function (result) {\n      return result.hits;\n    }).filter(Boolean),\n    facetHits: results.map(function (result) {\n      var _facetHits;\n\n      return (_facetHits = result.facetHits) === null || _facetHits === void 0 ? void 0 : _facetHits.map(function (facetHit) {\n        // Bring support for the highlighting components.\n        return {\n          label: facetHit.value,\n          count: facetHit.count,\n          _highlightResult: {\n            label: {\n              value: facetHit.highlighted\n            }\n          }\n        };\n      });\n    }).filter(Boolean)\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createCancelablePromiseList } from './utils';\nexport function createStore(reducer, props, onStoreStateChange) {\n  var state = props.initialState;\n  return {\n    getState: function getState() {\n      return state;\n    },\n    dispatch: function dispatch(action, payload) {\n      var prevState = _objectSpread({}, state);\n\n      state = reducer(state, {\n        type: action,\n        props: props,\n        payload: payload\n      });\n      onStoreStateChange({\n        state: state,\n        prevState: prevState\n      });\n    },\n    pendingRequests: createCancelablePromiseList()\n  };\n}","export function createCancelablePromiseList() {\n  var list = [];\n  return {\n    add: function add(cancelablePromise) {\n      list.push(cancelablePromise);\n      return cancelablePromise.finally(function () {\n        list = list.filter(function (item) {\n          return item !== cancelablePromise;\n        });\n      });\n    },\n    cancelAll: function cancelAll() {\n      list.forEach(function (promise) {\n        return promise.cancel();\n      });\n    },\n    isEmpty: function isEmpty() {\n      return list.length === 0;\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { flatten } from '@algolia/autocomplete-shared';\nexport function getAutocompleteSetters(_ref) {\n  var store = _ref.store;\n\n  var setActiveItemId = function setActiveItemId(value) {\n    store.dispatch('setActiveItemId', value);\n  };\n\n  var setQuery = function setQuery(value) {\n    store.dispatch('setQuery', value);\n  };\n\n  var setCollections = function setCollections(rawValue) {\n    var baseItemId = 0;\n    var value = rawValue.map(function (collection) {\n      return _objectSpread(_objectSpread({}, collection), {}, {\n        // We flatten the stored items to support calling `getAlgoliaResults`\n        // from the source itself.\n        items: flatten(collection.items).map(function (item) {\n          return _objectSpread(_objectSpread({}, item), {}, {\n            __autocomplete_id: baseItemId++\n          });\n        })\n      });\n    });\n    store.dispatch('setCollections', value);\n  };\n\n  var setIsOpen = function setIsOpen(value) {\n    store.dispatch('setIsOpen', value);\n  };\n\n  var setStatus = function setStatus(value) {\n    store.dispatch('setStatus', value);\n  };\n\n  var setContext = function setContext(value) {\n    store.dispatch('setContext', value);\n  };\n\n  return {\n    setActiveItemId: setActiveItemId,\n    setQuery: setQuery,\n    setCollections: setCollections,\n    setIsOpen: setIsOpen,\n    setStatus: setStatus,\n    setContext: setContext\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, generateAutocompleteId, flatten } from '@algolia/autocomplete-shared';\nimport { getNormalizedSources } from './utils';\nexport function getDefaultProps(props, pluginSubscribers) {\n  var _props$id;\n\n  /* eslint-disable no-restricted-globals */\n  var environment = typeof window !== 'undefined' ? window : {};\n  /* eslint-enable no-restricted-globals */\n\n  var plugins = props.plugins || [];\n  return _objectSpread(_objectSpread({\n    debug: false,\n    openOnFocus: false,\n    placeholder: '',\n    autoFocus: false,\n    defaultActiveItemId: null,\n    stallThreshold: 300,\n    environment: environment,\n    shouldPanelOpen: function shouldPanelOpen(_ref) {\n      var state = _ref.state;\n      return getItemsCount(state) > 0;\n    },\n    reshape: function reshape(_ref2) {\n      var sources = _ref2.sources;\n      return sources;\n    }\n  }, props), {}, {\n    // Since `generateAutocompleteId` triggers a side effect (it increments\n    // an internal counter), we don't want to execute it if unnecessary.\n    id: (_props$id = props.id) !== null && _props$id !== void 0 ? _props$id : generateAutocompleteId(),\n    plugins: plugins,\n    // The following props need to be deeply defaulted.\n    initialState: _objectSpread({\n      activeItemId: null,\n      query: '',\n      completion: null,\n      collections: [],\n      isOpen: false,\n      status: 'idle',\n      context: {}\n    }, props.initialState),\n    onStateChange: function onStateChange(params) {\n      var _props$onStateChange;\n\n      (_props$onStateChange = props.onStateChange) === null || _props$onStateChange === void 0 ? void 0 : _props$onStateChange.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onStateChange;\n\n        return (_x$onStateChange = x.onStateChange) === null || _x$onStateChange === void 0 ? void 0 : _x$onStateChange.call(x, params);\n      });\n    },\n    onSubmit: function onSubmit(params) {\n      var _props$onSubmit;\n\n      (_props$onSubmit = props.onSubmit) === null || _props$onSubmit === void 0 ? void 0 : _props$onSubmit.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onSubmit;\n\n        return (_x$onSubmit = x.onSubmit) === null || _x$onSubmit === void 0 ? void 0 : _x$onSubmit.call(x, params);\n      });\n    },\n    onReset: function onReset(params) {\n      var _props$onReset;\n\n      (_props$onReset = props.onReset) === null || _props$onReset === void 0 ? void 0 : _props$onReset.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onReset;\n\n        return (_x$onReset = x.onReset) === null || _x$onReset === void 0 ? void 0 : _x$onReset.call(x, params);\n      });\n    },\n    getSources: function getSources(params) {\n      return Promise.all([].concat(_toConsumableArray(plugins.map(function (plugin) {\n        return plugin.getSources;\n      })), [props.getSources]).filter(Boolean).map(function (getSources) {\n        return getNormalizedSources(getSources, params);\n      })).then(function (nested) {\n        return flatten(nested);\n      }).then(function (sources) {\n        return sources.map(function (source) {\n          return _objectSpread(_objectSpread({}, source), {}, {\n            onSelect: function onSelect(params) {\n              source.onSelect(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onSelect;\n\n                return (_x$onSelect = x.onSelect) === null || _x$onSelect === void 0 ? void 0 : _x$onSelect.call(x, params);\n              });\n            },\n            onActive: function onActive(params) {\n              source.onActive(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onActive;\n\n                return (_x$onActive = x.onActive) === null || _x$onActive === void 0 ? void 0 : _x$onActive.call(x, params);\n              });\n            },\n            onResolve: function onResolve(params) {\n              source.onResolve(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onResolve;\n\n                return (_x$onResolve = x.onResolve) === null || _x$onResolve === void 0 ? void 0 : _x$onResolve.call(x, params);\n              });\n            }\n          });\n        });\n      });\n    },\n    navigator: _objectSpread({\n      navigate: function navigate(_ref3) {\n        var itemUrl = _ref3.itemUrl;\n        environment.location.assign(itemUrl);\n      },\n      navigateNewTab: function navigateNewTab(_ref4) {\n        var itemUrl = _ref4.itemUrl;\n        var windowReference = environment.open(itemUrl, '_blank', 'noopener');\n        windowReference === null || windowReference === void 0 ? void 0 : windowReference.focus();\n      },\n      navigateNewWindow: function navigateNewWindow(_ref5) {\n        var itemUrl = _ref5.itemUrl;\n        environment.open(itemUrl, '_blank', 'noopener');\n      }\n    }, props.navigator)\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { flatten } from '@algolia/autocomplete-shared';\nexport function reshape(_ref) {\n  var collections = _ref.collections,\n      props = _ref.props,\n      state = _ref.state;\n  // Sources are grouped by `sourceId` to conveniently pick them via destructuring.\n  // Example: `const { recentSearchesPlugin } = sourcesBySourceId`\n  var originalSourcesBySourceId = collections.reduce(function (acc, collection) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, collection.source.sourceId, _objectSpread(_objectSpread({}, collection.source), {}, {\n      getItems: function getItems() {\n        // We provide the resolved items from the collection to the `reshape` prop.\n        return flatten(collection.items);\n      }\n    })));\n  }, {});\n\n  var _props$plugins$reduce = props.plugins.reduce(function (acc, plugin) {\n    if (plugin.reshape) {\n      return plugin.reshape(acc);\n    }\n\n    return acc;\n  }, {\n    sourcesBySourceId: originalSourcesBySourceId,\n    state: state\n  }),\n      sourcesBySourceId = _props$plugins$reduce.sourcesBySourceId;\n\n  var reshapeSources = props.reshape({\n    sourcesBySourceId: sourcesBySourceId,\n    sources: Object.values(sourcesBySourceId),\n    state: state\n  }); // We reconstruct the collections with the items modified by the `reshape` prop.\n\n  return flatten(reshapeSources).filter(Boolean).map(function (source) {\n    return {\n      source: source,\n      items: source.getItems()\n    };\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { decycle, flatten, invariant } from '@algolia/autocomplete-shared';\nimport { mapToAlgoliaResponse } from './utils';\n\nfunction isDescription(item) {\n  return Boolean(item.execute);\n}\n\nfunction isRequesterDescription(description) {\n  return Boolean(description === null || description === void 0 ? void 0 : description.execute);\n}\n\nexport function preResolve(itemsOrDescription, sourceId, state) {\n  if (isRequesterDescription(itemsOrDescription)) {\n    var contextParameters = itemsOrDescription.requesterId === 'algolia' ? Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.keys(state.context).map(function (key) {\n      var _state$context$key;\n\n      return (_state$context$key = state.context[key]) === null || _state$context$key === void 0 ? void 0 : _state$context$key.__algoliaSearchParameters;\n    })))) : {};\n    return _objectSpread(_objectSpread({}, itemsOrDescription), {}, {\n      requests: itemsOrDescription.queries.map(function (query) {\n        return {\n          query: itemsOrDescription.requesterId === 'algolia' ? _objectSpread(_objectSpread({}, query), {}, {\n            params: _objectSpread(_objectSpread({}, contextParameters), query.params)\n          }) : query,\n          sourceId: sourceId,\n          transformResponse: itemsOrDescription.transformResponse\n        };\n      })\n    });\n  }\n\n  return {\n    items: itemsOrDescription,\n    sourceId: sourceId\n  };\n}\nexport function resolve(items) {\n  var packed = items.reduce(function (acc, current) {\n    if (!isDescription(current)) {\n      acc.push(current);\n      return acc;\n    }\n\n    var searchClient = current.searchClient,\n        execute = current.execute,\n        requesterId = current.requesterId,\n        requests = current.requests;\n    var container = acc.find(function (item) {\n      return isDescription(current) && isDescription(item) && item.searchClient === searchClient && Boolean(requesterId) && item.requesterId === requesterId;\n    });\n\n    if (container) {\n      var _container$items;\n\n      (_container$items = container.items).push.apply(_container$items, _toConsumableArray(requests));\n    } else {\n      var request = {\n        execute: execute,\n        requesterId: requesterId,\n        items: requests,\n        searchClient: searchClient\n      };\n      acc.push(request);\n    }\n\n    return acc;\n  }, []);\n  var values = packed.map(function (maybeDescription) {\n    if (!isDescription(maybeDescription)) {\n      return Promise.resolve(maybeDescription);\n    }\n\n    var _ref = maybeDescription,\n        execute = _ref.execute,\n        items = _ref.items,\n        searchClient = _ref.searchClient;\n    return execute({\n      searchClient: searchClient,\n      requests: items\n    });\n  });\n  return Promise.all(values).then(function (responses) {\n    return flatten(responses);\n  });\n}\nexport function postResolve(responses, sources, store) {\n  return sources.map(function (source) {\n    var matches = responses.filter(function (response) {\n      return response.sourceId === source.sourceId;\n    });\n    var results = matches.map(function (_ref2) {\n      var items = _ref2.items;\n      return items;\n    });\n    var transform = matches[0].transformResponse;\n    var items = transform ? transform(mapToAlgoliaResponse(results)) : results;\n    source.onResolve({\n      source: source,\n      results: results,\n      items: items,\n      state: store.getState()\n    });\n    invariant(Array.isArray(items), function () {\n      return \"The `getItems` function from source \\\"\".concat(source.sourceId, \"\\\" must return an array of items but returned type \").concat(JSON.stringify(_typeof(items)), \":\\n\\n\").concat(JSON.stringify(decycle(items), null, 2), \".\\n\\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems\");\n    });\n    invariant(items.every(Boolean), \"The `getItems` function from source \\\"\".concat(source.sourceId, \"\\\" must return an array of items but returned \").concat(JSON.stringify(undefined), \".\\n\\nDid you forget to return items?\\n\\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems\"));\n    return {\n      source: source,\n      items: items\n    };\n  });\n}","var _excluded = [\"event\", \"nextState\", \"props\", \"query\", \"refresh\", \"store\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { reshape } from './reshape';\nimport { preResolve, resolve, postResolve } from './resolve';\nimport { cancelable, createConcurrentSafePromise, getActiveItem } from './utils';\nvar lastStalledId = null;\nvar runConcurrentSafePromise = createConcurrentSafePromise();\nexport function onInput(_ref) {\n  var event = _ref.event,\n      _ref$nextState = _ref.nextState,\n      nextState = _ref$nextState === void 0 ? {} : _ref$nextState,\n      props = _ref.props,\n      query = _ref.query,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  if (lastStalledId) {\n    props.environment.clearTimeout(lastStalledId);\n  }\n\n  var setCollections = setters.setCollections,\n      setIsOpen = setters.setIsOpen,\n      setQuery = setters.setQuery,\n      setActiveItemId = setters.setActiveItemId,\n      setStatus = setters.setStatus;\n  setQuery(query);\n  setActiveItemId(props.defaultActiveItemId);\n\n  if (!query && props.openOnFocus === false) {\n    var _nextState$isOpen;\n\n    var collections = store.getState().collections.map(function (collection) {\n      return _objectSpread(_objectSpread({}, collection), {}, {\n        items: []\n      });\n    });\n    setStatus('idle');\n    setCollections(collections);\n    setIsOpen((_nextState$isOpen = nextState.isOpen) !== null && _nextState$isOpen !== void 0 ? _nextState$isOpen : props.shouldPanelOpen({\n      state: store.getState()\n    })); // We make sure to update the latest resolved value of the tracked\n    // promises to keep late resolving promises from \"cancelling\" the state\n    // updates performed in this code path.\n    // We chain with a void promise to respect `onInput`'s expected return type.\n\n    var _request = cancelable(runConcurrentSafePromise(collections).then(function () {\n      return Promise.resolve();\n    }));\n\n    return store.pendingRequests.add(_request);\n  }\n\n  setStatus('loading');\n  lastStalledId = props.environment.setTimeout(function () {\n    setStatus('stalled');\n  }, props.stallThreshold); // We track the entire promise chain triggered by `onInput` before mutating\n  // the Autocomplete state to make sure that any state manipulation is based on\n  // fresh data regardless of when promises individually resolve.\n  // We don't track nested promises and only rely on the full chain resolution,\n  // meaning we should only ever manipulate the state once this concurrent-safe\n  // promise is resolved.\n\n  var request = cancelable(runConcurrentSafePromise(props.getSources(_objectSpread({\n    query: query,\n    refresh: refresh,\n    state: store.getState()\n  }, setters)).then(function (sources) {\n    return Promise.all(sources.map(function (source) {\n      return Promise.resolve(source.getItems(_objectSpread({\n        query: query,\n        refresh: refresh,\n        state: store.getState()\n      }, setters))).then(function (itemsOrDescription) {\n        return preResolve(itemsOrDescription, source.sourceId, store.getState());\n      });\n    })).then(resolve).then(function (responses) {\n      return postResolve(responses, sources, store);\n    }).then(function (collections) {\n      return reshape({\n        collections: collections,\n        props: props,\n        state: store.getState()\n      });\n    });\n  }))).then(function (collections) {\n    var _nextState$isOpen2;\n\n    // Parameters passed to `onInput` could be stale when the following code\n    // executes, because `onInput` calls may not resolve in order.\n    // If it becomes a problem we'll need to save the last passed parameters.\n    // See: https://codesandbox.io/s/agitated-cookies-y290z\n    setStatus('idle');\n    setCollections(collections);\n    var isPanelOpen = props.shouldPanelOpen({\n      state: store.getState()\n    });\n    setIsOpen((_nextState$isOpen2 = nextState.isOpen) !== null && _nextState$isOpen2 !== void 0 ? _nextState$isOpen2 : props.openOnFocus && !query && isPanelOpen || isPanelOpen);\n    var highlightedItem = getActiveItem(store.getState());\n\n    if (store.getState().activeItemId !== null && highlightedItem) {\n      var item = highlightedItem.item,\n          itemInputValue = highlightedItem.itemInputValue,\n          itemUrl = highlightedItem.itemUrl,\n          source = highlightedItem.source;\n      source.onActive(_objectSpread({\n        event: event,\n        item: item,\n        itemInputValue: itemInputValue,\n        itemUrl: itemUrl,\n        refresh: refresh,\n        source: source,\n        state: store.getState()\n      }, setters));\n    }\n  }).finally(function () {\n    setStatus('idle');\n\n    if (lastStalledId) {\n      props.environment.clearTimeout(lastStalledId);\n    }\n  });\n  return store.pendingRequests.add(request);\n}","/**\n * Creates a runner that executes promises in a concurrent-safe way.\n *\n * This is useful to prevent older promises to resolve after a newer promise,\n * otherwise resulting in stale resolved values.\n */\nexport function createConcurrentSafePromise() {\n  var basePromiseId = -1;\n  var latestResolvedId = -1;\n  var latestResolvedValue = undefined;\n  return function runConcurrentSafePromise(promise) {\n    basePromiseId++;\n    var currentPromiseId = basePromiseId;\n    return Promise.resolve(promise).then(function (x) {\n      // The promise might take too long to resolve and get outdated. This would\n      // result in resolving stale values.\n      // When this happens, we ignore the promise value and return the one\n      // coming from the latest resolved value.\n      //\n      // +----------------------------------+\n      // |        100ms                     |\n      // | run(1) +--->  R1                 |\n      // |        300ms                     |\n      // | run(2) +-------------> R2 (SKIP) |\n      // |        200ms                     |\n      // | run(3) +--------> R3             |\n      // +----------------------------------+\n      if (latestResolvedValue && currentPromiseId < latestResolvedId) {\n        return latestResolvedValue;\n      }\n\n      latestResolvedId = currentPromiseId;\n      latestResolvedValue = x;\n      return x;\n    });\n  };\n}","var _excluded = [\"event\", \"props\", \"refresh\", \"store\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { onInput } from './onInput';\nimport { getActiveItem } from './utils';\nexport function onKeyDown(_ref) {\n  var event = _ref.event,\n      props = _ref.props,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n    // eslint-disable-next-line no-inner-declarations\n    var triggerScrollIntoView = function triggerScrollIntoView() {\n      var nodeItem = props.environment.document.getElementById(\"\".concat(props.id, \"-item-\").concat(store.getState().activeItemId));\n\n      if (nodeItem) {\n        if (nodeItem.scrollIntoViewIfNeeded) {\n          nodeItem.scrollIntoViewIfNeeded(false);\n        } else {\n          nodeItem.scrollIntoView(false);\n        }\n      }\n    }; // eslint-disable-next-line no-inner-declarations\n\n\n    var triggerOnActive = function triggerOnActive() {\n      var highlightedItem = getActiveItem(store.getState());\n\n      if (store.getState().activeItemId !== null && highlightedItem) {\n        var item = highlightedItem.item,\n            itemInputValue = highlightedItem.itemInputValue,\n            itemUrl = highlightedItem.itemUrl,\n            source = highlightedItem.source;\n        source.onActive(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      }\n    }; // Default browser behavior changes the caret placement on ArrowUp and\n    // ArrowDown.\n\n\n    event.preventDefault(); // When re-opening the panel, we need to split the logic to keep the actions\n    // synchronized as `onInput` returns a promise.\n\n    if (store.getState().isOpen === false && (props.openOnFocus || Boolean(store.getState().query))) {\n      onInput(_objectSpread({\n        event: event,\n        props: props,\n        query: store.getState().query,\n        refresh: refresh,\n        store: store\n      }, setters)).then(function () {\n        store.dispatch(event.key, {\n          nextActiveItemId: props.defaultActiveItemId\n        });\n        triggerOnActive(); // Since we rely on the DOM, we need to wait for all the micro tasks to\n        // finish (which include re-opening the panel) to make sure all the\n        // elements are available.\n\n        setTimeout(triggerScrollIntoView, 0);\n      });\n    } else {\n      store.dispatch(event.key, {});\n      triggerOnActive();\n      triggerScrollIntoView();\n    }\n  } else if (event.key === 'Escape') {\n    // This prevents the default browser behavior on `input[type=\"search\"]`\n    // from removing the query right away because we first want to close the\n    // panel.\n    event.preventDefault();\n    store.dispatch(event.key, null); // Hitting the `Escape` key signals the end of a user interaction with the\n    // autocomplete. At this point, we should ignore any requests that are still\n    // pending and could reopen the panel once they resolve, because that would\n    // result in an unsolicited UI behavior.\n\n    store.pendingRequests.cancelAll();\n  } else if (event.key === 'Tab') {\n    store.dispatch('blur', null); // Hitting the `Escape` key signals the end of a user interaction with the\n    // autocomplete. At this point, we should ignore any requests that are still\n    // pending and could reopen the panel once they resolve, because that would\n    // result in an unsolicited UI behavior.\n\n    store.pendingRequests.cancelAll();\n  } else if (event.key === 'Enter') {\n    // No active item, so we let the browser handle the native `onSubmit` form\n    // event.\n    if (store.getState().activeItemId === null || store.getState().collections.every(function (collection) {\n      return collection.items.length === 0;\n    })) {\n      // If requests are still pending when the panel closes, they could reopen\n      // the panel once they resolve.\n      // We want to prevent any subsequent query from reopening the panel\n      // because it would result in an unsolicited UI behavior.\n      if (!props.debug) {\n        store.pendingRequests.cancelAll();\n      }\n\n      return;\n    } // This prevents the `onSubmit` event to be sent because an item is\n    // highlighted.\n\n\n    event.preventDefault();\n\n    var _ref2 = getActiveItem(store.getState()),\n        item = _ref2.item,\n        itemInputValue = _ref2.itemInputValue,\n        itemUrl = _ref2.itemUrl,\n        source = _ref2.source;\n\n    if (event.metaKey || event.ctrlKey) {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigateNewTab({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n      }\n    } else if (event.shiftKey) {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigateNewWindow({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n      }\n    } else if (event.altKey) {// Keep native browser behavior\n    } else {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigate({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n        return;\n      }\n\n      onInput(_objectSpread({\n        event: event,\n        nextState: {\n          isOpen: false\n        },\n        props: props,\n        query: itemInputValue,\n        refresh: refresh,\n        store: store\n      }, setters)).then(function () {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      });\n    }\n  }\n}","var _excluded = [\"props\", \"refresh\", \"store\"],\n    _excluded2 = [\"inputElement\", \"formElement\", \"panelElement\"],\n    _excluded3 = [\"inputElement\"],\n    _excluded4 = [\"inputElement\", \"maxLength\"],\n    _excluded5 = [\"sourceIndex\"],\n    _excluded6 = [\"sourceIndex\"],\n    _excluded7 = [\"item\", \"source\", \"sourceIndex\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { noop } from '@algolia/autocomplete-shared';\nimport { onInput } from './onInput';\nimport { onKeyDown as _onKeyDown } from './onKeyDown';\nimport { getActiveItem, isOrContainsNode, isSamsung } from './utils';\nexport function getPropGetters(_ref) {\n  var props = _ref.props,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  var getEnvironmentProps = function getEnvironmentProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        formElement = providedProps.formElement,\n        panelElement = providedProps.panelElement,\n        rest = _objectWithoutProperties(providedProps, _excluded2);\n\n    function onMouseDownOrTouchStart(event) {\n      // The `onTouchStart`/`onMouseDown` events shouldn't trigger the `blur`\n      // handler when it's not an interaction with Autocomplete.\n      // We detect it with the following heuristics:\n      // - the panel is closed AND there are no pending requests\n      //   (no interaction with the autocomplete, no future state updates)\n      // - OR the touched target is the input element (should open the panel)\n      var isAutocompleteInteraction = store.getState().isOpen || !store.pendingRequests.isEmpty();\n\n      if (!isAutocompleteInteraction || event.target === inputElement) {\n        return;\n      } // @TODO: support cases where there are multiple Autocomplete instances.\n      // Right now, a second instance makes this computation return false.\n\n\n      var isTargetWithinAutocomplete = [formElement, panelElement].some(function (contextNode) {\n        return isOrContainsNode(contextNode, event.target);\n      });\n\n      if (isTargetWithinAutocomplete === false) {\n        store.dispatch('blur', null); // If requests are still pending when the user closes the panel, they\n        // could reopen the panel once they resolve.\n        // We want to prevent any subsequent query from reopening the panel\n        // because it would result in an unsolicited UI behavior.\n\n        if (!props.debug) {\n          store.pendingRequests.cancelAll();\n        }\n      }\n    }\n\n    return _objectSpread({\n      // We do not rely on the native `blur` event of the input to close the\n      // panel, but rather on a custom `touchstart`/`mousedown` event outside\n      // of the autocomplete elements.\n      // This ensures we don't mistakenly interpret interactions within the\n      // autocomplete (but outside of the input) as a signal to close the panel.\n      // For example, clicking reset button causes an input blur, but if\n      // `openOnFocus=true`, it shouldn't close the panel.\n      // On touch devices, scrolling results (`touchmove`) causes an input blur\n      // but shouldn't close the panel.\n      onTouchStart: onMouseDownOrTouchStart,\n      onMouseDown: onMouseDownOrTouchStart,\n      // When scrolling on touch devices (mobiles, tablets, etc.), we want to\n      // mimic the native platform behavior where the input is blurred to\n      // hide the virtual keyboard. This gives more vertical space to\n      // discover all the suggestions showing up in the panel.\n      onTouchMove: function onTouchMove(event) {\n        if (store.getState().isOpen === false || inputElement !== props.environment.document.activeElement || event.target === inputElement) {\n          return;\n        }\n\n        inputElement.blur();\n      }\n    }, rest);\n  };\n\n  var getRootProps = function getRootProps(rest) {\n    return _objectSpread({\n      role: 'combobox',\n      'aria-expanded': store.getState().isOpen,\n      'aria-haspopup': 'listbox',\n      'aria-owns': store.getState().isOpen ? \"\".concat(props.id, \"-list\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\")\n    }, rest);\n  };\n\n  var getFormProps = function getFormProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        rest = _objectWithoutProperties(providedProps, _excluded3);\n\n    return _objectSpread({\n      action: '',\n      noValidate: true,\n      role: 'search',\n      onSubmit: function onSubmit(event) {\n        var _providedProps$inputE;\n\n        event.preventDefault();\n        props.onSubmit(_objectSpread({\n          event: event,\n          refresh: refresh,\n          state: store.getState()\n        }, setters));\n        store.dispatch('submit', null);\n        (_providedProps$inputE = providedProps.inputElement) === null || _providedProps$inputE === void 0 ? void 0 : _providedProps$inputE.blur();\n      },\n      onReset: function onReset(event) {\n        var _providedProps$inputE2;\n\n        event.preventDefault();\n        props.onReset(_objectSpread({\n          event: event,\n          refresh: refresh,\n          state: store.getState()\n        }, setters));\n        store.dispatch('reset', null);\n        (_providedProps$inputE2 = providedProps.inputElement) === null || _providedProps$inputE2 === void 0 ? void 0 : _providedProps$inputE2.focus();\n      }\n    }, rest);\n  };\n\n  var getInputProps = function getInputProps(providedProps) {\n    var _props$environment$na;\n\n    function onFocus(event) {\n      // We want to trigger a query when `openOnFocus` is true\n      // because the panel should open with the current query.\n      if (props.openOnFocus || Boolean(store.getState().query)) {\n        onInput(_objectSpread({\n          event: event,\n          props: props,\n          query: store.getState().completion || store.getState().query,\n          refresh: refresh,\n          store: store\n        }, setters));\n      }\n\n      store.dispatch('focus', null);\n    }\n\n    var _ref2 = providedProps || {},\n        inputElement = _ref2.inputElement,\n        _ref2$maxLength = _ref2.maxLength,\n        maxLength = _ref2$maxLength === void 0 ? 512 : _ref2$maxLength,\n        rest = _objectWithoutProperties(_ref2, _excluded4);\n\n    var activeItem = getActiveItem(store.getState());\n    var userAgent = ((_props$environment$na = props.environment.navigator) === null || _props$environment$na === void 0 ? void 0 : _props$environment$na.userAgent) || '';\n    var shouldFallbackKeyHint = isSamsung(userAgent);\n    var enterKeyHint = activeItem !== null && activeItem !== void 0 && activeItem.itemUrl && !shouldFallbackKeyHint ? 'go' : 'search';\n    return _objectSpread({\n      'aria-autocomplete': 'both',\n      'aria-activedescendant': store.getState().isOpen && store.getState().activeItemId !== null ? \"\".concat(props.id, \"-item-\").concat(store.getState().activeItemId) : undefined,\n      'aria-controls': store.getState().isOpen ? \"\".concat(props.id, \"-list\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\"),\n      value: store.getState().completion || store.getState().query,\n      id: \"\".concat(props.id, \"-input\"),\n      autoComplete: 'off',\n      autoCorrect: 'off',\n      autoCapitalize: 'off',\n      enterKeyHint: enterKeyHint,\n      spellCheck: 'false',\n      autoFocus: props.autoFocus,\n      placeholder: props.placeholder,\n      maxLength: maxLength,\n      type: 'search',\n      onChange: function onChange(event) {\n        onInput(_objectSpread({\n          event: event,\n          props: props,\n          query: event.currentTarget.value.slice(0, maxLength),\n          refresh: refresh,\n          store: store\n        }, setters));\n      },\n      onKeyDown: function onKeyDown(event) {\n        _onKeyDown(_objectSpread({\n          event: event,\n          props: props,\n          refresh: refresh,\n          store: store\n        }, setters));\n      },\n      onFocus: onFocus,\n      // We don't rely on the `blur` event.\n      // See explanation in `onTouchStart`/`onMouseDown`.\n      // @MAJOR See if we need to keep this handler.\n      onBlur: noop,\n      onClick: function onClick(event) {\n        // When the panel is closed and you click on the input while\n        // the input is focused, the `onFocus` event is not triggered\n        // (default browser behavior).\n        // In an autocomplete context, it makes sense to open the panel in this\n        // case.\n        // We mimic this event by catching the `onClick` event which\n        // triggers the `onFocus` for the panel to open.\n        if (providedProps.inputElement === props.environment.document.activeElement && !store.getState().isOpen) {\n          onFocus(event);\n        }\n      }\n    }, rest);\n  };\n\n  var getAutocompleteId = function getAutocompleteId(instanceId, sourceId) {\n    return typeof sourceId !== 'undefined' ? \"\".concat(instanceId, \"-\").concat(sourceId) : instanceId;\n  };\n\n  var getLabelProps = function getLabelProps(providedProps) {\n    var _ref3 = providedProps || {},\n        sourceIndex = _ref3.sourceIndex,\n        rest = _objectWithoutProperties(_ref3, _excluded5);\n\n    return _objectSpread({\n      htmlFor: \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-input\"),\n      id: \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-label\")\n    }, rest);\n  };\n\n  var getListProps = function getListProps(providedProps) {\n    var _ref4 = providedProps || {},\n        sourceIndex = _ref4.sourceIndex,\n        rest = _objectWithoutProperties(_ref4, _excluded6);\n\n    return _objectSpread({\n      role: 'listbox',\n      'aria-labelledby': \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-label\"),\n      id: \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-list\")\n    }, rest);\n  };\n\n  var getPanelProps = function getPanelProps(rest) {\n    return _objectSpread({\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the panel so\n        // that the blur event is not triggered, otherwise it closes the\n        // panel.\n        event.preventDefault();\n      },\n      onMouseLeave: function onMouseLeave() {\n        store.dispatch('mouseleave', null);\n      }\n    }, rest);\n  };\n\n  var getItemProps = function getItemProps(providedProps) {\n    var item = providedProps.item,\n        source = providedProps.source,\n        sourceIndex = providedProps.sourceIndex,\n        rest = _objectWithoutProperties(providedProps, _excluded7);\n\n    return _objectSpread({\n      id: \"\".concat(getAutocompleteId(props.id, sourceIndex), \"-item-\").concat(item.__autocomplete_id),\n      role: 'option',\n      'aria-selected': store.getState().activeItemId === item.__autocomplete_id,\n      onMouseMove: function onMouseMove(event) {\n        if (item.__autocomplete_id === store.getState().activeItemId) {\n          return;\n        }\n\n        store.dispatch('mousemove', item.__autocomplete_id);\n        var activeItem = getActiveItem(store.getState());\n\n        if (store.getState().activeItemId !== null && activeItem) {\n          var _item = activeItem.item,\n              itemInputValue = activeItem.itemInputValue,\n              itemUrl = activeItem.itemUrl,\n              _source = activeItem.source;\n\n          _source.onActive(_objectSpread({\n            event: event,\n            item: _item,\n            itemInputValue: itemInputValue,\n            itemUrl: itemUrl,\n            refresh: refresh,\n            source: _source,\n            state: store.getState()\n          }, setters));\n        }\n      },\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the item so it\n        // can remain with the current `activeElement`.\n        event.preventDefault();\n      },\n      onClick: function onClick(event) {\n        var itemInputValue = source.getItemInputValue({\n          item: item,\n          state: store.getState()\n        });\n        var itemUrl = source.getItemUrl({\n          item: item,\n          state: store.getState()\n        }); // If `getItemUrl` is provided, it means that the suggestion\n        // is a link, not plain text that aims at updating the query.\n        // We can therefore skip the state change because it will update\n        // the `activeItemId`, resulting in a UI flash, especially\n        // noticeable on mobile.\n\n        var runPreCommand = itemUrl ? Promise.resolve() : onInput(_objectSpread({\n          event: event,\n          nextState: {\n            isOpen: false\n          },\n          props: props,\n          query: itemInputValue,\n          refresh: refresh,\n          store: store\n        }, setters));\n        runPreCommand.then(function () {\n          source.onSelect(_objectSpread({\n            event: event,\n            item: item,\n            itemInputValue: itemInputValue,\n            itemUrl: itemUrl,\n            refresh: refresh,\n            source: source,\n            state: store.getState()\n          }, setters));\n        });\n      }\n    }, rest);\n  };\n\n  return {\n    getEnvironmentProps: getEnvironmentProps,\n    getRootProps: getRootProps,\n    getFormProps: getFormProps,\n    getLabelProps: getLabelProps,\n    getInputProps: getInputProps,\n    getPanelProps: getPanelProps,\n    getListProps: getListProps,\n    getItemProps: getItemProps\n  };\n}","export function isOrContainsNode(parent, child) {\n  return parent === child || parent.contains(child);\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { userAgents } from '@algolia/autocomplete-shared';\nexport function getMetadata(_ref) {\n  var _, _options$__autocomple, _options$__autocomple2, _options$__autocomple3;\n\n  var plugins = _ref.plugins,\n      options = _ref.options;\n  var optionsKey = (_ = (((_options$__autocomple = options.__autocomplete_metadata) === null || _options$__autocomple === void 0 ? void 0 : _options$__autocomple.userAgents) || [])[0]) === null || _ === void 0 ? void 0 : _.segment;\n  var extraOptions = optionsKey ? _defineProperty({}, optionsKey, Object.keys(((_options$__autocomple2 = options.__autocomplete_metadata) === null || _options$__autocomple2 === void 0 ? void 0 : _options$__autocomple2.options) || {})) : {};\n  return {\n    plugins: plugins.map(function (plugin) {\n      return {\n        name: plugin.name,\n        options: Object.keys(plugin.__autocomplete_pluginOptions || [])\n      };\n    }),\n    options: _objectSpread({\n      'autocomplete-core': Object.keys(options)\n    }, extraOptions),\n    ua: userAgents.concat(((_options$__autocomple3 = options.__autocomplete_metadata) === null || _options$__autocomple3 === void 0 ? void 0 : _options$__autocomple3.userAgents) || [])\n  };\n}\nexport function injectMetadata(_ref3) {\n  var _environment$navigato, _environment$navigato2;\n\n  var metadata = _ref3.metadata,\n      environment = _ref3.environment;\n  var isMetadataEnabled = (_environment$navigato = environment.navigator) === null || _environment$navigato === void 0 ? void 0 : (_environment$navigato2 = _environment$navigato.userAgent) === null || _environment$navigato2 === void 0 ? void 0 : _environment$navigato2.includes('Algolia Crawler');\n\n  if (isMetadataEnabled) {\n    var metadataContainer = environment.document.createElement('meta');\n    var headRef = environment.document.querySelector('head');\n    metadataContainer.name = 'algolia:metadata';\n    setTimeout(function () {\n      metadataContainer.content = JSON.stringify(metadata);\n      headRef.appendChild(metadataContainer);\n    }, 0);\n  }\n}","import { getActiveItem } from './utils';\nexport function getCompletion(_ref) {\n  var _getActiveItem;\n\n  var state = _ref.state;\n\n  if (state.isOpen === false || state.activeItemId === null) {\n    return null;\n  }\n\n  return ((_getActiveItem = getActiveItem(state)) === null || _getActiveItem === void 0 ? void 0 : _getActiveItem.itemInputValue) || null;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, invariant } from '@algolia/autocomplete-shared';\nimport { getCompletion } from './getCompletion';\nimport { getNextActiveItemId } from './utils';\nexport var stateReducer = function stateReducer(state, action) {\n  switch (action.type) {\n    case 'setActiveItemId':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload\n        });\n      }\n\n    case 'setQuery':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          query: action.payload,\n          completion: null\n        });\n      }\n\n    case 'setCollections':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          collections: action.payload\n        });\n      }\n\n    case 'setIsOpen':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isOpen: action.payload\n        });\n      }\n\n    case 'setStatus':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          status: action.payload\n        });\n      }\n\n    case 'setContext':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          context: _objectSpread(_objectSpread({}, state.context), action.payload)\n        });\n      }\n\n    case 'ArrowDown':\n      {\n        var nextState = _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload.hasOwnProperty('nextActiveItemId') ? action.payload.nextActiveItemId : getNextActiveItemId(1, state.activeItemId, getItemsCount(state), action.props.defaultActiveItemId)\n        });\n\n        return _objectSpread(_objectSpread({}, nextState), {}, {\n          completion: getCompletion({\n            state: nextState\n          })\n        });\n      }\n\n    case 'ArrowUp':\n      {\n        var _nextState = _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: getNextActiveItemId(-1, state.activeItemId, getItemsCount(state), action.props.defaultActiveItemId)\n        });\n\n        return _objectSpread(_objectSpread({}, _nextState), {}, {\n          completion: getCompletion({\n            state: _nextState\n          })\n        });\n      }\n\n    case 'Escape':\n      {\n        if (state.isOpen) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            activeItemId: null,\n            isOpen: false,\n            completion: null\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: null,\n          query: '',\n          status: 'idle',\n          collections: []\n        });\n      }\n\n    case 'submit':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: null,\n          isOpen: false,\n          status: 'idle'\n        });\n      }\n\n    case 'reset':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: // Since we open the panel on reset when openOnFocus=true\n          // we need to restore the highlighted index to the defaultActiveItemId. (DocSearch use-case)\n          // Since we close the panel when openOnFocus=false\n          // we lose track of the highlighted index. (Query-suggestions use-case)\n          action.props.openOnFocus === true ? action.props.defaultActiveItemId : null,\n          status: 'idle',\n          query: ''\n        });\n      }\n\n    case 'focus':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.props.defaultActiveItemId,\n          isOpen: (action.props.openOnFocus || Boolean(state.query)) && action.props.shouldPanelOpen({\n            state: state\n          })\n        });\n      }\n\n    case 'blur':\n      {\n        if (action.props.debug) {\n          return state;\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isOpen: false,\n          activeItemId: null\n        });\n      }\n\n    case 'mousemove':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload\n        });\n      }\n\n    case 'mouseleave':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.props.defaultActiveItemId\n        });\n      }\n\n    default:\n      invariant(false, \"The reducer action \".concat(JSON.stringify(action.type), \" is not supported.\"));\n      return state;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkOptions } from './checkOptions';\nimport { createStore } from './createStore';\nimport { getAutocompleteSetters } from './getAutocompleteSetters';\nimport { getDefaultProps } from './getDefaultProps';\nimport { getPropGetters } from './getPropGetters';\nimport { getMetadata, injectMetadata } from './metadata';\nimport { onInput } from './onInput';\nimport { stateReducer } from './stateReducer';\nexport function createAutocomplete(options) {\n  checkOptions(options);\n  var subscribers = [];\n  var props = getDefaultProps(options, subscribers);\n  var store = createStore(stateReducer, props, onStoreStateChange);\n  var setters = getAutocompleteSetters({\n    store: store\n  });\n  var propGetters = getPropGetters(_objectSpread({\n    props: props,\n    refresh: refresh,\n    store: store,\n    navigator: props.navigator\n  }, setters));\n\n  function onStoreStateChange(_ref) {\n    var prevState = _ref.prevState,\n        state = _ref.state;\n    props.onStateChange(_objectSpread({\n      prevState: prevState,\n      state: state,\n      refresh: refresh,\n      navigator: props.navigator\n    }, setters));\n  }\n\n  function refresh() {\n    return onInput(_objectSpread({\n      event: new Event('input'),\n      nextState: {\n        isOpen: store.getState().isOpen\n      },\n      props: props,\n      navigator: props.navigator,\n      query: store.getState().query,\n      refresh: refresh,\n      store: store\n    }, setters));\n  }\n\n  props.plugins.forEach(function (plugin) {\n    var _plugin$subscribe;\n\n    return (_plugin$subscribe = plugin.subscribe) === null || _plugin$subscribe === void 0 ? void 0 : _plugin$subscribe.call(plugin, _objectSpread(_objectSpread({}, setters), {}, {\n      navigator: props.navigator,\n      refresh: refresh,\n      onSelect: function onSelect(fn) {\n        subscribers.push({\n          onSelect: fn\n        });\n      },\n      onActive: function onActive(fn) {\n        subscribers.push({\n          onActive: fn\n        });\n      },\n      onResolve: function onResolve(fn) {\n        subscribers.push({\n          onResolve: fn\n        });\n      }\n    }));\n  });\n  injectMetadata({\n    metadata: getMetadata({\n      plugins: props.plugins,\n      options: options\n    }),\n    environment: props.environment\n  });\n  return _objectSpread(_objectSpread({\n    refresh: refresh,\n    navigator: props.navigator\n  }, propGetters), setters);\n}","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import { AutocompleteEnvironment } from '@algolia/autocomplete-core';\n\nimport { AutocompleteElement } from '../types/AutocompleteElement';\n\nexport const ClearIcon: AutocompleteElement<\n  { environment: AutocompleteEnvironment },\n  SVGSVGElement\n> = ({ environment }) => {\n  const element = environment.document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'svg'\n  );\n  element.setAttribute('class', 'aa-ClearIcon');\n  element.setAttribute('viewBox', '0 0 24 24');\n  element.setAttribute('width', '18');\n  element.setAttribute('height', '18');\n  element.setAttribute('fill', 'currentColor');\n\n  const path = environment.document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'path'\n  );\n  path.setAttribute(\n    'd',\n    'M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z'\n  );\n\n  element.appendChild(path);\n\n  return element;\n};\n","import { AutocompleteEnvironment } from '@algolia/autocomplete-core';\nimport { invariant } from '@algolia/autocomplete-shared';\n\nexport function getHTMLElement(\n  environment: AutocompleteEnvironment,\n  value: string | HTMLElement\n): HTMLElement {\n  if (typeof value === 'string') {\n    const element = environment.document.querySelector<HTMLElement>(value);\n\n    invariant(\n      element !== null,\n      `The element ${JSON.stringify(value)} is not in the document.`\n    );\n\n    return element!;\n  }\n\n  return value;\n}\n","import { AutocompleteClassNames } from '../types';\n\nexport function mergeClassNames(\n  ...values: Array<Partial<AutocompleteClassNames>>\n) {\n  return values.reduce((acc, current) => {\n    Object.keys(current).forEach((key) => {\n      const accValue = acc[key];\n      const currentValue = current[key];\n\n      if (accValue !== currentValue) {\n        acc[key] = [accValue, currentValue].filter(Boolean).join(' ');\n      }\n    });\n\n    return acc;\n  }, {});\n}\n","const isPlainObject = (value: unknown) =>\n  value &&\n  typeof value === 'object' &&\n  Object.prototype.toString.call(value) === '[object Object]';\n\nexport function mergeDeep(...values: any[]) {\n  return values.reduce((acc, current) => {\n    Object.keys(current).forEach((key) => {\n      const accValue = acc[key];\n      const currentValue = current[key];\n\n      if (Array.isArray(accValue) && Array.isArray(currentValue)) {\n        acc[key] = accValue.concat(...currentValue);\n      } else if (isPlainObject(accValue) && isPlainObject(currentValue)) {\n        acc[key] = mergeDeep(accValue, currentValue);\n      } else {\n        acc[key] = currentValue;\n      }\n    });\n\n    return acc;\n  }, {});\n}\n","export function pickBy<TValue = unknown>(\n  obj: Record<string, TValue>,\n  predicate: (value: { key: string; value: TValue }) => boolean\n) {\n  return Object.entries(obj).reduce<Record<string, TValue>>(\n    (acc, [key, value]) => {\n      if (predicate({ key, value })) {\n        return { ...acc, [key]: value };\n      }\n\n      return acc;\n    },\n    {}\n  );\n}\n","/* eslint-disable */\n\n/**\n * Touch-specific event aliases\n *\n * See https://w3c.github.io/touch-events/#extensions-to-the-globaleventhandlers-mixin\n */\nconst TOUCH_EVENTS_ALIASES = [\n  'ontouchstart',\n  'ontouchend',\n  'ontouchmove',\n  'ontouchcancel',\n];\n\n/*\n * Taken from Preact\n *\n * See https://github.com/preactjs/preact/blob/6ab49d9020740127577bf4af66bf63f4af7f9fee/src/diff/props.js#L58-L151\n */\n\nfunction setStyle(style: object, key: string, value: any) {\n  if (value === null) {\n    style[key] = '';\n  } else if (typeof value !== 'number') {\n    style[key] = value;\n  } else {\n    style[key] = value + 'px';\n  }\n}\n\n/**\n * Proxy an event to hooked event handlers\n */\nfunction eventProxy(this: any, event: Event) {\n  this._listeners[event.type](event);\n}\n\n/**\n * Set a property value on a DOM node\n */\nexport function setProperty(dom: HTMLElement, name: string, value: any) {\n  let useCapture: boolean;\n  let nameLower: string;\n  let oldValue = dom[name];\n\n  if (name === 'style') {\n    if (typeof value == 'string') {\n      (dom as any).style = value;\n    } else {\n      if (value === null) {\n        (dom as any).style = '';\n      } else {\n        for (name in value) {\n          if (!oldValue || value[name] !== oldValue[name]) {\n            setStyle(dom.style, name, value[name]);\n          }\n        }\n      }\n    }\n  }\n  // Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n  else if (name[0] === 'o' && name[1] === 'n') {\n    useCapture = name !== (name = name.replace(/Capture$/, ''));\n    nameLower = name.toLowerCase();\n    if (nameLower in dom || TOUCH_EVENTS_ALIASES.includes(nameLower))\n      name = nameLower;\n    name = name.slice(2);\n\n    if (!(dom as any)._listeners) (dom as any)._listeners = {};\n    (dom as any)._listeners[name] = value;\n\n    if (value) {\n      if (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n    } else {\n      dom.removeEventListener(name, eventProxy, useCapture);\n    }\n  } else if (\n    name !== 'list' &&\n    name !== 'tagName' &&\n    // HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n    // setAttribute\n    name !== 'form' &&\n    name !== 'type' &&\n    name !== 'size' &&\n    name !== 'download' &&\n    name !== 'href' &&\n    name in dom\n  ) {\n    dom[name] = value == null ? '' : value;\n  } else if (typeof value != 'function' && name !== 'dangerouslySetInnerHTML') {\n    if (\n      value == null ||\n      (value === false &&\n        // ARIA-attributes have a different notion of boolean values.\n        // The value `false` is different from the attribute not\n        // existing on the DOM, so we can't remove it. For non-boolean\n        // ARIA-attributes we could treat false as a removal, but the\n        // amount of exceptions would cost us too many bytes. On top of\n        // that other VDOM frameworks also always stringify `false`.\n        !/^ar/.test(name))\n    ) {\n      dom.removeAttribute(name);\n    } else {\n      dom.setAttribute(name, value);\n    }\n  }\n}\n\nfunction getNormalizedName(name: string): string {\n  switch (name) {\n    case 'onChange':\n      return 'onInput';\n    default:\n      return name;\n  }\n}\n\nexport function setProperties(dom: HTMLElement, props: object): void {\n  for (const name in props) {\n    setProperty(dom, getNormalizedName(name), props[name]);\n  }\n}\n\nexport function setPropertiesWithoutEvents(\n  dom: HTMLElement,\n  props: object\n): void {\n  for (const name in props) {\n    if (!(name[0] === 'o' && name[1] === 'n')) {\n      setProperty(dom, getNormalizedName(name), props[name]);\n    }\n  }\n}\n","import { AutocompleteEnvironment } from '@algolia/autocomplete-core';\n\nimport { setProperties } from './utils';\n\ntype CreateDomElementProps = Record<string, unknown> & {\n  children?: Node[];\n};\n\nexport function getCreateDomElement(environment: AutocompleteEnvironment) {\n  return function createDomElement<KParam extends keyof HTMLElementTagNameMap>(\n    tagName: KParam,\n    { children = [], ...props }: CreateDomElementProps\n  ): HTMLElementTagNameMap[KParam] {\n    const element = environment.document.createElement<KParam>(tagName);\n    setProperties(element, props);\n    element.append(...children);\n\n    return element;\n  };\n}\n","import { AutocompleteEnvironment } from '@algolia/autocomplete-core';\n\nimport { AutocompleteElement } from '../types/AutocompleteElement';\n\nexport const LoadingIcon: AutocompleteElement<\n  { environment: AutocompleteEnvironment },\n  SVGSVGElement\n> = ({ environment }) => {\n  const element = environment.document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'svg'\n  );\n  element.setAttribute('class', 'aa-LoadingIcon');\n  element.setAttribute('viewBox', '0 0 100 100');\n  element.setAttribute('width', '20');\n  element.setAttribute('height', '20');\n\n  element.innerHTML = `<circle\n  cx=\"50\"\n  cy=\"50\"\n  fill=\"none\"\n  r=\"35\"\n  stroke=\"currentColor\"\n  stroke-dasharray=\"164.93361431346415 56.97787143782138\"\n  stroke-width=\"6\"\n>\n  <animateTransform\n    attributeName=\"transform\"\n    type=\"rotate\"\n    repeatCount=\"indefinite\"\n    dur=\"1s\"\n    values=\"0 50 50;90 50 50;180 50 50;360 50 50\"\n    keyTimes=\"0;0.40;0.65;1\"\n  />\n</circle>`;\n\n  return element;\n};\n","import { AutocompleteEnvironment } from '@algolia/autocomplete-core';\n\nimport { AutocompleteElement } from '../types/AutocompleteElement';\n\nexport const SearchIcon: AutocompleteElement<\n  { environment: AutocompleteEnvironment },\n  SVGSVGElement\n> = ({ environment }) => {\n  const element = environment.document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'svg'\n  );\n  element.setAttribute('class', 'aa-SubmitIcon');\n  element.setAttribute('viewBox', '0 0 24 24');\n  element.setAttribute('width', '20');\n  element.setAttribute('height', '20');\n  element.setAttribute('fill', 'currentColor');\n\n  const path = environment.document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'path'\n  );\n  path.setAttribute(\n    'd',\n    'M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z'\n  );\n\n  element.appendChild(path);\n\n  return element;\n};\n","import {\n  AutocompleteApi as AutocompleteCoreApi,\n  AutocompleteEnvironment,\n  AutocompleteScopeApi,\n  BaseItem,\n} from '@algolia/autocomplete-core';\n\nimport { ClearIcon, Input, LoadingIcon, SearchIcon } from './elements';\nimport { getCreateDomElement } from './getCreateDomElement';\nimport {\n  AutocompleteClassNames,\n  AutocompleteDom,\n  AutocompletePropGetters,\n  AutocompleteState,\n  AutocompleteTranslations,\n} from './types';\nimport { setProperties } from './utils';\n\ntype CreateDomProps<TItem extends BaseItem> = {\n  autocomplete: AutocompleteCoreApi<TItem>;\n  autocompleteScopeApi: AutocompleteScopeApi<TItem>;\n  classNames: AutocompleteClassNames;\n  environment: AutocompleteEnvironment;\n  isDetached: boolean;\n  placeholder?: string;\n  propGetters: AutocompletePropGetters<TItem>;\n  setIsModalOpen(value: boolean): void;\n  state: AutocompleteState<TItem>;\n  translations: AutocompleteTranslations;\n};\n\nexport function createAutocompleteDom<TItem extends BaseItem>({\n  autocomplete,\n  autocompleteScopeApi,\n  classNames,\n  environment,\n  isDetached,\n  placeholder = 'Search',\n  propGetters,\n  setIsModalOpen,\n  state,\n  translations,\n}: CreateDomProps<TItem>): AutocompleteDom {\n  const createDomElement = getCreateDomElement(environment);\n\n  const rootProps = propGetters.getRootProps({\n    state,\n    props: autocomplete.getRootProps({}),\n    ...autocompleteScopeApi,\n  });\n  const root = createDomElement('div', {\n    class: classNames.root,\n    ...rootProps,\n  });\n  const detachedContainer = createDomElement('div', {\n    class: classNames.detachedContainer,\n    onMouseDown(event: MouseEvent) {\n      event.stopPropagation();\n    },\n  });\n  const detachedOverlay = createDomElement('div', {\n    class: classNames.detachedOverlay,\n    children: [detachedContainer],\n    onMouseDown() {\n      setIsModalOpen(false);\n      autocomplete.setIsOpen(false);\n    },\n  });\n\n  const labelProps = propGetters.getLabelProps({\n    state,\n    props: autocomplete.getLabelProps({}),\n    ...autocompleteScopeApi,\n  });\n  const submitButton = createDomElement('button', {\n    class: classNames.submitButton,\n    type: 'submit',\n    title: translations.submitButtonTitle,\n    children: [SearchIcon({ environment })],\n  });\n  const label = createDomElement('label', {\n    class: classNames.label,\n    children: [submitButton],\n    ...labelProps,\n  });\n  const clearButton = createDomElement('button', {\n    class: classNames.clearButton,\n    type: 'reset',\n    title: translations.clearButtonTitle,\n    children: [ClearIcon({ environment })],\n  });\n  const loadingIndicator = createDomElement('div', {\n    class: classNames.loadingIndicator,\n    children: [LoadingIcon({ environment })],\n  });\n\n  const input = Input({\n    class: classNames.input,\n    environment,\n    state,\n    getInputProps: propGetters.getInputProps,\n    getInputPropsCore: autocomplete.getInputProps,\n    autocompleteScopeApi,\n    isDetached,\n  });\n\n  const inputWrapperPrefix = createDomElement('div', {\n    class: classNames.inputWrapperPrefix,\n    children: [label, loadingIndicator],\n  });\n  const inputWrapperSuffix = createDomElement('div', {\n    class: classNames.inputWrapperSuffix,\n    children: [clearButton],\n  });\n  const inputWrapper = createDomElement('div', {\n    class: classNames.inputWrapper,\n    children: [input],\n  });\n\n  const formProps = propGetters.getFormProps({\n    state,\n    props: autocomplete.getFormProps({ inputElement: input }),\n    ...autocompleteScopeApi,\n  });\n  const form = createDomElement('form', {\n    class: classNames.form,\n    children: [inputWrapperPrefix, inputWrapper, inputWrapperSuffix],\n    ...formProps,\n  });\n  const panelProps = propGetters.getPanelProps({\n    state,\n    props: autocomplete.getPanelProps({}),\n    ...autocompleteScopeApi,\n  });\n  const panel = createDomElement('div', {\n    class: classNames.panel,\n    ...panelProps,\n  });\n\n  const detachedSearchButtonQuery = createDomElement('div', {\n    class: classNames.detachedSearchButtonQuery,\n    textContent: state.query,\n  });\n  const detachedSearchButtonPlaceholder = createDomElement('div', {\n    class: classNames.detachedSearchButtonPlaceholder,\n    hidden: Boolean(state.query),\n    textContent: placeholder,\n  });\n\n  if (__TEST__) {\n    setProperties(panel, {\n      'data-testid': 'panel',\n    });\n  }\n\n  if (isDetached) {\n    const detachedSearchButtonIcon = createDomElement('div', {\n      class: classNames.detachedSearchButtonIcon,\n      children: [SearchIcon({ environment })],\n    });\n    const detachedSearchButton = createDomElement('button', {\n      type: 'button',\n      class: classNames.detachedSearchButton,\n      onClick() {\n        setIsModalOpen(true);\n      },\n      children: [\n        detachedSearchButtonIcon,\n        detachedSearchButtonPlaceholder,\n        detachedSearchButtonQuery,\n      ],\n    });\n    const detachedCancelButton = createDomElement('button', {\n      type: 'button',\n      class: classNames.detachedCancelButton,\n      textContent: translations.detachedCancelButtonText,\n      // Prevent `onTouchStart` from closing the panel\n      // since it should be initiated by `onClick` only\n      onTouchStart(event: TouchEvent) {\n        event.stopPropagation();\n      },\n      onClick() {\n        autocomplete.setIsOpen(false);\n        setIsModalOpen(false);\n      },\n    });\n    const detachedFormContainer = createDomElement('div', {\n      class: classNames.detachedFormContainer,\n      children: [form, detachedCancelButton],\n    });\n\n    detachedContainer.appendChild(detachedFormContainer);\n    root.appendChild(detachedSearchButton);\n  } else {\n    root.appendChild(form);\n  }\n\n  return {\n    detachedContainer,\n    detachedOverlay,\n    detachedSearchButtonQuery,\n    detachedSearchButtonPlaceholder,\n    inputWrapper,\n    input,\n    root,\n    form,\n    label,\n    submitButton,\n    clearButton,\n    loadingIndicator,\n    panel,\n  };\n}\n","import {\n  AutocompleteApi as AutocompleteCoreApi,\n  AutocompleteEnvironment,\n  AutocompleteScopeApi,\n} from '@algolia/autocomplete-core';\n\nimport { getCreateDomElement } from '../getCreateDomElement';\nimport { AutocompletePropGetters, AutocompleteState } from '../types';\nimport { AutocompleteElement } from '../types/AutocompleteElement';\nimport { setProperties } from '../utils';\n\ntype InputProps = {\n  autocompleteScopeApi: AutocompleteScopeApi<any>;\n  environment: AutocompleteEnvironment;\n  getInputProps: AutocompletePropGetters<any>['getInputProps'];\n  getInputPropsCore: AutocompleteCoreApi<any>['getInputProps'];\n  isDetached: boolean;\n  state: AutocompleteState<any>;\n};\n\nexport const Input: AutocompleteElement<InputProps, HTMLInputElement> = ({\n  autocompleteScopeApi,\n  environment,\n  classNames,\n  getInputProps,\n  getInputPropsCore,\n  isDetached,\n  state,\n  ...props\n}) => {\n  const createDomElement = getCreateDomElement(environment);\n  const element = createDomElement('input', props);\n  const inputProps = getInputProps({\n    state,\n    props: getInputPropsCore({ inputElement: element }),\n    inputElement: element,\n    ...autocompleteScopeApi,\n  });\n\n  setProperties(element, {\n    ...inputProps,\n    onKeyDown(event: KeyboardEvent) {\n      // In detached mode we don't want to close the panel when hitting `Tab`.\n      if (isDetached && event.key === 'Tab') {\n        return;\n      }\n\n      inputProps.onKeyDown(event);\n    },\n  });\n\n  return element;\n};\n","var n,l,u,i,t,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return y(l,f,t,r,null)}function y(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,r,o;n.__d&&(r=(t=(l=n).__v).__e,(o=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(o,t,i,l.__n,void 0!==o.ownerSVGElement,null!=t.__h?[r]:null,u,null==r?k(t):r,t.__h),z(u,t),t.__e!=r&&b(t)))})}function w(n,l,u,i,t,r,o,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,r,o,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function C(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||H(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||H(n,r,l[r],u[r],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?T:I,r):n.removeEventListener(l,r?T:I,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,r,o,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,r,o,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,r,o,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,r,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&k(i,0),c),null!=o)for(_=o.length;_--;)null!=o[_]&&h(o[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==y.value||_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&N(t[r],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!r&&t||i).__k=v(d,null,[u]),o||e,e,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,r,o,f=a({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,r||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","export var HIGHLIGHT_PRE_TAG = '__aa-highlight__';\nexport var HIGHLIGHT_POST_TAG = '__/aa-highlight__';","import { HIGHLIGHT_PRE_TAG, HIGHLIGHT_POST_TAG } from '../constants';\n\n/**\n * Creates a data structure that allows to concatenate similar highlighting\n * parts in a single value.\n */\nfunction createAttributeSet() {\n  var initialValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var value = initialValue;\n  return {\n    get: function get() {\n      return value;\n    },\n    add: function add(part) {\n      var lastPart = value[value.length - 1];\n\n      if ((lastPart === null || lastPart === void 0 ? void 0 : lastPart.isHighlighted) === part.isHighlighted) {\n        value[value.length - 1] = {\n          value: lastPart.value + part.value,\n          isHighlighted: lastPart.isHighlighted\n        };\n      } else {\n        value.push(part);\n      }\n    }\n  };\n}\n\nexport function parseAttribute(_ref) {\n  var highlightedValue = _ref.highlightedValue;\n  var preTagParts = highlightedValue.split(HIGHLIGHT_PRE_TAG);\n  var firstValue = preTagParts.shift();\n  var parts = createAttributeSet(firstValue ? [{\n    value: firstValue,\n    isHighlighted: false\n  }] : []);\n  preTagParts.forEach(function (part) {\n    var postTagParts = part.split(HIGHLIGHT_POST_TAG);\n    parts.add({\n      value: postTagParts[0],\n      isHighlighted: true\n    });\n\n    if (postTagParts[1] !== '') {\n      parts.add({\n        value: postTagParts[1],\n        isHighlighted: false\n      });\n    }\n  });\n  return parts.get();\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { getAttributeValueByPath, warn } from '@algolia/autocomplete-shared';\nimport { parseAttribute } from './parseAttribute';\nexport function parseAlgoliaHitHighlight(_ref) {\n  var hit = _ref.hit,\n      attribute = _ref.attribute;\n  var path = Array.isArray(attribute) ? attribute : [attribute];\n  var highlightedValue = getAttributeValueByPath(hit, ['_highlightResult'].concat(_toConsumableArray(path), ['value']));\n\n  if (typeof highlightedValue !== 'string') {\n    process.env.NODE_ENV !== 'production' ? warn(false, \"The attribute \\\"\".concat(path.join('.'), \"\\\" described by the path \").concat(JSON.stringify(path), \" does not exist on the hit. Did you set it in `attributesToHighlight`?\") + '\\nSee https://www.algolia.com/doc/api-reference/api-parameters/attributesToHighlight/') : void 0;\n    highlightedValue = getAttributeValueByPath(hit, path) || '';\n  }\n\n  return parseAttribute({\n    highlightedValue: highlightedValue\n  });\n}","var htmlEscapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\nvar hasAlphanumeric = new RegExp(/\\w/i);\nvar regexEscapedHtml = /&(amp|quot|lt|gt|#39);/g;\nvar regexHasEscapedHtml = RegExp(regexEscapedHtml.source);\n\nfunction unescape(value) {\n  return value && regexHasEscapedHtml.test(value) ? value.replace(regexEscapedHtml, function (character) {\n    return htmlEscapes[character];\n  }) : value;\n}\n\nexport function isPartHighlighted(parts, i) {\n  var _parts, _parts2;\n\n  var current = parts[i];\n  var isNextHighlighted = ((_parts = parts[i + 1]) === null || _parts === void 0 ? void 0 : _parts.isHighlighted) || true;\n  var isPreviousHighlighted = ((_parts2 = parts[i - 1]) === null || _parts2 === void 0 ? void 0 : _parts2.isHighlighted) || true;\n\n  if (!hasAlphanumeric.test(unescape(current.value)) && isPreviousHighlighted === isNextHighlighted) {\n    return isPreviousHighlighted;\n  }\n\n  return current.isHighlighted;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isPartHighlighted } from './isPartHighlighted';\nexport function reverseHighlightedParts(parts) {\n  // We don't want to highlight the whole word when no parts match.\n  if (!parts.some(function (part) {\n    return part.isHighlighted;\n  })) {\n    return parts.map(function (part) {\n      return _objectSpread(_objectSpread({}, part), {}, {\n        isHighlighted: false\n      });\n    });\n  }\n\n  return parts.map(function (part, i) {\n    return _objectSpread(_objectSpread({}, part), {}, {\n      isHighlighted: !isPartHighlighted(parts, i)\n    });\n  });\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { getAttributeValueByPath, warn } from '@algolia/autocomplete-shared';\nimport { parseAttribute } from './parseAttribute';\nexport function parseAlgoliaHitSnippet(_ref) {\n  var hit = _ref.hit,\n      attribute = _ref.attribute;\n  var path = Array.isArray(attribute) ? attribute : [attribute];\n  var highlightedValue = getAttributeValueByPath(hit, ['_snippetResult'].concat(_toConsumableArray(path), ['value']));\n\n  if (typeof highlightedValue !== 'string') {\n    process.env.NODE_ENV !== 'production' ? warn(false, \"The attribute \\\"\".concat(path.join('.'), \"\\\" described by the path \").concat(JSON.stringify(path), \" does not exist on the hit. Did you set it in `attributesToSnippet`?\") + '\\nSee https://www.algolia.com/doc/api-reference/api-parameters/attributesToSnippet/') : void 0;\n    highlightedValue = getAttributeValueByPath(hit, path) || '';\n  }\n\n  return parseAttribute({\n    highlightedValue: highlightedValue\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function createRequester(fetcher, requesterId) {\n  function execute(fetcherParams) {\n    return fetcher({\n      searchClient: fetcherParams.searchClient,\n      queries: fetcherParams.requests.map(function (x) {\n        return x.query;\n      })\n    }).then(function (responses) {\n      return responses.map(function (response, index) {\n        var _fetcherParams$reques = fetcherParams.requests[index],\n            sourceId = _fetcherParams$reques.sourceId,\n            transformResponse = _fetcherParams$reques.transformResponse;\n        return {\n          items: response,\n          sourceId: sourceId,\n          transformResponse: transformResponse\n        };\n      });\n    });\n  }\n\n  return function createSpecifiedRequester(requesterParams) {\n    return function requester(requestParams) {\n      return _objectSpread(_objectSpread({\n        requesterId: requesterId,\n        execute: execute\n      }, requesterParams), requestParams);\n    };\n  };\n}","var _excluded = [\"params\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { userAgents as coreUserAgents } from '@algolia/autocomplete-shared';\nimport { HIGHLIGHT_PRE_TAG, HIGHLIGHT_POST_TAG } from '../constants';\nexport function fetchAlgoliaResults(_ref) {\n  var searchClient = _ref.searchClient,\n      queries = _ref.queries,\n      _ref$userAgents = _ref.userAgents,\n      userAgents = _ref$userAgents === void 0 ? [] : _ref$userAgents;\n\n  if (typeof searchClient.addAlgoliaAgent === 'function') {\n    var algoliaAgents = [].concat(_toConsumableArray(coreUserAgents), _toConsumableArray(userAgents));\n    algoliaAgents.forEach(function (_ref2) {\n      var segment = _ref2.segment,\n          version = _ref2.version;\n      searchClient.addAlgoliaAgent(segment, version);\n    });\n  }\n\n  return searchClient.search(queries.map(function (searchParameters) {\n    var params = searchParameters.params,\n        headers = _objectWithoutProperties(searchParameters, _excluded);\n\n    return _objectSpread(_objectSpread({}, headers), {}, {\n      params: _objectSpread({\n        hitsPerPage: 5,\n        highlightPreTag: HIGHLIGHT_PRE_TAG,\n        highlightPostTag: HIGHLIGHT_POST_TAG\n      }, params)\n    });\n  })).then(function (response) {\n    return response.results;\n  });\n}","import { parseAlgoliaHitHighlight } from '@algolia/autocomplete-preset-algolia';\n\nimport { AutocompleteRenderer, HighlightHitParams } from '../types';\n\nexport function createHighlightComponent({\n  createElement,\n  Fragment,\n}: AutocompleteRenderer) {\n  function Highlight<THit>({\n    hit,\n    attribute,\n    tagName = 'mark',\n  }: HighlightHitParams<THit>): JSX.Element {\n    return createElement(\n      Fragment,\n      {},\n      parseAlgoliaHitHighlight<THit>({ hit, attribute }).map((x, index) =>\n        x.isHighlighted\n          ? createElement(tagName, { key: index }, x.value)\n          : x.value\n      )\n    );\n  }\n\n  Highlight.__autocomplete_componentName = 'Highlight';\n\n  return Highlight;\n}\n","import { parseAlgoliaHitReverseHighlight } from '@algolia/autocomplete-preset-algolia';\n\nimport { AutocompleteRenderer, HighlightHitParams } from '../types';\n\nexport function createReverseHighlightComponent({\n  createElement,\n  Fragment,\n}: AutocompleteRenderer) {\n  function ReverseHighlight<THit>({\n    hit,\n    attribute,\n    tagName = 'mark',\n  }: HighlightHitParams<THit>): JSX.Element {\n    return createElement(\n      Fragment,\n      {},\n      parseAlgoliaHitReverseHighlight<THit>({\n        hit,\n        attribute,\n      }).map((x, index) =>\n        x.isHighlighted\n          ? createElement(tagName, { key: index }, x.value)\n          : x.value\n      )\n    );\n  }\n\n  ReverseHighlight.__autocomplete_componentName = 'ReverseHighlight';\n\n  return ReverseHighlight;\n}\n","import { parseAlgoliaHitHighlight } from './parseAlgoliaHitHighlight';\nimport { reverseHighlightedParts } from './reverseHighlightedParts';\nexport function parseAlgoliaHitReverseHighlight(props) {\n  return reverseHighlightedParts(parseAlgoliaHitHighlight(props));\n}","import { parseAlgoliaHitReverseSnippet } from '@algolia/autocomplete-preset-algolia';\n\nimport { AutocompleteRenderer, HighlightHitParams } from '../types';\n\nexport function createReverseSnippetComponent({\n  createElement,\n  Fragment,\n}: AutocompleteRenderer) {\n  function ReverseSnippet<THit>({\n    hit,\n    attribute,\n    tagName = 'mark',\n  }: HighlightHitParams<THit>): JSX.Element {\n    return createElement(\n      Fragment,\n      {},\n      parseAlgoliaHitReverseSnippet<THit>({\n        hit,\n        attribute,\n      }).map((x, index) =>\n        x.isHighlighted\n          ? createElement(tagName, { key: index }, x.value)\n          : x.value\n      )\n    );\n  }\n\n  ReverseSnippet.__autocomplete_componentName = 'ReverseSnippet';\n\n  return ReverseSnippet;\n}\n","import { parseAlgoliaHitSnippet } from './parseAlgoliaHitSnippet';\nimport { reverseHighlightedParts } from './reverseHighlightedParts';\nexport function parseAlgoliaHitReverseSnippet(props) {\n  return reverseHighlightedParts(parseAlgoliaHitSnippet(props));\n}","import { parseAlgoliaHitSnippet } from '@algolia/autocomplete-preset-algolia';\n\nimport { AutocompleteRenderer, HighlightHitParams } from '../types';\n\nexport function createSnippetComponent({\n  createElement,\n  Fragment,\n}: AutocompleteRenderer) {\n  function Snippet<THit>({\n    hit,\n    attribute,\n    tagName = 'mark',\n  }: HighlightHitParams<THit>): JSX.Element {\n    return createElement(\n      Fragment,\n      {},\n      parseAlgoliaHitSnippet<THit>({ hit, attribute }).map((x, index) =>\n        x.isHighlighted\n          ? createElement(tagName, { key: index }, x.value)\n          : x.value\n      )\n    );\n  }\n\n  Snippet.__autocomplete_componentName = 'Snippet';\n\n  return Snippet;\n}\n","import { AutocompleteEnvironment, BaseItem } from '@algolia/autocomplete-core';\nimport {\n  generateAutocompleteId,\n  invariant,\n  warn,\n} from '@algolia/autocomplete-shared';\nimport {\n  createElement as preactCreateElement,\n  Fragment as PreactFragment,\n  render,\n} from 'preact';\n\nimport {\n  createHighlightComponent,\n  createReverseHighlightComponent,\n  createReverseSnippetComponent,\n  createSnippetComponent,\n} from './components';\nimport {\n  AutocompleteClassNames,\n  AutocompleteComponents,\n  AutocompleteOptions,\n  AutocompleteRender,\n  AutocompleteRenderer,\n  AutocompleteTranslations,\n} from './types';\nimport { getHTMLElement, mergeClassNames } from './utils';\n\nconst defaultClassNames: AutocompleteClassNames = {\n  clearButton: 'aa-ClearButton',\n  detachedCancelButton: 'aa-DetachedCancelButton',\n  detachedContainer: 'aa-DetachedContainer',\n  detachedFormContainer: 'aa-DetachedFormContainer',\n  detachedOverlay: 'aa-DetachedOverlay',\n  detachedSearchButton: 'aa-DetachedSearchButton',\n  detachedSearchButtonIcon: 'aa-DetachedSearchButtonIcon',\n  detachedSearchButtonPlaceholder: 'aa-DetachedSearchButtonPlaceholder',\n  detachedSearchButtonQuery: 'aa-DetachedSearchButtonQuery',\n  form: 'aa-Form',\n  input: 'aa-Input',\n  inputWrapper: 'aa-InputWrapper',\n  inputWrapperPrefix: 'aa-InputWrapperPrefix',\n  inputWrapperSuffix: 'aa-InputWrapperSuffix',\n  item: 'aa-Item',\n  label: 'aa-Label',\n  list: 'aa-List',\n  loadingIndicator: 'aa-LoadingIndicator',\n  panel: 'aa-Panel',\n  panelLayout: 'aa-PanelLayout aa-Panel--scrollable',\n  root: 'aa-Autocomplete',\n  source: 'aa-Source',\n  sourceFooter: 'aa-SourceFooter',\n  sourceHeader: 'aa-SourceHeader',\n  sourceNoResults: 'aa-SourceNoResults',\n  submitButton: 'aa-SubmitButton',\n};\n\nconst defaultRender: AutocompleteRender<any> = ({ children, render }, root) => {\n  render(children, root);\n};\n\nconst defaultRenderer: Required<AutocompleteRenderer> = {\n  createElement: preactCreateElement,\n  Fragment: PreactFragment,\n  render,\n};\n\nexport function getDefaultOptions<TItem extends BaseItem>(\n  options: AutocompleteOptions<TItem>\n) {\n  const {\n    classNames,\n    container,\n    getEnvironmentProps,\n    getFormProps,\n    getInputProps,\n    getItemProps,\n    getLabelProps,\n    getListProps,\n    getPanelProps,\n    getRootProps,\n    panelContainer,\n    panelPlacement,\n    render,\n    renderNoResults,\n    renderer,\n    detachedMediaQuery,\n    components,\n    translations,\n    ...core\n  } = options;\n\n  /* eslint-disable no-restricted-globals */\n  const environment: AutocompleteEnvironment = (typeof window !== 'undefined'\n    ? window\n    : {}) as typeof window;\n  /* eslint-enable no-restricted-globals */\n  const containerElement = getHTMLElement(environment, container);\n\n  invariant(\n    containerElement.tagName !== 'INPUT',\n    'The `container` option does not support `input` elements. You need to change the container to a `div`.'\n  );\n\n  warn(\n    !(render && renderer && !renderer?.render),\n    `You provided the \\`render\\` option but did not provide a \\`renderer.render\\`. Since v1.6.0, you can provide a \\`render\\` function directly in \\`renderer\\`.` +\n      `\\nTo get rid of this warning, do any of the following depending on your use case.` +\n      \"\\n- If you are using the `render` option only to override Autocomplete's default `render` function, pass the `render` function into `renderer` and remove the `render` option.\" +\n      '\\n- If you are using the `render` option to customize the layout, pass your `render` function into `renderer` and use it from the provided parameters of the `render` option.' +\n      '\\n- If you are using the `render` option to work with React 18, pass an empty `render` function into `renderer`.' +\n      '\\nSee https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-js/autocomplete/#param-render'\n  );\n\n  warn(\n    !renderer ||\n      render ||\n      (renderer.Fragment && renderer.createElement && renderer.render),\n    `You provided an incomplete \\`renderer\\` (missing: ${[\n      !renderer?.createElement && '`renderer.createElement`',\n      !renderer?.Fragment && '`renderer.Fragment`',\n      !renderer?.render && '`renderer.render`',\n    ]\n      .filter(Boolean)\n      .join(', ')}). This can cause rendering issues.` +\n      '\\nSee https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-js/autocomplete/#param-renderer'\n  );\n\n  const defaultedRenderer = { ...defaultRenderer, ...renderer };\n\n  const defaultComponents: AutocompleteComponents = {\n    Highlight: createHighlightComponent(defaultedRenderer),\n    ReverseHighlight: createReverseHighlightComponent(defaultedRenderer),\n    ReverseSnippet: createReverseSnippetComponent(defaultedRenderer),\n    Snippet: createSnippetComponent(defaultedRenderer),\n  };\n\n  const defaultTranslations: AutocompleteTranslations = {\n    clearButtonTitle: 'Clear',\n    detachedCancelButtonText: 'Cancel',\n    submitButtonTitle: 'Submit',\n  };\n\n  return {\n    renderer: {\n      classNames: mergeClassNames(\n        defaultClassNames,\n        classNames ?? {}\n      ) as AutocompleteClassNames,\n      container: containerElement,\n      getEnvironmentProps: getEnvironmentProps ?? (({ props }) => props),\n      getFormProps: getFormProps ?? (({ props }) => props),\n      getInputProps: getInputProps ?? (({ props }) => props),\n      getItemProps: getItemProps ?? (({ props }) => props),\n      getLabelProps: getLabelProps ?? (({ props }) => props),\n      getListProps: getListProps ?? (({ props }) => props),\n      getPanelProps: getPanelProps ?? (({ props }) => props),\n      getRootProps: getRootProps ?? (({ props }) => props),\n      panelContainer: panelContainer\n        ? getHTMLElement(environment, panelContainer)\n        : environment.document.body,\n      panelPlacement: panelPlacement ?? 'input-wrapper-width',\n      render: render ?? defaultRender,\n      renderNoResults,\n      renderer: defaultedRenderer,\n      detachedMediaQuery:\n        detachedMediaQuery ??\n        getComputedStyle(environment.document.documentElement).getPropertyValue(\n          '--aa-detached-media-query'\n        ),\n      components: {\n        // @MAJOR Deal with registering components with the same name as the\n        // default ones. We could disallow registering these components by\n        // merging the default components second.\n        ...defaultComponents,\n        ...components,\n      },\n      translations: {\n        ...defaultTranslations,\n        ...translations,\n      },\n    },\n    core: {\n      ...core,\n      id: core.id ?? generateAutocompleteId(),\n      environment,\n    },\n  };\n}\n","import { AutocompleteOptions } from './types';\n\ntype GetPanelPlacementStyleParams = Pick<\n  Required<AutocompleteOptions<any>>,\n  'panelPlacement' | 'environment'\n> & {\n  container: HTMLElement;\n  form: HTMLElement;\n};\n\nexport function getPanelPlacementStyle({\n  panelPlacement,\n  container,\n  form,\n  environment,\n}: GetPanelPlacementStyleParams) {\n  const containerRect = container.getBoundingClientRect();\n  // Some browsers have specificities to retrieve the document scroll position.\n  // See https://stackoverflow.com/a/28633515/9940315\n  const scrollTop =\n    (environment.pageYOffset as number) ||\n    environment.document.documentElement.scrollTop ||\n    environment.document.body.scrollTop ||\n    0;\n  const top = scrollTop + containerRect.top + containerRect.height;\n\n  switch (panelPlacement) {\n    case 'start': {\n      return {\n        top,\n        left: containerRect.left,\n      };\n    }\n\n    case 'end': {\n      return {\n        top,\n        right:\n          environment.document.documentElement.clientWidth -\n          (containerRect.left + containerRect.width),\n      };\n    }\n\n    case 'full-width': {\n      return {\n        top,\n        left: 0,\n        right: 0,\n        width: 'unset',\n        maxWidth: 'unset',\n      };\n    }\n\n    case 'input-wrapper-width': {\n      const formRect = form.getBoundingClientRect();\n\n      return {\n        top,\n        left: formRect.left,\n        right:\n          environment.document.documentElement.clientWidth -\n          (formRect.left + formRect.width),\n        width: 'unset',\n        maxWidth: 'unset',\n      };\n    }\n\n    default: {\n      throw new Error(\n        `[Autocomplete] The \\`panelPlacement\\` value ${JSON.stringify(\n          panelPlacement\n        )} is not valid.`\n      );\n    }\n  }\n}\n","import { version } from '@algolia/autocomplete-shared';\n\nexport const userAgents = [{ segment: 'autocomplete-js', version }];\n","import {\n  createRequester,\n  fetchAlgoliaResults,\n} from '@algolia/autocomplete-preset-algolia';\n\nimport { userAgents } from '../userAgents';\n\nexport const createAlgoliaRequester = createRequester(\n  (params) =>\n    fetchAlgoliaResults({\n      ...params,\n      userAgents,\n    }),\n  'algolia'\n);\n","import { createAlgoliaRequester } from './createAlgoliaRequester';\n\n/**\n * Retrieves Algolia results from multiple indices.\n */\nexport const getAlgoliaResults = createAlgoliaRequester({\n  transformResponse: (response) => response.hits,\n});\n","import {\n  AutocompleteScopeApi,\n  BaseItem,\n  createAutocomplete,\n} from '@algolia/autocomplete-core';\nimport {\n  createRef,\n  debounce,\n  getItemsCount,\n} from '@algolia/autocomplete-shared';\nimport htm from 'htm';\n\nimport { createAutocompleteDom } from './createAutocompleteDom';\nimport { createEffectWrapper } from './createEffectWrapper';\nimport { createReactiveWrapper } from './createReactiveWrapper';\nimport { getDefaultOptions } from './getDefaultOptions';\nimport { getPanelPlacementStyle } from './getPanelPlacementStyle';\nimport { renderPanel, renderSearchBox } from './render';\nimport {\n  AutocompleteApi,\n  AutocompleteOptions,\n  AutocompletePropGetters,\n  AutocompleteSource,\n  AutocompleteState,\n  VNode,\n} from './types';\nimport { userAgents } from './userAgents';\nimport { mergeDeep, pickBy, setProperties } from './utils';\n\nexport function autocomplete<TItem extends BaseItem>(\n  options: AutocompleteOptions<TItem>\n): AutocompleteApi<TItem> {\n  const { runEffect, cleanupEffects, runEffects } = createEffectWrapper();\n  const { reactive, runReactives } = createReactiveWrapper();\n\n  const hasNoResultsSourceTemplateRef = createRef(false);\n  const optionsRef = createRef(options);\n  const onStateChangeRef = createRef<\n    AutocompleteOptions<TItem>['onStateChange']\n  >(undefined);\n  const props = reactive(() => getDefaultOptions(optionsRef.current));\n  const isDetached = reactive(\n    () =>\n      props.value.core.environment.matchMedia(\n        props.value.renderer.detachedMediaQuery\n      ).matches\n  );\n\n  const autocomplete = reactive(() =>\n    createAutocomplete<TItem>({\n      ...props.value.core,\n      onStateChange(params) {\n        hasNoResultsSourceTemplateRef.current = params.state.collections.some(\n          (collection) =>\n            (collection.source as AutocompleteSource<TItem>).templates.noResults\n        );\n        onStateChangeRef.current?.(params as any);\n        props.value.core.onStateChange?.(params as any);\n      },\n      shouldPanelOpen:\n        optionsRef.current.shouldPanelOpen ||\n        (({ state }) => {\n          if (isDetached.value) {\n            return true;\n          }\n\n          const hasItems = getItemsCount(state) > 0;\n\n          if (!props.value.core.openOnFocus && !state.query) {\n            return hasItems;\n          }\n\n          const hasNoResultsTemplate = Boolean(\n            hasNoResultsSourceTemplateRef.current ||\n              props.value.renderer.renderNoResults\n          );\n\n          return (!hasItems && hasNoResultsTemplate) || hasItems;\n        }),\n      __autocomplete_metadata: {\n        userAgents,\n        options,\n      },\n    })\n  );\n  const lastStateRef = createRef<AutocompleteState<TItem>>({\n    collections: [],\n    completion: null,\n    context: {},\n    isOpen: false,\n    query: '',\n    activeItemId: null,\n    status: 'idle',\n    ...props.value.core.initialState,\n  });\n\n  const propGetters: AutocompletePropGetters<TItem> = {\n    getEnvironmentProps: props.value.renderer.getEnvironmentProps,\n    getFormProps: props.value.renderer.getFormProps,\n    getInputProps: props.value.renderer.getInputProps,\n    getItemProps: props.value.renderer.getItemProps,\n    getLabelProps: props.value.renderer.getLabelProps,\n    getListProps: props.value.renderer.getListProps,\n    getPanelProps: props.value.renderer.getPanelProps,\n    getRootProps: props.value.renderer.getRootProps,\n  };\n  const autocompleteScopeApi: AutocompleteScopeApi<TItem> = {\n    setActiveItemId: autocomplete.value.setActiveItemId,\n    setQuery: autocomplete.value.setQuery,\n    setCollections: autocomplete.value.setCollections,\n    setIsOpen: autocomplete.value.setIsOpen,\n    setStatus: autocomplete.value.setStatus,\n    setContext: autocomplete.value.setContext,\n    refresh: autocomplete.value.refresh,\n    navigator: autocomplete.value.navigator,\n  };\n\n  const html = reactive(() =>\n    htm.bind<VNode>(props.value.renderer.renderer.createElement)\n  );\n\n  const dom = reactive(() =>\n    createAutocompleteDom({\n      autocomplete: autocomplete.value,\n      autocompleteScopeApi,\n      classNames: props.value.renderer.classNames,\n      environment: props.value.core.environment,\n      isDetached: isDetached.value,\n      placeholder: props.value.core.placeholder,\n      propGetters,\n      setIsModalOpen,\n      state: lastStateRef.current,\n      translations: props.value.renderer.translations,\n    })\n  );\n\n  function setPanelPosition() {\n    setProperties(dom.value.panel, {\n      style: isDetached.value\n        ? {}\n        : getPanelPlacementStyle({\n            panelPlacement: props.value.renderer.panelPlacement,\n            container: dom.value.root,\n            form: dom.value.form,\n            environment: props.value.core.environment,\n          }),\n    });\n  }\n\n  function scheduleRender(state: AutocompleteState<TItem>) {\n    lastStateRef.current = state;\n\n    const renderProps = {\n      autocomplete: autocomplete.value,\n      autocompleteScopeApi,\n      classNames: props.value.renderer.classNames,\n      components: props.value.renderer.components,\n      container: props.value.renderer.container,\n      html: html.value,\n      dom: dom.value,\n      panelContainer: isDetached.value\n        ? dom.value.detachedContainer\n        : props.value.renderer.panelContainer,\n      propGetters,\n      state: lastStateRef.current,\n      renderer: props.value.renderer.renderer,\n    };\n\n    const render =\n      (!getItemsCount(state) &&\n        !hasNoResultsSourceTemplateRef.current &&\n        props.value.renderer.renderNoResults) ||\n      props.value.renderer.render;\n\n    renderSearchBox(renderProps);\n    renderPanel(render, renderProps);\n  }\n\n  runEffect(() => {\n    const environmentProps = autocomplete.value.getEnvironmentProps({\n      formElement: dom.value.form,\n      panelElement: dom.value.panel,\n      inputElement: dom.value.input,\n    });\n\n    setProperties(props.value.core.environment as any, environmentProps);\n\n    return () => {\n      setProperties(\n        props.value.core.environment as any,\n        Object.keys(environmentProps).reduce((acc, key) => {\n          return {\n            ...acc,\n            [key]: undefined,\n          };\n        }, {})\n      );\n    };\n  });\n\n  runEffect(() => {\n    const panelContainerElement = isDetached.value\n      ? props.value.core.environment.document.body\n      : props.value.renderer.panelContainer;\n    const panelElement = isDetached.value\n      ? dom.value.detachedOverlay\n      : dom.value.panel;\n\n    if (isDetached.value && lastStateRef.current.isOpen) {\n      setIsModalOpen(true);\n    }\n\n    scheduleRender(lastStateRef.current);\n\n    return () => {\n      if (panelContainerElement.contains(panelElement)) {\n        panelContainerElement.removeChild(panelElement);\n      }\n    };\n  });\n\n  runEffect(() => {\n    const containerElement = props.value.renderer.container;\n    containerElement.appendChild(dom.value.root);\n\n    return () => {\n      containerElement.removeChild(dom.value.root);\n    };\n  });\n\n  runEffect(() => {\n    const debouncedRender = debounce<{\n      state: AutocompleteState<TItem>;\n    }>(({ state }) => {\n      scheduleRender(state);\n    }, 0);\n\n    onStateChangeRef.current = ({ state, prevState }) => {\n      if (isDetached.value && prevState.isOpen !== state.isOpen) {\n        setIsModalOpen(state.isOpen);\n      }\n\n      // The outer DOM might have changed since the last time the panel was\n      // positioned. The layout might have shifted vertically for instance.\n      // It's therefore safer to re-calculate the panel position before opening\n      // it again.\n      if (!isDetached.value && state.isOpen && !prevState.isOpen) {\n        setPanelPosition();\n      }\n\n      // We scroll to the top of the panel whenever the query changes (i.e. new\n      // results come in) so that users don't have to.\n      if (state.query !== prevState.query) {\n        const scrollablePanels = props.value.core.environment.document.querySelectorAll(\n          '.aa-Panel--scrollable'\n        );\n        scrollablePanels.forEach((scrollablePanel) => {\n          if (scrollablePanel.scrollTop !== 0) {\n            scrollablePanel.scrollTop = 0;\n          }\n        });\n      }\n\n      debouncedRender({ state });\n    };\n\n    return () => {\n      onStateChangeRef.current = undefined;\n    };\n  });\n\n  runEffect(() => {\n    const onResize = debounce<Event>(() => {\n      const previousIsDetached = isDetached.value;\n      isDetached.value = props.value.core.environment.matchMedia(\n        props.value.renderer.detachedMediaQuery\n      ).matches;\n\n      if (previousIsDetached !== isDetached.value) {\n        update({});\n      } else {\n        requestAnimationFrame(setPanelPosition);\n      }\n    }, 20);\n    props.value.core.environment.addEventListener('resize', onResize);\n\n    return () => {\n      props.value.core.environment.removeEventListener('resize', onResize);\n    };\n  });\n\n  runEffect(() => {\n    if (!isDetached.value) {\n      return () => {};\n    }\n\n    function toggleModalClassname(isActive: boolean) {\n      dom.value.detachedContainer.classList.toggle(\n        'aa-DetachedContainer--modal',\n        isActive\n      );\n    }\n\n    function onChange(event: MediaQueryListEvent) {\n      toggleModalClassname(event.matches);\n    }\n\n    const isModalDetachedMql = props.value.core.environment.matchMedia(\n      getComputedStyle(\n        props.value.core.environment.document.documentElement\n      ).getPropertyValue('--aa-detached-modal-media-query')\n    );\n\n    toggleModalClassname(isModalDetachedMql.matches);\n\n    // Prior to Safari 14, `MediaQueryList` isn't based on `EventTarget`,\n    // so we must use `addListener` and `removeListener` to observe media query lists.\n    // See https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList/addListener\n    const hasModernEventListener = Boolean(isModalDetachedMql.addEventListener);\n\n    hasModernEventListener\n      ? isModalDetachedMql.addEventListener('change', onChange)\n      : isModalDetachedMql.addListener(onChange);\n\n    return () => {\n      hasModernEventListener\n        ? isModalDetachedMql.removeEventListener('change', onChange)\n        : isModalDetachedMql.removeListener(onChange);\n    };\n  });\n\n  runEffect(() => {\n    requestAnimationFrame(setPanelPosition);\n\n    return () => {};\n  });\n\n  function destroy() {\n    cleanupEffects();\n  }\n\n  function update(updatedOptions: Partial<AutocompleteOptions<TItem>> = {}) {\n    cleanupEffects();\n\n    const { components, ...rendererProps } = props.value.renderer;\n\n    optionsRef.current = mergeDeep(\n      rendererProps,\n      props.value.core,\n      {\n        // We need to filter out default components so they can be replaced with\n        // a new `renderer`, without getting rid of user components.\n        // @MAJOR Deal with registering components with the same name as the\n        // default ones. If we disallow overriding default components, we'd just\n        // need to pass all `components` here.\n        components: pickBy(\n          components,\n          ({ value }) => !value.hasOwnProperty('__autocomplete_componentName')\n        ),\n        initialState: lastStateRef.current,\n      },\n      updatedOptions\n    );\n\n    runReactives();\n    runEffects();\n\n    autocomplete.value.refresh().then(() => {\n      scheduleRender(lastStateRef.current);\n    });\n  }\n\n  function setIsModalOpen(value: boolean) {\n    requestAnimationFrame(() => {\n      const prevValue = props.value.core.environment.document.body.contains(\n        dom.value.detachedOverlay\n      );\n\n      if (value === prevValue) {\n        return;\n      }\n\n      if (value) {\n        props.value.core.environment.document.body.appendChild(\n          dom.value.detachedOverlay\n        );\n        props.value.core.environment.document.body.classList.add('aa-Detached');\n        dom.value.input.focus();\n      } else {\n        props.value.core.environment.document.body.removeChild(\n          dom.value.detachedOverlay\n        );\n        props.value.core.environment.document.body.classList.remove(\n          'aa-Detached'\n        );\n      }\n    });\n  }\n\n  return {\n    ...autocompleteScopeApi,\n    update,\n    destroy,\n  };\n}\n","type ReactiveValue<TValue> = () => TValue;\nexport type Reactive<TValue> = {\n  value: TValue;\n  /**\n   * @private\n   */\n  _fn: ReactiveValue<TValue>;\n  /**\n   * @private\n   */\n  _ref: {\n    current: TValue;\n  };\n};\n\nexport function createReactiveWrapper() {\n  const reactives: Array<Reactive<any>> = [];\n\n  return {\n    reactive<TValue>(value: ReactiveValue<TValue>) {\n      const current = value();\n      const reactive: Reactive<TValue> = {\n        _fn: value,\n        _ref: { current },\n        get value() {\n          return this._ref.current;\n        },\n        set value(value) {\n          this._ref.current = value;\n        },\n      };\n\n      reactives.push(reactive);\n\n      return reactive;\n    },\n    runReactives() {\n      reactives.forEach((value) => {\n        value._ref.current = value._fn();\n      });\n    },\n  };\n}\n","type Effect = () => void;\ntype EffectFn = () => Effect;\ntype CleanupFn = () => void;\ntype EffectWrapper = {\n  runEffect(fn: EffectFn): void;\n  cleanupEffects(): void;\n  runEffects(): void;\n};\n\nexport function createEffectWrapper(): EffectWrapper {\n  let effects: EffectFn[] = [];\n  let cleanups: CleanupFn[] = [];\n\n  function runEffect(fn: EffectFn) {\n    effects.push(fn);\n    const effectCleanup = fn();\n    cleanups.push(effectCleanup);\n  }\n\n  return {\n    runEffect,\n    cleanupEffects() {\n      const currentCleanups = cleanups;\n      cleanups = [];\n      currentCleanups.forEach((cleanup) => {\n        cleanup();\n      });\n    },\n    runEffects() {\n      const currentEffects = effects;\n      effects = [];\n      currentEffects.forEach((effect) => {\n        runEffect(effect);\n      });\n    },\n  };\n}\n","/** @jsxRuntime classic */\n/** @jsx renderer.createElement */\nimport {\n  AutocompleteApi as AutocompleteCoreApi,\n  AutocompleteScopeApi,\n  BaseItem,\n} from '@algolia/autocomplete-core';\n\nimport {\n  AutocompleteClassNames,\n  AutocompleteComponents,\n  AutocompleteDom,\n  AutocompletePropGetters,\n  AutocompleteRender,\n  AutocompleteRenderer,\n  AutocompleteState,\n  HTMLTemplate,\n} from './types';\nimport { setProperties, setPropertiesWithoutEvents } from './utils';\n\ntype RenderProps<TItem extends BaseItem> = {\n  autocomplete: AutocompleteCoreApi<TItem>;\n  autocompleteScopeApi: AutocompleteScopeApi<TItem>;\n  classNames: AutocompleteClassNames;\n  components: AutocompleteComponents;\n  html: HTMLTemplate;\n  dom: AutocompleteDom;\n  panelContainer: HTMLElement;\n  propGetters: AutocompletePropGetters<TItem>;\n  state: AutocompleteState<TItem>;\n  renderer: Required<AutocompleteRenderer>;\n};\n\nexport function renderSearchBox<TItem extends BaseItem>({\n  autocomplete,\n  autocompleteScopeApi,\n  dom,\n  propGetters,\n  state,\n}: RenderProps<TItem>): void {\n  setPropertiesWithoutEvents(\n    dom.root,\n    propGetters.getRootProps({\n      state,\n      props: autocomplete.getRootProps({}),\n      ...autocompleteScopeApi,\n    })\n  );\n  setPropertiesWithoutEvents(\n    dom.input,\n    propGetters.getInputProps({\n      state,\n      props: autocomplete.getInputProps({ inputElement: dom.input }),\n      inputElement: dom.input,\n      ...autocompleteScopeApi,\n    })\n  );\n  setProperties(dom.label, { hidden: state.status === 'stalled' });\n  setProperties(dom.loadingIndicator, { hidden: state.status !== 'stalled' });\n  setProperties(dom.clearButton, { hidden: !state.query });\n  setProperties(dom.detachedSearchButtonQuery, {\n    textContent: state.query,\n  });\n  setProperties(dom.detachedSearchButtonPlaceholder, {\n    hidden: Boolean(state.query),\n  });\n}\n\nexport function renderPanel<TItem extends BaseItem>(\n  render: AutocompleteRender<TItem>,\n  {\n    autocomplete,\n    autocompleteScopeApi,\n    classNames,\n    html,\n    dom,\n    panelContainer,\n    propGetters,\n    state,\n    components,\n    renderer,\n  }: RenderProps<TItem>\n): void {\n  if (!state.isOpen) {\n    if (panelContainer.contains(dom.panel)) {\n      panelContainer.removeChild(dom.panel);\n    }\n\n    return;\n  }\n\n  // We add the panel element to the DOM when it's not yet appended and that the\n  // items are fetched.\n  if (!panelContainer.contains(dom.panel) && state.status !== 'loading') {\n    panelContainer.appendChild(dom.panel);\n  }\n\n  dom.panel.classList.toggle('aa-Panel--stalled', state.status === 'stalled');\n\n  const sections = state.collections\n    .filter(\n      ({ source, items }) => source.templates.noResults || items.length > 0\n    )\n    .map(({ source, items }, sourceIndex) => (\n      <section\n        key={sourceIndex}\n        className={classNames.source}\n        data-autocomplete-source-id={source.sourceId}\n      >\n        {source.templates.header && (\n          <div className={classNames.sourceHeader}>\n            {source.templates.header({\n              components,\n              createElement: renderer.createElement,\n              Fragment: renderer.Fragment,\n              items,\n              source,\n              state,\n              html,\n            })}\n          </div>\n        )}\n\n        {source.templates.noResults && items.length === 0 ? (\n          <div className={classNames.sourceNoResults}>\n            {source.templates.noResults({\n              components,\n              createElement: renderer.createElement,\n              Fragment: renderer.Fragment,\n              source,\n              state,\n              html,\n            })}\n          </div>\n        ) : (\n          <ul\n            className={classNames.list}\n            {...propGetters.getListProps({\n              state,\n              props: autocomplete.getListProps({\n                sourceIndex,\n              }),\n              ...autocompleteScopeApi,\n            })}\n          >\n            {items.map((item) => {\n              const itemProps = autocomplete.getItemProps({\n                item,\n                source,\n                sourceIndex,\n              });\n\n              return (\n                <li\n                  key={itemProps.id}\n                  className={classNames.item}\n                  {...propGetters.getItemProps({\n                    state,\n                    props: itemProps,\n                    ...autocompleteScopeApi,\n                  })}\n                >\n                  {source.templates.item({\n                    components,\n                    createElement: renderer.createElement,\n                    Fragment: renderer.Fragment,\n                    item,\n                    state,\n                    html,\n                  })}\n                </li>\n              );\n            })}\n          </ul>\n        )}\n\n        {source.templates.footer && (\n          <div className={classNames.sourceFooter}>\n            {source.templates.footer({\n              components,\n              createElement: renderer.createElement,\n              Fragment: renderer.Fragment,\n              items,\n              source,\n              state,\n              html,\n            })}\n          </div>\n        )}\n      </section>\n    ));\n\n  const children = (\n    <renderer.Fragment>\n      <div className={classNames.panelLayout}>{sections}</div>\n      <div className=\"aa-GradientBottom\" />\n    </renderer.Fragment>\n  );\n  const elements = sections.reduce((acc, current) => {\n    acc[current.props['data-autocomplete-source-id']] = current;\n    return acc;\n  }, {});\n\n  render(\n    {\n      children,\n      state,\n      sections,\n      elements,\n      ...renderer,\n      components,\n      html,\n      ...autocompleteScopeApi,\n    },\n    dom.panel\n  );\n}\n","import { RequestParams } from '@algolia/autocomplete-preset-algolia';\nimport { MultipleQueriesQuery } from '@algolia/client-search';\n\nimport { createAlgoliaRequester } from './createAlgoliaRequester';\n\n/**\n * Retrieves Algolia facet hits from multiple indices.\n */\nexport function getAlgoliaFacets<TTHit>(requestParams: RequestParams<TTHit>) {\n  const requester = createAlgoliaRequester({\n    transformResponse: (response) => response.facetHits,\n  });\n\n  const queries = requestParams.queries.map((query) => ({\n    ...query,\n    type: 'facet',\n  })) as MultipleQueriesQuery[];\n\n  return requester({\n    ...requestParams,\n    queries,\n  });\n}\n"],"names":["createRef","initialValue","current","debounce","fn","time","timerId","undefined","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","apply","flatten","values","reduce","a","b","concat","autocompleteId","generateAutocompleteId","getAttributeValueByPath","record","path","key","getItemsCount","state","collections","sum","collection","items","noop","version","userAgents","segment","createInternalCancelablePromise","promise","initialState","then","onfulfilled","onrejected","createCallback","catch","finally","onfinally","onCancelList","push","cancel","isCanceled","callbacks","forEach","callback","cancelable","onResult","fallback","arg","getNextActiveItemId","moveAmount","baseIndex","itemCount","defaultActiveItemId","numericIndex","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","i","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","getActiveItem","accumulatedCollectionsCount","collectionIndex","map","acc","collectionsCount","index","previousValue","nextValue","activeItemId","getCollectionFromActiveItemId","item","_ref","isOffsetFound","counter","previousItemsOffset","currentCollection","getRelativeActiveItemId","itemInputValue","getItemInputValue","itemUrl","getItemUrl","regex","createStore","reducer","props","onStoreStateChange","list","getState","dispatch","action","payload","prevState","type","pendingRequests","add","cancelablePromise","cancelAll","isEmpty","_toConsumableArray","arr","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","getDefaultProps","pluginSubscribers","_props$id","environment","window","plugins","debug","openOnFocus","placeholder","autoFocus","stallThreshold","shouldPanelOpen","reshape","_ref2","sources","id","query","completion","isOpen","status","context","onStateChange","params","_props$onStateChange","x","_x$onStateChange","onSubmit","_props$onSubmit","_x$onSubmit","onReset","_props$onReset","_x$onReset","getSources","Promise","all","plugin","Boolean","seenSourceIds","resolve","maybeSource","sourceId","includes","Error","JSON","stringify","defaultSource","onSelect","setIsOpen","onActive","onResolve","__default","normalizedSource","getNormalizedSources","nested","_x$onSelect","_x$onActive","_x$onResolve","navigator","navigate","_ref3","location","assign","navigateNewTab","_ref4","windowReference","open","focus","navigateNewWindow","_ref5","isDescription","execute","preResolve","itemsOrDescription","description","contextParameters","requesterId","_state$context$key","__algoliaSearchParameters","requests","queries","transformResponse","packed","searchClient","container","find","_container$items","request","maybeDescription","responses","postResolve","store","matches","response","results","transform","rawResults","result","_hits","hits","hit","__autocomplete_indexName","__autocomplete_queryID","queryID","facetHits","_facetHits","facetHit","label","count","_highlightResult","highlighted","mapToAlgoliaResponse","every","_excluded","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","basePromiseId","latestResolvedId","latestResolvedValue","lastStalledId","runConcurrentSafePromise","currentPromiseId","onInput","event","_ref$nextState","nextState","refresh","setters","setCollections","setQuery","setActiveItemId","setStatus","_nextState$isOpen","_request","getItems","originalSourcesBySourceId","sourcesBySourceId","_nextState$isOpen2","isPanelOpen","highlightedItem","_excluded2","_excluded3","_excluded4","_excluded5","_excluded6","_excluded7","getPropGetters","getAutocompleteId","instanceId","getEnvironmentProps","providedProps","inputElement","formElement","panelElement","onMouseDownOrTouchStart","some","contextNode","parent","child","contains","onTouchStart","onMouseDown","onTouchMove","document","activeElement","blur","getRootProps","rest","role","getFormProps","noValidate","_providedProps$inputE","preventDefault","_providedProps$inputE2","getLabelProps","sourceIndex","htmlFor","getInputProps","_props$environment$na","onFocus","_ref2$maxLength","maxLength","activeItem","shouldFallbackKeyHint","userAgent","match","isSamsung","enterKeyHint","autoComplete","autoCorrect","autoCapitalize","spellCheck","onChange","currentTarget","onKeyDown","triggerScrollIntoView","nodeItem","getElementById","scrollIntoViewIfNeeded","scrollIntoView","triggerOnActive","nextActiveItemId","metaKey","ctrlKey","shiftKey","altKey","_onKeyDown","onBlur","onClick","getPanelProps","onMouseLeave","getListProps","getItemProps","__autocomplete_id","onMouseMove","_item","_source","getMetadata","_","_options$__autocomple","_options$__autocomple2","_options$__autocomple3","options","optionsKey","__autocomplete_metadata","extraOptions","__autocomplete_pluginOptions","ua","getCompletion","_getActiveItem","stateReducer","hasOwnProperty","_nextState","createAutocomplete","subscribers","rawValue","baseItemId","setContext","getAutocompleteSetters","propGetters","Event","_plugin$subscribe","subscribe","_environment$navigato","_environment$navigato2","metadata","metadataContainer","createElement","headRef","querySelector","content","appendChild","injectMetadata","t","s","r","e","u","h","p","Map","htm","get","this","set","replace","l","ClearIcon","element","createElementNS","setAttribute","getHTMLElement","mergeClassNames","accValue","currentValue","join","isPlainObject","_typeof","mergeDeep","pickBy","predicate","entries","_slicedToArray","TOUCH_EVENTS_ALIASES","setStyle","style","eventProxy","_listeners","setProperty","dom","useCapture","nameLower","oldValue","toLowerCase","addEventListener","removeEventListener","removeAttribute","getNormalizedName","setProperties","setPropertiesWithoutEvents","getCreateDomElement","tagName","_ref$children","children","append","LoadingIcon","innerHTML","SearchIcon","createAutocompleteDom","autocomplete","autocompleteScopeApi","classNames","isDetached","_ref$placeholder","setIsModalOpen","translations","createDomElement","rootProps","root","class","detachedContainer","stopPropagation","detachedOverlay","labelProps","submitButton","title","submitButtonTitle","clearButton","clearButtonTitle","loadingIndicator","input","getInputPropsCore","inputProps","Input","inputWrapperPrefix","inputWrapperSuffix","inputWrapper","formProps","form","panelProps","panel","detachedSearchButtonQuery","textContent","detachedSearchButtonPlaceholder","hidden","detachedSearchButtonIcon","detachedSearchButton","detachedCancelButton","detachedCancelButtonText","detachedFormContainer","c","parentNode","removeChild","v","f","defaultProps","y","ref","__k","__","__b","__e","__d","__c","__h","__v","vnode","d","k","base","m","g","__r","debounceRendering","sort","__P","j","__n","ownerSVGElement","z","w","A","P","N","M","nextSibling","insertBefore","$","H","cssText","T","I","contextType","__E","render","O","sub","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","createTextNode","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","C","checked","unmount","componentWillUnmount","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","bind","HIGHLIGHT_PRE_TAG","HIGHLIGHT_POST_TAG","parseAttribute","preTagParts","highlightedValue","split","firstValue","shift","parts","part","lastPart","isHighlighted","createAttributeSet","postTagParts","parseAlgoliaHitHighlight","attribute","htmlEscapes","hasAlphanumeric","RegExp","regexEscapedHtml","regexHasEscapedHtml","isPartHighlighted","_parts","_parts2","isNextHighlighted","isPreviousHighlighted","character","reverseHighlightedParts","parseAlgoliaHitSnippet","createHighlightComponent","Fragment","Highlight","_ref2$tagName","__autocomplete_componentName","createReverseHighlightComponent","ReverseHighlight","createReverseSnippetComponent","ReverseSnippet","createSnippetComponent","Snippet","defaultClassNames","panelLayout","sourceFooter","sourceHeader","sourceNoResults","defaultRender","defaultRenderer","preactCreateElement","PreactFragment","firstChild","getPanelPlacementStyle","panelPlacement","containerRect","getBoundingClientRect","top","pageYOffset","documentElement","scrollTop","body","height","left","right","clientWidth","width","maxWidth","formRect","createAlgoliaRequester","fetcher","fetcherParams","_fetcherParams$reques","requesterParams","requestParams","createRequester","fetchAlgoliaResults","_ref$userAgents","addAlgoliaAgent","coreUserAgents","search","searchParameters","hitsPerPage","highlightPreTag","highlightPostTag","getAlgoliaResults","reactives","_createEffectWrapper","effects","cleanups","runEffect","effectCleanup","cleanupEffects","currentCleanups","cleanup","runEffects","currentEffects","effect","createEffectWrapper","_createReactiveWrappe","reactive","_fn","runReactives","hasNoResultsSourceTemplateRef","optionsRef","onStateChangeRef","_core$id","panelContainer","renderNoResults","renderer","detachedMediaQuery","components","core","containerElement","defaultedRenderer","defaultComponents","_ref6","_ref7","_ref8","_ref9","getComputedStyle","getPropertyValue","getDefaultOptions","matchMedia","_onStateChangeRef$cur","_props$value$core$onS","_props$value$core","templates","noResults","hasItems","hasNoResultsTemplate","lastStateRef","html","setPanelPosition","scheduleRender","renderProps","renderSearchBox","classList","toggle","sections","className","header","_extends","itemProps","footer","elements","renderPanel","update","updatedOptions","_props$value$renderer","rendererProps","requestAnimationFrame","prevValue","remove","environmentProps","panelContainerElement","debouncedRender","querySelectorAll","scrollablePanel","onResize","previousIsDetached","toggleModalClassname","isActive","isModalDetachedMql","hasModernEventListener","addListener","removeListener","destroy","requester"],"mappings":";qhGAAO,SAASA,EAAUC,GACjB,MAAA,CACLC,QAASD,GCFN,SAASE,EAASC,EAAIC,GACvBC,IAAAA,OAAUC,EACd,OAAO,WACA,IAAA,IAAIC,EAAOC,UAAUC,OAAQC,EAAO,IAAIC,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC/EF,EAAKE,GAAQJ,UAAUI,GAGrBP,GACFQ,aAAaR,GAGfA,EAAUS,YAAW,WACZX,OAAAA,EAAGY,WAAM,EAAQL,KACvBN,ICbA,SAASY,EAAQC,GACfA,OAAAA,EAAOC,QAAO,SAAUC,EAAGC,GAChC,OAAOD,EAAEE,OAAOD,KACf,ICHL,IAAIE,EAAiB,EACd,SAASC,IACd,MAAO,gBAAgBF,OAAOC,KCFzB,SAASE,EAAwBC,EAAQC,GACvCA,OAAAA,EAAKR,QAAO,SAAUjB,EAAS0B,GACpC,OAAO1B,GAAWA,EAAQ0B,KACzBF,GCHE,SAASG,EAAcC,GAC5B,OAAiC,IAA7BA,EAAMC,YAAYrB,OACb,EAGFoB,EAAMC,YAAYZ,QAAO,SAAUa,EAAKC,GAC7C,OAAOD,EAAMC,EAAWC,MAAMxB,SAC7B,GCPE,IAAIyB,EAAO,aCAPC,EAAU,QCCVC,EAAa,CAAC,CACvBC,QAAS,oBACTF,QAASA,ICHX,SAASG,EAAgCC,EAASC,GAC5CX,IAAAA,EAAQW,EACL,MAAA,CACLC,KAAM,SAAcC,EAAaC,GACxBL,OAAAA,EAAgCC,EAAQE,KAAKG,EAAeF,EAAab,EAAOU,GAAUK,EAAeD,EAAYd,EAAOU,IAAWV,IAEhJgB,MAAO,SAAgBF,GACrB,OAAOL,EAAgCC,EAAQM,MAAMD,EAAeD,EAAYd,EAAOU,IAAWV,IAEpGiB,QAAS,SAAkBC,GAKlBT,OAJHS,GACFlB,EAAMmB,aAAaC,KAAKF,GAGnBT,EAAgCC,EAAQO,QAAQF,EAAeG,GAAa,WAEjF,OADAlB,EAAMmB,aAAe,GACdD,KACNlB,EAAOU,IAAWV,IAEvBqB,OAAQ,WACNrB,EAAMsB,YAAa,EACnB,IAAIC,EAAYvB,EAAMmB,aACtBnB,EAAMmB,aAAe,GACrBI,EAAUC,SAAQ,SAAUC,GAC1BA,QAGJH,WAAY,WACV,OAA4B,IAArBtB,EAAMsB,aAsBZ,SAASI,EAAWhB,GAClBD,OAAAA,EAAgCC,EAAS,CAC9CY,YAAY,EACZH,aAAc,KAIlB,SAASJ,EAAeY,EAAU3B,EAAO4B,GACnC,OAACD,EAIE,SAAkBE,GACnB7B,OAAAA,EAAMsB,WACDO,EAGFF,EAASE,IARTD,EC3CJ,SAASE,EAAoBC,EAAYC,EAAWC,EAAWC,GAChE,IAACD,EACH,OAAO,KAGT,GAAIF,EAAa,IAAoB,OAAdC,GAA8C,OAAxBE,GAA8C,IAAdF,GACpEC,OAAAA,EAAYF,EAGrB,IAAII,GAA8B,OAAdH,GAAsB,EAAIA,GAAaD,EAEvDI,OAAAA,IAAiB,GAAKA,GAAgBF,EACT,OAAxBC,EAA+B,KAAO,EAGxCC,EC/BT,SAASC,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,EAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,EAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,EAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,EAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,ECsDpM,SAASI,EAAc3D,GAC5B,IAAIG,EAxDN,SAAuCH,GAIjC4D,IASAC,EAT8B7D,EAAMC,YAAY6D,KAAI,SAAU7D,GAChE,OAAOA,EAAYG,MAAMxB,UACxBS,QAAO,SAAU0E,EAAKC,EAAkBC,GACrCC,IACAC,GADgBJ,EAAIE,EAAQ,IAAM,GACND,EAEhC,OADAD,EAAI3C,KAAK+C,GACFJ,IACN,IAE+C1E,QAAO,SAAU0E,EAAK3F,GACtE,OAAIA,GAAW4B,EAAMoE,aACZL,EAAM,EAGRA,IACN,GACH,OAAO/D,EAAMC,YAAY4D,GAoCRQ,CAA8BrE,GAE3C,IAACG,EACH,OAAO,KAGT,IAAImE,EAAOnE,EAAWC,MA7BxB,SAAiCmE,GAOxBC,IANP,IAAIxE,EAAQuE,EAAKvE,MACbG,EAAaoE,EAAKpE,WAClBqE,GAAgB,EAChBC,EAAU,EACVC,EAAsB,GAED,IAAlBF,GAAyB,CAC9B,IAAIG,EAAoB3E,EAAMC,YAAYwE,GAEtCE,GAAAA,IAAsBxE,EAAY,CACpCqE,GAAgB,EAChB,MAGFE,GAAuBC,EAAkBvE,MAAMxB,OAC/C6F,IAGF,OAAOzE,EAAMoE,aAAeM,EAUAE,CAAwB,CAClD5E,MAAOA,EACPG,WAAYA,KAEV+C,EAAS/C,EAAW+C,OASjB,MAAA,CACLoB,KAAMA,EACNO,eAVmB3B,EAAO4B,kBAAkB,CAC5CR,KAAMA,EACNtE,MAAOA,IASP+E,QAPY7B,EAAO8B,WAAW,CAC9BV,KAAMA,EACNtE,MAAOA,IAMPkD,OAAQA,GClFZ,IAAI+B,EAAQ,uCCAZ,SAAS7C,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,EAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,EAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,EAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,EAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,ECJ3M,SAASnB,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAI9U,SAASY,EAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAGpM,SAAS2B,EAAYC,EAASC,EAAOC,GAC1C,ICPIC,EDOAtF,EAAQoF,EAAMzE,aACX,MAAA,CACL4E,SAAU,WACR,OAAOvF,GAETwF,SAAU,SAAkBC,EAAQC,GAClC,IAAIC,EAZV,SAAuB3C,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,EAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,EAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,EAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAY3dD,CAAc,GAAI/C,GAElCA,EAAQmF,EAAQnF,EAAO,CACrB4F,KAAMH,EACNL,MAAOA,EACPM,QAASA,IAEXL,EAAmB,CACjBrF,MAAOA,EACP2F,UAAWA,KAGfE,iBCzBEP,EAAO,GACJ,CACLQ,IAAK,SAAaC,GAEhB,OADAT,EAAKlE,KAAK2E,GACHA,EAAkB9E,SAAQ,WAC/BqE,EAAOA,EAAK3C,QAAO,SAAU2B,GACpBA,OAAAA,IAASyB,SAItBC,UAAW,WACTV,EAAK9D,SAAQ,SAAUd,GACdA,OAAAA,EAAQW,aAGnB4E,QAAS,WACP,OAAuB,IAAhBX,EAAK1G,WCjBlB,SAASwD,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,EAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,EAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,EAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,EAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,ECJ3M,SAAS2C,EAAmBC,GAAO,OAQnC,SAA4BA,GAAWrH,GAAAA,MAAMsH,QAAQD,GAAM,OAAOE,EAAkBF,GAR1CG,CAAmBH,IAM7D,SAA0BI,GAAY,GAAkB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOzH,MAAM4H,KAAKH,GANjFI,CAAiBR,IAItF,SAAqCS,EAAGC,GAAc,IAACD,EAAG,OAAY,GAAa,iBAANA,EAAgB,OAAOP,EAAkBO,EAAGC,GAAS,IAAIC,EAAItE,OAAOuE,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAAc,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAAM,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOhI,MAAM4H,KAAKE,GAAI,GAAU,cAANE,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOT,EAAkBO,EAAGC,GAJxTS,CAA4BnB,IAE1H,WAAgC,MAAM,IAAIoB,UAAU,wIAF8EC,GAUlI,SAASnB,EAAkBF,EAAKsB,IAAkB,MAAPA,GAAeA,EAAMtB,EAAIvH,UAAQ6I,EAAMtB,EAAIvH,QAAQ,IAAK,IAAIqE,EAAI,EAAGyE,EAAO,IAAI5I,MAAM2I,GAAMxE,EAAIwE,EAAKxE,IAAOyE,EAAKzE,GAAKkD,EAAIlD,GAAM,OAAOyE,EAEhL,SAAStF,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,EAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,EAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,EAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,EAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAIpM,SAASoE,EAAgBvC,EAAOwC,GACrC,IAAIC,EAGAC,EAAgC,oBAAXC,OAAyBA,OAAS,GAGvDC,EAAU5C,EAAM4C,SAAW,GACxBjF,OAAAA,EAAcA,EAAc,CACjCkF,OAAO,EACPC,aAAa,EACbC,YAAa,GACbC,WAAW,EACXlG,oBAAqB,KACrBmG,eAAgB,IAChBP,YAAaA,EACbQ,gBAAiB,SAAyB/D,GAExC,OAAOxE,EADKwE,EAAKvE,OACa,GAEhCuI,QAAS,SAAiBC,GAExB,OADcA,EAAMC,UAGrBrD,GAAQ,GAAI,CAGbsD,GAA+B,QAA1Bb,EAAYzC,EAAMsD,UAA8B,IAAdb,EAAuBA,EAAYnI,IAC1EsI,QAASA,EAETrH,aAAcoC,EAAc,CAC1BqB,aAAc,KACduE,MAAO,GACPC,WAAY,KACZ3I,YAAa,GACb4I,QAAQ,EACRC,OAAQ,OACRC,QAAS,IACR3D,EAAMzE,cACTqI,cAAe,SAAuBC,GACpC,IAAIC,EAE6C,QAAhDA,EAAuB9D,EAAM4D,qBAAoD,IAAzBE,GAA2CA,EAAqBjC,KAAK7B,EAAO6D,GACrIjB,EAAQxG,SAAQ,SAAU2H,GACxB,IAAIC,EAEG,OAAyC,QAAxCA,EAAmBD,EAAEH,qBAAgD,IAArBI,OAA8B,EAASA,EAAiBnC,KAAKkC,EAAGF,OAG5HI,SAAU,SAAkBJ,GAC1B,IAAIK,EAEmC,QAAtCA,EAAkBlE,EAAMiE,gBAA0C,IAApBC,GAAsCA,EAAgBrC,KAAK7B,EAAO6D,GACjHjB,EAAQxG,SAAQ,SAAU2H,GACxB,IAAII,EAEG,OAA+B,QAA9BA,EAAcJ,EAAEE,gBAAsC,IAAhBE,OAAyB,EAASA,EAAYtC,KAAKkC,EAAGF,OAGxGO,QAAS,SAAiBP,GACxB,IAAIQ,EAEiC,QAApCA,EAAiBrE,EAAMoE,eAAwC,IAAnBC,GAAqCA,EAAexC,KAAK7B,EAAO6D,GAC7GjB,EAAQxG,SAAQ,SAAU2H,GACxB,IAAIO,EAEG,OAA6B,QAA5BA,EAAaP,EAAEK,eAAoC,IAAfE,OAAwB,EAASA,EAAWzC,KAAKkC,EAAGF,OAGpGU,WAAY,SAAoBV,GAC9B,OAAOW,QAAQC,IAAI,GAAGrK,OAAO0G,EAAmB8B,EAAQlE,KAAI,SAAUgG,GAC7DA,OAAAA,EAAOH,eACX,CAACvE,EAAMuE,aAAahH,OAAOoH,SAASjG,KAAI,SAAU6F,GACrD,OPpFD,SAA8BA,EAAYV,GAC3Ce,IAAAA,EAAgB,GACpB,OAAOJ,QAAQK,QAAQN,EAAWV,IAASrI,MAAK,SAAU6H,GAIxD,OAAOmB,QAAQC,IAAIpB,EAGlB9F,QAAO,SAAUuH,GACTH,OAAAA,QAAQG,MACdpG,KAAI,SAAUZ,GAGX8G,GAFa9G,EAAOiH,SAEpBH,EAAcI,SAASlH,EAAOiH,UAChC,MAAM,IAAIE,MAAM,iCAAiC7K,OAAO8K,KAAKC,UAAUrH,EAAOiH,UAAW,oBAG3FH,EAAc5I,KAAK8B,EAAOiH,UAC1B,IAAIK,EAAgB,CAClB1F,kBAAmB,SAA2BP,GAErCvE,OADKuE,EAAKvE,MACJ2I,OAEf3D,WAAY,aAGZyF,SAAU,SAAkBjC,IAE1BkC,EADgBlC,EAAMkC,YACZ,IAEZC,SAAUtK,EACVuK,UAAWvK,GAEbmC,OAAOD,KAAKiI,GAAehJ,SAAQ,SAAU1B,GAC3C0K,EAAc1K,GAAK+K,WAAY,KAGjC,IAAIC,EAAmB/H,EAAcA,EAAc,GAAIyH,GAAgBtH,GAEvE,OAAO0G,QAAQK,QAAQa,UO4CdC,CAAqBpB,EAAYV,OACtCrI,MAAK,SAAUoK,GACV7L,OAAAA,EAAQ6L,MACdpK,MAAK,SAAU6H,GAChB,OAAOA,EAAQ3E,KAAI,SAAUZ,GACpBH,OAAAA,EAAcA,EAAc,GAAIG,GAAS,GAAI,CAClDuH,SAAU,SAAkBxB,GAC1B/F,EAAOuH,SAASxB,GAChBrB,EAAkBpG,SAAQ,SAAU2H,GAClC,IAAI8B,EAEG,OAA+B,QAA9BA,EAAc9B,EAAEsB,gBAAsC,IAAhBQ,OAAyB,EAASA,EAAYhE,KAAKkC,EAAGF,OAGxG0B,SAAU,SAAkB1B,GAC1B/F,EAAOyH,SAAS1B,GAChBrB,EAAkBpG,SAAQ,SAAU2H,GAClC,IAAI+B,EAEG,OAA+B,QAA9BA,EAAc/B,EAAEwB,gBAAsC,IAAhBO,OAAyB,EAASA,EAAYjE,KAAKkC,EAAGF,OAGxG2B,UAAW,SAAmB3B,GAC5B/F,EAAO0H,UAAU3B,GACjBrB,EAAkBpG,SAAQ,SAAU2H,GAClC,IAAIgC,EAEG,OAAiC,QAAhCA,EAAehC,EAAEyB,iBAAwC,IAAjBO,OAA0B,EAASA,EAAalE,KAAKkC,EAAGF,gBAOpHmC,UAAWrI,EAAc,CACvBsI,SAAU,SAAkBC,GAC1B,IAAIvG,EAAUuG,EAAMvG,QACpB+C,EAAYyD,SAASC,OAAOzG,IAE9B0G,eAAgB,SAAwBC,GACtC,IAAI3G,EAAU2G,EAAM3G,QAChB4G,EAAkB7D,EAAY8D,KAAK7G,EAAS,SAAU,YAC1D4G,MAAAA,GAAkEA,EAAgBE,SAEpFC,kBAAmB,SAA2BC,GAC5C,IAAIhH,EAAUgH,EAAMhH,QACpB+C,EAAY8D,KAAK7G,EAAS,SAAU,cAErCK,EAAMgG,aC7Ib,SAAShJ,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,EAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,EAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,EAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,EAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,ECF3M,SAASnB,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,EAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,EAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,EAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,EAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAE3M,SAAS2C,EAAmBC,GAAO,OAQnC,SAA4BA,GAAWrH,GAAAA,MAAMsH,QAAQD,GAAM,OAAOE,EAAkBF,GAR1CG,CAAmBH,IAM7D,SAA0BI,GAAY,GAAkB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOzH,MAAM4H,KAAKH,GANjFI,CAAiBR,IAItF,SAAqCS,EAAGC,GAAc,IAACD,EAAG,OAAY,GAAa,iBAANA,EAAgB,OAAOP,EAAkBO,EAAGC,GAAS,IAAIC,EAAItE,OAAOuE,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAAc,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAAM,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOhI,MAAM4H,KAAKE,GAAI,GAAU,cAANE,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOT,EAAkBO,EAAGC,GAJxTS,CAA4BnB,IAE1H,WAAgC,MAAM,IAAIoB,UAAU,wIAF8EC,GAUlI,SAASnB,EAAkBF,EAAKsB,IAAkB,MAAPA,GAAeA,EAAMtB,EAAIvH,UAAQ6I,EAAMtB,EAAIvH,QAAQ,IAAK,IAAIqE,EAAI,EAAGyE,EAAO,IAAI5I,MAAM2I,GAAMxE,EAAIwE,EAAKxE,IAAOyE,EAAKzE,GAAKkD,EAAIlD,GAAM,OAAOyE,EAKhL,SAASsE,EAAc1H,GACrB,OAAOyF,QAAQzF,EAAK2H,SAOf,SAASC,GAAWC,EAAoBhC,EAAUnK,GACvD,GAL8BoM,EAKHD,EAJpBpC,QAAQqC,MAAAA,OAAiD,EAASA,EAAYH,SAIrC,CAC9C,IAAII,EAAuD,YAAnCF,EAAmBG,YAA4B9J,OAAOgJ,OAAOtM,MAAMsD,OAAQ,CAAC,IAAIhD,OAAO0G,EAAmB1D,OAAOD,KAAKvC,EAAM+I,SAASjF,KAAI,SAAUhE,GACzK,IAAIyM,EAEG,OAA8C,QAA7CA,EAAqBvM,EAAM+I,QAAQjJ,UAAyC,IAAvByM,OAAgC,EAASA,EAAmBC,gCACnH,GACDzJ,OAAAA,EAAcA,EAAc,GAAIoJ,GAAqB,GAAI,CAC9DM,SAAUN,EAAmBO,QAAQ5I,KAAI,SAAU6E,GAC1C,MAAA,CACLA,MAA0C,YAAnCwD,EAAmBG,YAA4BvJ,EAAcA,EAAc,GAAI4F,GAAQ,GAAI,CAChGM,OAAQlG,EAAcA,EAAc,GAAIsJ,GAAoB1D,EAAMM,UAC/DN,EACLwB,SAAUA,EACVwC,kBAAmBR,EAAmBQ,wBAlBhD,IAAgCP,EAwBvB,MAAA,CACLhM,MAAO+L,EACPhC,SAAUA,GAGP,SAASF,GAAQ7J,GAClBwM,IA8BAxN,EA9BSgB,EAAMf,QAAO,SAAU0E,EAAK3F,GACvC,IAAK4N,EAAc5N,GAEjB,OADA2F,EAAI3C,KAAKhD,GACF2F,EAGT,IAAI8I,EAAezO,EAAQyO,aACvBZ,EAAU7N,EAAQ6N,QAClBK,EAAclO,EAAQkO,YACtBG,EAAWrO,EAAQqO,SACnBK,EAAY/I,EAAIgJ,MAAK,SAAUzI,GAC1B0H,OAAAA,EAAc5N,IAAY4N,EAAc1H,IAASA,EAAKuI,eAAiBA,GAAgB9C,QAAQuC,IAAgBhI,EAAKgI,cAAgBA,KAG7I,GAAIQ,EAAW,CACb,IAAIE,GAEHA,EAAmBF,EAAU1M,OAAOgB,KAAKlC,MAAM8N,EAAkB9G,EAAmBuG,QAChF,CACL,IAAIQ,EAAU,CACZhB,QAASA,EACTK,YAAaA,EACblM,MAAOqM,EACPI,aAAcA,GAEhB9I,EAAI3C,KAAK6L,GAGX,OAAOlJ,IACN,IACiBD,KAAI,SAAUoJ,GAChC,IAAKlB,EAAckB,GACjB,OAAOtD,QAAQK,QAAQiD,GAGrB3I,IAAAA,EAAO2I,EACPjB,EAAU1H,EAAK0H,QACf7L,EAAQmE,EAAKnE,MAEjB,OAAO6L,EAAQ,CACbY,aAFiBtI,EAAKsI,aAGtBJ,SAAUrM,OAGPwJ,OAAAA,QAAQC,IAAIzK,GAAQwB,MAAK,SAAUuM,GACjChO,OAAAA,EAAQgO,MAGZ,SAASC,GAAYD,EAAW1E,EAAS4E,GAC9C,OAAO5E,EAAQ3E,KAAI,SAAUZ,GACvBoK,IAAAA,EAAUH,EAAUxK,QAAO,SAAU4K,GACvC,OAAOA,EAASpD,WAAajH,EAAOiH,YAElCqD,EAAUF,EAAQxJ,KAAI,SAAU0E,GAElC,OADYA,EAAMpI,SAGhBqN,EAAYH,EAAQ,GAAGX,kBACvBvM,EAAQqN,EAAYA,EN7GrB,SAA8BC,GAC/BF,IAAAA,EAAUE,EAAW5J,KAAI,SAAU6J,GACrC,IAAIC,EAEG7K,OAAAA,EAAcA,EAAc,GAAI4K,GAAS,GAAI,CAClDE,KAAgC,QAAzBD,EAAQD,EAAOE,YAA4B,IAAVD,OAAmB,EAASA,EAAM9J,KAAI,SAAUgK,GAE/E/K,OAAAA,EAAcA,EAAc,GAAI+K,GAAM,GAAI,CAC/CC,yBAA0BJ,EAAO1J,MACjC+J,uBAAwBL,EAAOM,kBAKhC,MAAA,CACLT,QAASA,EACTK,KAAML,EAAQ1J,KAAI,SAAU6J,GACnBA,OAAAA,EAAOE,QACblL,OAAOoH,SACVmE,UAAWV,EAAQ1J,KAAI,SAAU6J,GAC/B,IAAIQ,EAEG,OAAoC,QAAnCA,EAAaR,EAAOO,iBAAsC,IAAfC,OAAwB,EAASA,EAAWrK,KAAI,SAAUsK,GAEpG,MAAA,CACLC,MAAOD,EAAS5K,MAChB8K,MAAOF,EAASE,MAChBC,iBAAkB,CAChBF,MAAO,CACL7K,MAAO4K,EAASI,qBAKvB7L,OAAOoH,UM2EwB0E,CAAqBjB,IAAYA,EAW5D,OAVPtK,EAAO0H,UAAU,CACf1H,OAAQA,EACRsK,QAASA,EACTpN,MAAOA,EACPJ,MAAOqN,EAAM9H,aAKLnF,EAAMsO,MAAM3E,SAAU,wCAAyCvK,OAAO0D,EAAOiH,SAAU,iDAAkD3K,OAAO8K,KAAKC,eAAU9L,GAAY,4IAC9K,CACLyE,OAAQA,EACR9C,MAAOA,MChIb,IAAIuO,GAAY,CAAC,QAAS,YAAa,QAAS,QAAS,UAAW,SAEpE,SAASvM,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAE3M,SAASqL,GAAyB1L,EAAQ2L,GAAY,GAAc,MAAV3L,EAAgB,MAAO,GAAI,IAAkEpD,EAAKmD,EAAnED,EAEzF,SAAuCE,EAAQ2L,GAAY,GAAc,MAAV3L,EAAgB,MAAO,GAAQF,IAAuDlD,EAAKmD,EAA5DD,EAAS,GAAQ8L,EAAatM,OAAOD,KAAKW,GAAqB,IAAKD,EAAI,EAAGA,EAAI6L,EAAWlQ,OAAQqE,IAAOnD,EAAMgP,EAAW7L,GAAQ4L,EAASE,QAAQjP,IAAQ,IAAakD,EAAOlD,GAAOoD,EAAOpD,IAAQ,OAAOkD,EAFxMgM,CAA8B9L,EAAQ2L,GAA2BrM,GAAAA,OAAOC,sBAAuB,CAAE,IAAIwM,EAAmBzM,OAAOC,sBAAsBS,GAAS,IAAKD,EAAI,EAAGA,EAAIgM,EAAiBrQ,OAAQqE,IAAOnD,EAAMmP,EAAiBhM,GAAQ4L,EAASE,QAAQjP,IAAQ,GAAkB0C,OAAOuE,UAAUmI,qBAAqBjI,KAAK/D,EAAQpD,KAAgBkD,EAAOlD,GAAOoD,EAAOpD,IAAU,OAAOkD,EAOne,ICRMmM,GACAC,GACAC,GDMFC,GAAgB,KAChBC,ICTEJ,IAAiB,EACjBC,IAAoB,EACpBC,QAAsB5Q,EACnB,SAAkCiC,GAEnC8O,IAAAA,IADJL,GAEOvF,OAAAA,QAAQK,QAAQvJ,GAASE,MAAK,SAAUuI,GAc7C,OAAIkG,IAAuBG,EAAmBJ,GACrCC,IAGTD,GAAmBI,EACnBH,GAAsBlG,EACfA,QDhBN,SAASsG,GAAQlL,GACtB,IAAImL,EAAQnL,EAAKmL,MACbC,EAAiBpL,EAAKqL,UACtBA,OAA+B,IAAnBD,EAA4B,GAAKA,EAC7CvK,EAAQb,EAAKa,MACbuD,EAAQpE,EAAKoE,MACbkH,EAAUtL,EAAKsL,QACfxC,EAAQ9I,EAAK8I,MACbyC,EAAUlB,GAAyBrK,EAAMoK,IAEzCW,IACFlK,EAAM0C,YAAY9I,aAAasQ,IAGjC,IAAIS,EAAiBD,EAAQC,eACzBrF,EAAYoF,EAAQpF,UACpBsF,EAAWF,EAAQE,SACnBC,EAAkBH,EAAQG,gBAC1BC,EAAYJ,EAAQI,UAIpB,GAHJF,EAASrH,GACTsH,EAAgB7K,EAAMlD,sBAEjByG,IAA+B,IAAtBvD,EAAM8C,YAAuB,CACzC,IAAIiI,EAEAlQ,EAAcoN,EAAM9H,WAAWtF,YAAY6D,KAAI,SAAU3D,GACpD4C,OAAAA,GAAcA,GAAc,GAAI5C,GAAa,GAAI,CACtDC,MAAO,QAGX8P,EAAU,QACVH,EAAe9P,GACfyK,EAAqD,QAA1CyF,EAAoBP,EAAU/G,cAA0C,IAAtBsH,EAA+BA,EAAoB/K,EAAMkD,gBAAgB,CACpItI,MAAOqN,EAAM9H,cAMX6K,IAAAA,EAAW1O,EAAW6N,GAAyBtP,GAAaW,MAAK,WAC5DgJ,OAAAA,QAAQK,cAGjB,OAAOoD,EAAMxH,gBAAgBC,IAAIsK,GAGnCF,EAAU,WACVZ,GAAgBlK,EAAM0C,YAAY7I,YAAW,WAC3CiR,EAAU,aACT9K,EAAMiD,gBAOL4E,IAAAA,EAAUvL,EAAW6N,GAAyBnK,EAAMuE,WAAW5G,GAAc,CAC/E4F,MAAOA,EACPkH,QAASA,EACT7P,MAAOqN,EAAM9H,YACZuK,IAAUlP,MAAK,SAAU6H,GACnBmB,OAAAA,QAAQC,IAAIpB,EAAQ3E,KAAI,SAAUZ,GAChC0G,OAAAA,QAAQK,QAAQ/G,EAAOmN,SAAStN,GAAc,CACnD4F,MAAOA,EACPkH,QAASA,EACT7P,MAAOqN,EAAM9H,YACZuK,KAAWlP,MAAK,SAAUuL,GAC3B,OAAOD,GAAWC,EAAoBjJ,EAAOiH,SAAUkD,EAAM9H,mBAE7D3E,KAAKqJ,IAASrJ,MAAK,SAAUuM,GAC/B,OAAOC,GAAYD,EAAW1E,EAAS4E,MACtCzM,MAAK,SAAUX,GAChB,OFlFC,SAAiBsE,GACtB,IAAItE,EAAcsE,EAAKtE,YACnBmF,EAAQb,EAAKa,MACbpF,EAAQuE,EAAKvE,MAGbsQ,EAA4BrQ,EAAYZ,QAAO,SAAU0E,EAAK5D,GAChE,OAAO4C,EAAcA,EAAc,GAAIgB,GAAM,GAAIZ,EAAgB,GAAIhD,EAAW+C,OAAOiH,SAAUpH,EAAcA,EAAc,GAAI5C,EAAW+C,QAAS,GAAI,CACvJmN,SAAU,WAER,OAAOlR,EAAQgB,EAAWC,cAG7B,IAYCmQ,EAVwBnL,EAAM4C,QAAQ3I,QAAO,SAAU0E,EAAK+F,GAC1DA,OAAAA,EAAOvB,QACFuB,EAAOvB,QAAQxE,GAGjBA,IACN,CACDwM,kBAAmBD,EACnBtQ,MAAOA,IAEqCuQ,kBAQ9C,OAAOpR,EANciG,EAAMmD,QAAQ,CACjCgI,kBAAmBA,EACnB9H,QAASjG,OAAOpD,OAAOmR,GACvBvQ,MAAOA,KAGsB2C,OAAOoH,SAASjG,KAAI,SAAUZ,GACpD,MAAA,CACLA,OAAQA,EACR9C,MAAO8C,EAAOmN,eE8CP9H,CAAQ,CACbtI,YAAaA,EACbmF,MAAOA,EACPpF,MAAOqN,EAAM9H,qBAGd3E,MAAK,SAAUX,GACduQ,IAAAA,EAMJN,EAAU,QACVH,EAAe9P,GACf,IAAIwQ,EAAcrL,EAAMkD,gBAAgB,CACtCtI,MAAOqN,EAAM9H,aAEfmF,EAAsD,QAA3C8F,EAAqBZ,EAAU/G,cAA2C,IAAvB2H,EAAgCA,EAAqBpL,EAAM8C,cAAgBS,GAAS8H,GAAeA,GAC7JC,IAAAA,EAAkB/M,EAAc0J,EAAM9H,YAEtC8H,GAAkC,OAAlCA,EAAM9H,WAAWnB,cAAyBsM,EAAiB,CAC7D,IAAIpM,EAAOoM,EAAgBpM,KACvBO,EAAiB6L,EAAgB7L,eACjCE,EAAU2L,EAAgB3L,QAC1B7B,EAASwN,EAAgBxN,OAC7BA,EAAOyH,SAAS5H,GAAc,CAC5B2M,MAAOA,EACPpL,KAAMA,EACNO,eAAgBA,EAChBE,QAASA,EACT8K,QAASA,EACT3M,OAAQA,EACRlD,MAAOqN,EAAM9H,YACZuK,QAEJ7O,SAAQ,WACTiP,EAAU,QAENZ,IACFlK,EAAM0C,YAAY9I,aAAasQ,OAGnC,OAAOjC,EAAMxH,gBAAgBC,IAAImH,GEpInC,IAAI0B,GAAY,CAAC,QAAS,QAAS,UAAW,SAE9C,SAASvM,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAE3M,SAASqL,GAAyB1L,EAAQ2L,GAAY,GAAc,MAAV3L,EAAgB,MAAO,GAAI,IAAkEpD,EAAKmD,EAAnED,EAEzF,SAAuCE,EAAQ2L,GAAY,GAAc,MAAV3L,EAAgB,MAAO,GAAQF,IAAuDlD,EAAKmD,EAA5DD,EAAS,GAAQ8L,EAAatM,OAAOD,KAAKW,GAAqB,IAAKD,EAAI,EAAGA,EAAI6L,EAAWlQ,OAAQqE,IAAOnD,EAAMgP,EAAW7L,GAAQ4L,EAASE,QAAQjP,IAAQ,IAAakD,EAAOlD,GAAOoD,EAAOpD,IAAQ,OAAOkD,EAFxMgM,CAA8B9L,EAAQ2L,GAA2BrM,GAAAA,OAAOC,sBAAuB,CAAE,IAAIwM,EAAmBzM,OAAOC,sBAAsBS,GAAS,IAAKD,EAAI,EAAGA,EAAIgM,EAAiBrQ,OAAQqE,IAAOnD,EAAMmP,EAAiBhM,GAAQ4L,EAASE,QAAQjP,IAAQ,GAAkB0C,OAAOuE,UAAUmI,qBAAqBjI,KAAK/D,EAAQpD,KAAgBkD,EAAOlD,GAAOoD,EAAOpD,IAAU,OAAOkD,ECRne,IAAI2L,GAAY,CAAC,QAAS,UAAW,SACjCgC,GAAa,CAAC,eAAgB,cAAe,gBAC7CC,GAAa,CAAC,gBACdC,GAAa,CAAC,eAAgB,aAC9BC,GAAa,CAAC,eACdC,GAAa,CAAC,eACdC,GAAa,CAAC,OAAQ,SAAU,eAEpC,SAAS5O,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAE3M,SAASqL,GAAyB1L,EAAQ2L,GAAY,GAAc,MAAV3L,EAAgB,MAAO,GAAI,IAAkEpD,EAAKmD,EAAnED,EAEzF,SAAuCE,EAAQ2L,GAAY,GAAc,MAAV3L,EAAgB,MAAO,GAAQF,IAAuDlD,EAAKmD,EAA5DD,EAAS,GAAQ8L,EAAatM,OAAOD,KAAKW,GAAqB,IAAKD,EAAI,EAAGA,EAAI6L,EAAWlQ,OAAQqE,IAAOnD,EAAMgP,EAAW7L,GAAQ4L,EAASE,QAAQjP,IAAQ,IAAakD,EAAOlD,GAAOoD,EAAOpD,IAAQ,OAAOkD,EAFxMgM,CAA8B9L,EAAQ2L,GAA2BrM,GAAAA,OAAOC,sBAAuB,CAAE,IAAIwM,EAAmBzM,OAAOC,sBAAsBS,GAAS,IAAKD,EAAI,EAAGA,EAAIgM,EAAiBrQ,OAAQqE,IAAOnD,EAAMmP,EAAiBhM,GAAQ4L,EAASE,QAAQjP,IAAQ,GAAkB0C,OAAOuE,UAAUmI,qBAAqBjI,KAAK/D,EAAQpD,KAAgBkD,EAAOlD,GAAOoD,EAAOpD,IAAU,OAAOkD,EAQ5d,SAASiO,GAAe1M,GAC7B,IAAIa,EAAQb,EAAKa,MACbyK,EAAUtL,EAAKsL,QACfxC,EAAQ9I,EAAK8I,MACbyC,EAAUlB,GAAyBrK,EAAMoK,IAgMzCuC,EAAoB,SAA2BC,EAAYhH,GAC7D,YAA2B,IAAbA,EAA2B,GAAG3K,OAAO2R,EAAY,KAAK3R,OAAO2K,GAAYgH,GAuHlF,MAAA,CACLC,oBAvTwB,SAA6BC,GACrD,IAAIC,EAAeD,EAAcC,aAC7BC,EAAcF,EAAcE,YAC5BC,EAAeH,EAAcG,aAGxBC,SAAAA,EAAwB/B,IAOCrC,EAAM9H,WAAWsD,QAAWwE,EAAMxH,gBAAgBI,WAEhDyJ,EAAM1M,SAAWsO,IAUhB,IAJF,CAACC,EAAaC,GAAcE,MAAK,SAAUC,GAC1E,OClDyBC,EDkDDD,EClDSE,EDkDInC,EAAM1M,OCjD1C4O,IAAWC,GAASD,EAAOE,SAASD,GADtC,IAA0BD,EAAQC,ODsDjCxE,EAAM7H,SAAS,OAAQ,MAKlBJ,EAAM6C,OACToF,EAAMxH,gBAAgBG,aAK5B,OAAOjD,GAAc,CAUnBgP,aAAcN,EACdO,YAAaP,EAKbQ,YAAa,SAAqBvC,IACA,IAA5BrC,EAAM9H,WAAWsD,QAAoByI,IAAiBlM,EAAM0C,YAAYoK,SAASC,eAAiBzC,EAAM1M,SAAWsO,GAIvHA,EAAac,SAtDNxD,GAAyByC,EAAeV,MAoTnD0B,aAzPiB,SAAsBC,GACvC,OAAOvP,GAAc,CACnBwP,KAAM,WACN,gBAAiBlF,EAAM9H,WAAWsD,OAClC,gBAAiB,UACjB,YAAawE,EAAM9H,WAAWsD,OAAS,GAAGrJ,OAAO4F,EAAMsD,GAAI,cAAWjK,EACtE,kBAAmB,GAAGe,OAAO4F,EAAMsD,GAAI,WACtC4J,IAmPHE,aAhPiB,SAAsBnB,GAIvC,OAHmBA,EAAcC,aAG1BvO,GAAc,CACnB0C,OAAQ,GACRgN,YAAY,EACZF,KAAM,SACNlJ,SAAU,SAAkBqG,GAC1B,IAAIgD,EAEJhD,EAAMiD,iBACNvN,EAAMiE,SAAStG,GAAc,CAC3B2M,MAAOA,EACPG,QAASA,EACT7P,MAAOqN,EAAM9H,YACZuK,IACHzC,EAAM7H,SAAS,SAAU,MACgC,QAAxDkN,EAAwBrB,EAAcC,oBAAoD,IAA1BoB,GAA4CA,EAAsBN,QAErI5I,QAAS,SAAiBkG,GACxB,IAAIkD,EAEJlD,EAAMiD,iBACNvN,EAAMoE,QAAQzG,GAAc,CAC1B2M,MAAOA,EACPG,QAASA,EACT7P,MAAOqN,EAAM9H,YACZuK,IACHzC,EAAM7H,SAAS,QAAS,MACkC,QAAzDoN,EAAyBvB,EAAcC,oBAAqD,IAA3BsB,GAA6CA,EAAuB/G,UA5B/H+C,GAAyByC,EAAeT,MA+OnDiC,cAxHkB,SAAuBxB,GACzC,IAAI/F,EAAQ+F,GAAiB,GACzByB,EAAcxH,EAAMwH,YACpBR,EAAO1D,GAAyBtD,EAAOwF,IAE3C,OAAO/N,GAAc,CACnBgQ,QAAS,GAAGvT,OAAO0R,EAAkB9L,EAAMsD,GAAIoK,GAAc,UAC7DpK,GAAI,GAAGlJ,OAAO0R,EAAkB9L,EAAMsD,GAAIoK,GAAc,WACvDR,IAiHHU,cA/MkB,SAAuB3B,GACzC,IAAI4B,EAEKC,SAAAA,EAAQxD,IAGXtK,EAAM8C,aAAe6B,QAAQsD,EAAM9H,WAAWoD,SAChD8G,GAAQ1M,GAAc,CACpB2M,MAAOA,EACPtK,MAAOA,EACPuD,MAAO0E,EAAM9H,WAAWqD,YAAcyE,EAAM9H,WAAWoD,MACvDkH,QAASA,EACTxC,MAAOA,GACNyC,IAGLzC,EAAM7H,SAAS,QAAS,MAG1B,IAAIgD,EAAQ6I,GAAiB,GACV7I,EAAM8I,aADzB,IAEI6B,EAAkB3K,EAAM4K,UACxBA,OAAgC,IAApBD,EAA6B,IAAMA,EAC/Cb,EAAO1D,GAAyBpG,EAAOqI,IAEvCwC,EAAa1P,EAAc0J,EAAM9H,YAEjC+N,EXlKD,SAAmBC,GACjBxJ,OAAAA,QAAQwJ,GAAaA,EAAUC,MAAMvO,IWiKdwO,EAD+C,QAAzDR,EAAwB7N,EAAM0C,YAAYsD,iBAAiD,IAA1B6H,OAAmC,EAASA,EAAsBM,YAAc,IAE/JG,EAAeL,MAAAA,GAAgDA,EAAWtO,UAAYuO,EAAwB,KAAO,SACzH,OAAOvQ,GAAc,CACnB,oBAAqB,OACrB,wBAAyBsK,EAAM9H,WAAWsD,QAA4C,OAAlCwE,EAAM9H,WAAWnB,aAAwB,GAAG5E,OAAO4F,EAAMsD,GAAI,UAAUlJ,OAAO6N,EAAM9H,WAAWnB,mBAAgB3F,EACnK,gBAAiB4O,EAAM9H,WAAWsD,OAAS,GAAGrJ,OAAO4F,EAAMsD,GAAI,cAAWjK,EACvD,kBAAA,GAAGe,OAAO4F,EAAMsD,GAAI,UACvClF,MAAO6J,EAAM9H,WAAWqD,YAAcyE,EAAM9H,WAAWoD,MACvDD,GAAI,GAAGlJ,OAAO4F,EAAMsD,GAAI,UACxBiL,aAAc,MACdC,YAAa,MACbC,eAAgB,MAChBH,aAAcA,EACdI,WAAY,QACZ1L,UAAWhD,EAAMgD,UACjBD,YAAa/C,EAAM+C,YACnBiL,UAAWA,EACXxN,KAAM,SACNmO,SAAU,SAAkBrE,GAC1BD,GAAQ1M,GAAc,CACpB2M,MAAOA,EACPtK,MAAOA,EACPuD,MAAO+G,EAAMsE,cAAcxQ,MAAM0D,MAAM,EAAGkM,GAC1CvD,QAASA,EACTxC,MAAOA,GACNyC,KAELmE,UAAW,SAAmBvE,IDhL7B,SAAmBnL,GACxB,IAAImL,EAAQnL,EAAKmL,MACbtK,EAAQb,EAAKa,MACbyK,EAAUtL,EAAKsL,QACfxC,EAAQ9I,EAAK8I,MACbyC,EAAUlB,GAAyBrK,EAAMoK,IAEzCe,GAAc,YAAdA,EAAM5P,KAAmC,cAAd4P,EAAM5P,IAAqB,CAExD,IAAIoU,EAAwB,WACtBC,IAAAA,EAAW/O,EAAM0C,YAAYoK,SAASkC,eAAe,GAAG5U,OAAO4F,EAAMsD,GAAI,UAAUlJ,OAAO6N,EAAM9H,WAAWnB,eAE3G+P,IACEA,EAASE,uBACXF,EAASE,wBAAuB,GAEhCF,EAASG,gBAAe,KAM1BC,EAAkB,WAChB7D,IAAAA,EAAkB/M,EAAc0J,EAAM9H,YAEtC8H,GAAkC,OAAlCA,EAAM9H,WAAWnB,cAAyBsM,EAAiB,CAC7D,IAAIpM,EAAOoM,EAAgBpM,KACvBO,EAAiB6L,EAAgB7L,eACjCE,EAAU2L,EAAgB3L,QAC1B7B,EAASwN,EAAgBxN,OAC7BA,EAAOyH,SAAS5H,GAAc,CAC5B2M,MAAOA,EACPpL,KAAMA,EACNO,eAAgBA,EAChBE,QAASA,EACT8K,QAASA,EACT3M,OAAQA,EACRlD,MAAOqN,EAAM9H,YACZuK,MAMPJ,EAAMiD,kBAG0B,IAA5BtF,EAAM9H,WAAWsD,SAAqBzD,EAAM8C,aAAe6B,QAAQsD,EAAM9H,WAAWoD,QACtF8G,GAAQ1M,GAAc,CACpB2M,MAAOA,EACPtK,MAAOA,EACPuD,MAAO0E,EAAM9H,WAAWoD,MACxBkH,QAASA,EACTxC,MAAOA,GACNyC,IAAUlP,MAAK,WAChByM,EAAM7H,SAASkK,EAAM5P,IAAK,CACxB0U,iBAAkBpP,EAAMlD,sBAE1BqS,IAIAtV,WAAWiV,EAAuB,OAGpC7G,EAAM7H,SAASkK,EAAM5P,IAAK,IAC1ByU,IACAL,UAEG,GAAkB,WAAdxE,EAAM5P,IAIf4P,EAAMiD,iBACNtF,EAAM7H,SAASkK,EAAM5P,IAAK,MAK1BuN,EAAMxH,gBAAgBG,iBACjB,GAAkB,QAAd0J,EAAM5P,IACfuN,EAAM7H,SAAS,OAAQ,MAKvB6H,EAAMxH,gBAAgBG,iBACjB,GAAkB,UAAd0J,EAAM5P,IAAiB,CAGhC,GAAsC,OAAlCuN,EAAM9H,WAAWnB,cAAyBiJ,EAAM9H,WAAWtF,YAAYyO,OAAM,SAAUvO,GACzF,OAAmC,IAA5BA,EAAWC,MAAMxB,UAUxB,YAJKwG,EAAM6C,OACToF,EAAMxH,gBAAgBG,aAQ1B0J,EAAMiD,iBAEFnK,IAAAA,EAAQ7E,EAAc0J,EAAM9H,YAC5BjB,EAAOkE,EAAMlE,KACbO,EAAiB2D,EAAM3D,eACvBE,EAAUyD,EAAMzD,QAChB7B,EAASsF,EAAMtF,OAEnB,GAAIwM,EAAM+E,SAAW/E,EAAMgF,aACTjW,IAAZsG,IACF7B,EAAOuH,SAAS1H,GAAc,CAC5B2M,MAAOA,EACPpL,KAAMA,EACNO,eAAgBA,EAChBE,QAASA,EACT8K,QAASA,EACT3M,OAAQA,EACRlD,MAAOqN,EAAM9H,YACZuK,IACH1K,EAAMgG,UAAUK,eAAe,CAC7B1G,QAASA,EACTT,KAAMA,EACNtE,MAAOqN,EAAM9H,mBAGZ,GAAImK,EAAMiF,cACClW,IAAZsG,IACF7B,EAAOuH,SAAS1H,GAAc,CAC5B2M,MAAOA,EACPpL,KAAMA,EACNO,eAAgBA,EAChBE,QAASA,EACT8K,QAASA,EACT3M,OAAQA,EACRlD,MAAOqN,EAAM9H,YACZuK,IACH1K,EAAMgG,UAAUU,kBAAkB,CAChC/G,QAASA,EACTT,KAAMA,EACNtE,MAAOqN,EAAM9H,mBAGZ,GAAImK,EAAMkF,YACV,CACD7P,QAAYtG,IAAZsG,EAeF,OAdA7B,EAAOuH,SAAS1H,GAAc,CAC5B2M,MAAOA,EACPpL,KAAMA,EACNO,eAAgBA,EAChBE,QAASA,EACT8K,QAASA,EACT3M,OAAQA,EACRlD,MAAOqN,EAAM9H,YACZuK,SACH1K,EAAMgG,UAAUC,SAAS,CACvBtG,QAASA,EACTT,KAAMA,EACNtE,MAAOqN,EAAM9H,aAKjBkK,GAAQ1M,GAAc,CACpB2M,MAAOA,EACPE,UAAW,CACT/G,QAAQ,GAEVzD,MAAOA,EACPuD,MAAO9D,EACPgL,QAASA,EACTxC,MAAOA,GACNyC,IAAUlP,MAAK,WAChBsC,EAAOuH,SAAS1H,GAAc,CAC5B2M,MAAOA,EACPpL,KAAMA,EACNO,eAAgBA,EAChBE,QAASA,EACT8K,QAASA,EACT3M,OAAQA,EACRlD,MAAOqN,EAAM9H,YACZuK,SCTH+E,CAAW9R,GAAc,CACvB2M,MAAOA,EACPtK,MAAOA,EACPyK,QAASA,EACTxC,MAAOA,GACNyC,KAELoD,QAASA,EAIT4B,OAAQzU,EACR0U,QAAS,SAAiBrF,GAQpB2B,EAAcC,eAAiBlM,EAAM0C,YAAYoK,SAASC,eAAkB9E,EAAM9H,WAAWsD,QAC/FqK,EAAQxD,KAGX4C,IAiIH0C,cAnGkB,SAAuB1C,GACzC,OAAOvP,GAAc,CACnBiP,YAAa,SAAqBtC,GAIhCA,EAAMiD,kBAERsC,aAAc,WACZ5H,EAAM7H,SAAS,aAAc,QAE9B8M,IAyFH4C,aAhHiB,SAAsB7D,GACvC,IAAI3F,EAAQ2F,GAAiB,GACzByB,EAAcpH,EAAMoH,YACpBR,EAAO1D,GAAyBlD,EAAOqF,IAE3C,OAAOhO,GAAc,CACnBwP,KAAM,UACN,kBAAmB,GAAG/S,OAAO0R,EAAkB9L,EAAMsD,GAAIoK,GAAc,UACvEpK,GAAI,GAAGlJ,OAAO0R,EAAkB9L,EAAMsD,GAAIoK,GAAc,UACvDR,IAwGH6C,aAvFiB,SAAsB9D,GACvC,IAAI/M,EAAO+M,EAAc/M,KACrBpB,EAASmO,EAAcnO,OACvB4P,EAAczB,EAAcyB,YAC5BR,EAAO1D,GAAyByC,EAAeL,IAEnD,OAAOjO,GAAc,CACnB2F,GAAI,GAAGlJ,OAAO0R,EAAkB9L,EAAMsD,GAAIoK,GAAc,UAAUtT,OAAO8E,EAAK8Q,mBAC9E7C,KAAM,SACWlF,gBAAAA,EAAM9H,WAAWnB,eAAiBE,EAAK8Q,kBACxDC,YAAa,SAAqB3F,GAC5BpL,GAAAA,EAAK8Q,oBAAsB/H,EAAM9H,WAAWnB,aAA5CE,CAIJ+I,EAAM7H,SAAS,YAAalB,EAAK8Q,mBAC7B/B,IAAAA,EAAa1P,EAAc0J,EAAM9H,YAEjC8H,GAAkC,OAAlCA,EAAM9H,WAAWnB,cAAyBiP,EAAY,CACxD,IAAIiC,EAAQjC,EAAW/O,KACnBO,EAAiBwO,EAAWxO,eAC5BE,EAAUsO,EAAWtO,QACrBwQ,EAAUlC,EAAWnQ,OAEzBqS,EAAQ5K,SAAS5H,GAAc,CAC7B2M,MAAOA,EACPpL,KAAMgR,EACNzQ,eAAgBA,EAChBE,QAASA,EACT8K,QAASA,EACT3M,OAAQqS,EACRvV,MAAOqN,EAAM9H,YACZuK,OAGPkC,YAAa,SAAqBtC,GAGhCA,EAAMiD,kBAERoC,QAAS,SAAiBrF,GACxB,IAAI7K,EAAiB3B,EAAO4B,kBAAkB,CAC5CR,KAAMA,EACNtE,MAAOqN,EAAM9H,aAEXR,EAAU7B,EAAO8B,WAAW,CAC9BV,KAAMA,EACNtE,MAAOqN,EAAM9H,cAOKR,EAAU6E,QAAQK,UAAYwF,GAAQ1M,GAAc,CACtE2M,MAAOA,EACPE,UAAW,CACT/G,QAAQ,GAEVzD,MAAOA,EACPuD,MAAO9D,EACPgL,QAASA,EACTxC,MAAOA,GACNyC,KACWlP,MAAK,WACjBsC,EAAOuH,SAAS1H,GAAc,CAC5B2M,MAAOA,EACPpL,KAAMA,EACNO,eAAgBA,EAChBE,QAASA,EACT8K,QAASA,EACT3M,OAAQA,EACRlD,MAAOqN,EAAM9H,YACZuK,SAGNwC,KE/UP,SAASlQ,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAGpM,SAASiS,GAAYjR,GAC1B,IAAIkR,EAAGC,EAAuBC,EAAwBC,EAElD5N,EAAUzD,EAAKyD,QACf6N,EAAUtR,EAAKsR,QACfC,EAAuL,QAAzKL,IAAoE,QAA7DC,EAAwBG,EAAQE,+BAA+D,IAA1BL,OAAmC,EAASA,EAAsBnV,aAAe,IAAI,UAAsB,IAANkV,OAAe,EAASA,EAAEjV,QACzNwV,EAAeF,EAAa3S,GAAgB,GAAI2S,EAAYtT,OAAOD,MAAqE,QAA9DoT,EAAyBE,EAAQE,+BAAgE,IAA3BJ,OAAoC,EAASA,EAAuBE,UAAY,KAAO,GACpO,MAAA,CACL7N,QAASA,EAAQlE,KAAI,SAAUgG,GACtB,MAAA,CACL1C,KAAM0C,EAAO1C,KACbyO,QAASrT,OAAOD,KAAKuH,EAAOmM,8BAAgC,QAGhEJ,QAAS9S,GAAc,CACrB,oBAAqBP,OAAOD,KAAKsT,IAChCG,GACHE,GAAI3V,EAAWf,QAAuE,QAA9DoW,EAAyBC,EAAQE,+BAAgE,IAA3BH,OAAoC,EAASA,EAAuBrV,aAAe,KCvB9K,SAAS4V,GAAc5R,GAC5B,IAAI6R,EAEApW,EAAQuE,EAAKvE,MAEbA,OAAiB,IAAjBA,EAAM6I,QAA2C,OAAvB7I,EAAMoE,aAC3B,MAG2C,QAA3CgS,EAAiBzS,EAAc3D,UAAuC,IAAnBoW,OAA4B,EAASA,EAAevR,iBAAmB,KCVrI,SAASzC,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAKpM,IAAI8S,GAAe,SAAsBrW,EAAOyF,GAC7CA,OAAAA,EAAOG,MACb,IAAK,kBAmIL,IAAK,YAEM7C,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjDoE,aAAcqB,EAAOC,UA/H3B,IAAK,WAEM3C,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjD2I,MAAOlD,EAAOC,QACdkD,WAAY,OAIlB,IAAK,iBAEM7F,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjDC,YAAawF,EAAOC,UAI1B,IAAK,YAEM3C,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjD6I,OAAQpD,EAAOC,UAIrB,IAAK,YAEM3C,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjD8I,OAAQrD,EAAOC,UAIrB,IAAK,aAEM3C,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjD+I,QAAShG,GAAcA,GAAc,GAAI/C,EAAM+I,SAAUtD,EAAOC,WAItE,IAAK,YAED,IAAIkK,EAAY7M,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CAC1DoE,aAAcqB,EAAOC,QAAQ4Q,eAAe,oBAAsB7Q,EAAOC,QAAQ8O,iBAAmB1S,EAAoB,EAAG9B,EAAMoE,aAAcrE,EAAcC,GAAQyF,EAAOL,MAAMlD,uBAG7Ka,OAAAA,GAAcA,GAAc,GAAI6M,GAAY,GAAI,CACrDhH,WAAYuN,GAAc,CACxBnW,MAAO4P,MAKf,IAAK,UAED,IAAI2G,EAAaxT,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CAC3DoE,aAActC,GAAqB,EAAG9B,EAAMoE,aAAcrE,EAAcC,GAAQyF,EAAOL,MAAMlD,uBAGxFa,OAAAA,GAAcA,GAAc,GAAIwT,GAAa,GAAI,CACtD3N,WAAYuN,GAAc,CACxBnW,MAAOuW,MAKf,IAAK,SAEGvW,OAAAA,EAAM6I,OACD9F,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjDoE,aAAc,KACdyE,QAAQ,EACRD,WAAY,OAIT7F,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjDoE,aAAc,KACduE,MAAO,GACPG,OAAQ,OACR7I,YAAa,KAInB,IAAK,SAEM8C,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjDoE,aAAc,KACdyE,QAAQ,EACRC,OAAQ,SAId,IAAK,QAEM/F,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjDoE,cAI6B,IAA7BqB,EAAOL,MAAM8C,YAAuBzC,EAAOL,MAAMlD,oBAAsB,KACvE4G,OAAQ,OACRH,MAAO,KAIb,IAAK,QAEM5F,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjDoE,aAAcqB,EAAOL,MAAMlD,oBAC3B2G,QAASpD,EAAOL,MAAM8C,aAAe6B,QAAQ/J,EAAM2I,SAAWlD,EAAOL,MAAMkD,gBAAgB,CACzFtI,MAAOA,MAKf,IAAK,OAED,OAAIyF,EAAOL,MAAM6C,MACRjI,EAGF+C,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjD6I,QAAQ,EACRzE,aAAc,OAWpB,IAAK,aAEMrB,OAAAA,GAAcA,GAAc,GAAI/C,GAAQ,GAAI,CACjDoE,aAAcqB,EAAOL,MAAMlD,sBAIjC,QAEE,MADiB,sBAAsB1C,OAAO8K,KAAKC,UAAU9E,EAAOG,MAAO,sBACpE5F,IC9Jb,SAASoC,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAUpM,SAASiT,GAAmBX,GAE7BY,IAAAA,EAAc,GACdrR,EAAQuC,EAAgBkO,EAASY,GACjCpJ,EAAQnI,EAAYmR,GAAcjR,GAW7BC,SAAmBd,GAC1B,IAAIoB,EAAYpB,EAAKoB,UACjB3F,EAAQuE,EAAKvE,MACjBoF,EAAM4D,cAAcjG,GAAc,CAChC4C,UAAWA,EACX3F,MAAOA,EACP6P,QAASA,EACTzE,UAAWhG,EAAMgG,WAChB0E,OAlBDA,EZZC,SAAgCvL,GACrC,IAAI8I,EAAQ9I,EAAK8I,MAsCV,MAAA,CACL4C,gBArCoB,SAAyBzM,GAC7C6J,EAAM7H,SAAS,kBAAmBhC,IAqClCwM,SAlCa,SAAkBxM,GAC/B6J,EAAM7H,SAAS,WAAYhC,IAkC3BuM,eA/BmB,SAAwB2G,GACvCC,IAAAA,EAAa,EACbnT,EAAQkT,EAAS5S,KAAI,SAAU3D,GAC1B4C,OAAAA,EAAcA,EAAc,GAAI5C,GAAa,GAAI,CAGtDC,MAAOjB,EAAQgB,EAAWC,OAAO0D,KAAI,SAAUQ,GACtCvB,OAAAA,EAAcA,EAAc,GAAIuB,GAAO,GAAI,CAChD8Q,kBAAmBuB,cAK3BtJ,EAAM7H,SAAS,iBAAkBhC,IAmBjCkH,UAhBc,SAAmBlH,GACjC6J,EAAM7H,SAAS,YAAahC,IAgB5B0M,UAbc,SAAmB1M,GACjC6J,EAAM7H,SAAS,YAAahC,IAa5BoT,WAVe,SAAoBpT,GACnC6J,EAAM7H,SAAS,aAAchC,KYxBjBqT,CAAuB,CACnCxJ,MAAOA,IAELyJ,EAAc7F,GAAelO,GAAc,CAC7CqC,MAAOA,EACPyK,QAASA,EACTxC,MAAOA,EACPjC,UAAWhG,EAAMgG,WAChB0E,IAaH,SAASD,IACAJ,OAAAA,GAAQ1M,GAAc,CAC3B2M,MAAO,IAAIqH,MAAM,SACjBnH,UAAW,CACT/G,OAAQwE,EAAM9H,WAAWsD,QAE3BzD,MAAOA,EACPgG,UAAWhG,EAAMgG,UACjBzC,MAAO0E,EAAM9H,WAAWoD,MACxBkH,QAASA,EACTxC,MAAOA,GACNyC,IAiCE/M,OA9BPqC,EAAM4C,QAAQxG,SAAQ,SAAUsI,GAC9B,IAAIkN,EAEJ,OAAkD,QAA1CA,EAAoBlN,EAAOmN,iBAA6C,IAAtBD,OAA+B,EAASA,EAAkB/P,KAAK6C,EAAQ/G,GAAcA,GAAc,GAAI+M,GAAU,GAAI,CAC7K1E,UAAWhG,EAAMgG,UACjByE,QAASA,EACTpF,SAAU,SAAkBnM,GAC1BmY,EAAYrV,KAAK,CACfqJ,SAAUnM,KAGdqM,SAAU,SAAkBrM,GAC1BmY,EAAYrV,KAAK,CACfuJ,SAAUrM,KAGdsM,UAAW,SAAmBtM,GAC5BmY,EAAYrV,KAAK,CACfwJ,UAAWtM,WH7Cd,SAAwBgN,GACzB4L,IAAAA,EAAuBC,EAEvBC,EAAW9L,EAAM8L,SACjBtP,EAAcwD,EAAMxD,YAGxB,GAF4E,QAAnDoP,EAAwBpP,EAAYsD,iBAAiD,IAA1B8L,GAA2G,QAA9DC,EAAyBD,EAAsB3D,iBAAkD,IAA3B4D,OAAhF,EAA6HA,EAAuB/M,SAAS,mBAE7P,CACjBiN,IAAAA,EAAoBvP,EAAYoK,SAASoF,cAAc,QACvDC,EAAUzP,EAAYoK,SAASsF,cAAc,QACjDH,EAAkBjQ,KAAO,mBACzBnI,YAAW,WACToY,EAAkBI,QAAUnN,KAAKC,UAAU6M,GAC3CG,EAAQG,YAAYL,KACnB,IGoCLM,CAAe,CACbP,SAAU5B,GAAY,CACpBxN,QAAS5C,EAAM4C,QACf6N,QAASA,IAEX/N,YAAa1C,EAAM0C,cAEd/E,GAAcA,GAAc,CACjC8M,QAASA,EACTzE,UAAWhG,EAAMgG,WAChB0L,GAAchH,GCvFnB,IAAIhJ,GAAE,SAAS8Q,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAEH,EAAE,GAAG,EAAE,IAAI,IAAII,EAAE,EAAEA,EAAEJ,EAAEjZ,OAAOqZ,IAAI,CAAC,IAAIC,EAAEL,EAAEI,KAAK3Y,EAAEuY,EAAEI,IAAIJ,EAAE,IAAIK,EAAE,EAAE,EAAEJ,EAAED,EAAEI,OAAOJ,IAAII,GAAG,IAAIC,EAAEH,EAAE,GAAGzY,EAAE,IAAI4Y,EAAEH,EAAE,GAAGvV,OAAOgJ,OAAOuM,EAAE,IAAI,GAAGzY,GAAG,IAAI4Y,GAAGH,EAAE,GAAGA,EAAE,IAAI,IAAIF,IAAII,IAAI3Y,EAAE,IAAI4Y,EAAEH,EAAE,GAAGF,IAAII,KAAK3Y,EAAE,GAAG4Y,GAAGF,EAAEJ,EAAE1Y,MAAMI,EAAEwH,GAAE8Q,EAAEtY,EAAEwY,EAAE,CAAC,GAAG,QAAQC,EAAE3W,KAAK4W,GAAG1Y,EAAE,GAAGuY,EAAE,IAAI,GAAGA,EAAEI,EAAE,GAAG,EAAEJ,EAAEI,GAAGD,IAAID,EAAE3W,KAAK9B,GAAG,OAAOyY,GAAGH,GAAE,IAAIO,IAAmB,SAAQC,GAACP,GAAG,IAAIC,EAAEF,GAAES,IAAIC,MAAM,OAAOR,IAAIA,EAAE,IAAIK,IAAIP,GAAEW,IAAID,KAAKR,KAAKA,EAAEhR,GAAEwR,KAAKR,EAAEO,IAAIR,KAAKC,EAAES,IAAIV,EAAEC,EAAE,SAAShR,GAAG,IAAI,IAAI8Q,EAAEC,EAAEC,EAAE,EAAEC,EAAE,GAAGC,EAAE,GAAGC,EAAE,CAAC,GAAGC,EAAE,SAASpR,GAAG,IAAIgR,IAAIhR,IAAIiR,EAAEA,EAAES,QAAQ,uBAAuB,MAAMP,EAAE7W,KAAK,EAAE0F,EAAEiR,GAAG,IAAID,IAAIhR,GAAGiR,IAAIE,EAAE7W,KAAK,EAAE0F,EAAEiR,GAAGD,EAAE,GAAG,IAAIA,GAAG,QAAQC,GAAGjR,EAAEmR,EAAE7W,KAAK,EAAE0F,EAAE,GAAG,IAAIgR,GAAGC,IAAIjR,EAAEmR,EAAE7W,KAAK,EAAE,GAAE,EAAG2W,GAAGD,GAAG,KAAKC,IAAIjR,GAAG,IAAIgR,KAAKG,EAAE7W,KAAK0W,EAAE,EAAEC,EAAEF,GAAGC,EAAE,GAAGhR,IAAImR,EAAE7W,KAAK0W,EAAEhR,EAAE,EAAE+Q,GAAGC,EAAE,IAAIC,EAAE,IAAIzY,EAAE,EAAEA,EAAEwH,EAAElI,OAAOU,IAAI,CAACA,IAAI,IAAIwY,GAAGI,IAAIA,EAAE5Y,IAAI,IAAI,IAAImZ,EAAE,EAAEA,EAAE3R,EAAExH,GAAGV,OAAO6Z,IAAIb,EAAE9Q,EAAExH,GAAGmZ,GAAG,IAAIX,EAAE,MAAMF,GAAGM,IAAID,EAAE,CAACA,GAAGH,EAAE,GAAGC,GAAGH,EAAE,IAAIE,EAAE,OAAOC,GAAG,MAAMH,GAAGE,EAAE,EAAEC,EAAE,IAAIA,EAAEH,EAAEG,EAAE,GAAGC,EAAEJ,IAAII,EAAEA,EAAE,GAAGD,GAAGH,EAAE,MAAMA,GAAG,MAAMA,EAAEI,EAAEJ,EAAE,MAAMA,GAAGM,IAAIJ,EAAE,GAAGA,IAAI,MAAMF,GAAGE,EAAE,EAAED,EAAEE,EAAEA,EAAE,IAAI,MAAMH,IAAIE,EAAE,GAAG,MAAMhR,EAAExH,GAAGmZ,EAAE,KAAKP,IAAI,IAAIJ,IAAIG,EAAEA,EAAE,IAAIH,EAAEG,GAAGA,EAAEA,EAAE,IAAI7W,KAAK,EAAE,EAAE0W,GAAGA,EAAE,GAAG,MAAMF,GAAG,OAAOA,GAAG,OAAOA,GAAG,OAAOA,GAAGM,IAAIJ,EAAE,GAAGC,GAAGH,GAAG,IAAIE,GAAG,QAAQC,IAAID,EAAE,EAAEG,EAAEA,EAAE,IAAI,OAAOC,IAAID,EAAntB,CAAstBJ,IAAIC,GAAGnZ,UAAU,KAAKC,OAAO,EAAEkZ,EAAEA,EAAE,GCI5qC,IAAMY,GAGT,SAAqBnU,GAAlBuD,IAAAA,IAAAA,YACC6Q,EAAU7Q,EAAYoK,SAAS0G,gBACnC,6BACA,OAEFD,EAAQE,aAAa,QAAS,gBAC9BF,EAAQE,aAAa,UAAW,aAChCF,EAAQE,aAAa,QAAS,MAC9BF,EAAQE,aAAa,SAAU,MAC/BF,EAAQE,aAAa,OAAQ,gBAEvBhZ,IAAAA,EAAOiI,EAAYoK,SAAS0G,gBAChC,6BACA,QASF,OAPA/Y,EAAKgZ,aACH,IACA,uUAGFF,EAAQjB,YAAY7X,GAEb8Y,GC1BF,SAASG,GACdhR,EACAtE,GAEA,GAAqB,iBAAVA,EAAoB,CACvBmV,IAAAA,EAAU7Q,EAAYoK,SAASsF,cAA2BhU,GAOhE,MALS,eAAAhE,OAEQ8K,KAAKC,UAAU/G,GAFhC,4BAKOmV,EAGT,OAAOnV,EChBF,SAASuV,KAEd,IAAA,IAAAra,EAAAC,UAAAC,OADGQ,EACH,IAAAN,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IADGK,EACHL,GAAAJ,UAAAI,GACOK,OAAAA,EAAOC,QAAO,SAAC0E,EAAK3F,GAUzB,OATAoE,OAAOD,KAAKnE,GAASoD,SAAQ,SAAC1B,GAC5B,IAAMkZ,EAAWjV,EAAIjE,GACfmZ,EAAe7a,EAAQ0B,GAEzBkZ,IAAaC,IACflV,EAAIjE,GAAO,CAACkZ,EAAUC,GAActW,OAAOoH,SAASmP,KAAK,SAItDnV,IACN,IChBL,IAAMoV,GAAgB,SAAC3V,GAAD,OACpBA,GACiB,WAAjB4V,EAAO5V,IACmC,oBAA1ChB,OAAOuE,UAAUC,SAASC,KAAKzD,IAE1B,SAAS6V,KAA4B,IAAA,IAAA3a,EAAAC,UAAAC,OAAfQ,EAAe,IAAAN,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAfK,EAAeL,GAAAJ,UAAAI,GACnCK,OAAAA,EAAOC,QAAO,SAAC0E,EAAK3F,GAczB,OAbAoE,OAAOD,KAAKnE,GAASoD,SAAQ,SAAC1B,GAC5B,IAAMkZ,EAAWjV,EAAIjE,GACfmZ,EAAe7a,EAAQ0B,GAEzBhB,MAAMsH,QAAQ4S,IAAala,MAAMsH,QAAQ6S,GAC3ClV,EAAIjE,GAAOkZ,EAASxZ,OAATwZ,MAAAA,EAAmBC,EAAAA,IACrBE,GAAcH,IAAaG,GAAcF,GAClDlV,EAAIjE,GAAOuZ,GAAUL,EAAUC,GAE/BlV,EAAIjE,GAAOmZ,KAIRlV,IACN,ICrBE,SAASuV,GACd/V,EACAgW,GAEO/W,OAAAA,OAAOgX,QAAQjW,GAAKlE,QACzB,SAAC0E,EAAsBQ,GAAA,IAAAiE,EAAAiR,EAAAlV,EAAA,GAAhBzE,EAAgB0I,EAAA,GAAXhF,EAAWgF,EAAA,GACrB,OAAI+Q,EAAU,CAAEzZ,IAAAA,EAAK0D,MAAAA,IACnBT,EAAAA,EAAA,GAAYgB,GAAZ,GAAAZ,EAAA,GAAkBrD,EAAM0D,IAGnBO,IAET,ICLJ,IAAM2V,GAAuB,CAC3B,eACA,aACA,cACA,iBASF,SAASC,GAASC,EAAe9Z,EAAa0D,GAE1CoW,EAAM9Z,GADM,OAAV0D,EACW,GACa,iBAAVA,EACHA,EAEAA,EAAQ,KAOzB,SAASqW,GAAsBnK,GAC7B4I,KAAKwB,WAAWpK,EAAM9J,MAAM8J,GAMvB,SAASqK,GAAYC,EAAkB5S,EAAc5D,GAC1D,IAAIyW,EACAC,EACAC,EAAWH,EAAI5S,GAEfA,GAAS,UAATA,EACF,GAAoB,iBAAT5D,EACRwW,EAAYJ,MAAQpW,OAEjBA,GAAU,OAAVA,EACDwW,EAAYJ,MAAQ,QAEhBxS,IAAAA,KAAQ5D,EACN2W,GAAY3W,EAAM4D,KAAU+S,EAAS/S,IACxCuS,GAASK,EAAIJ,MAAOxS,EAAM5D,EAAM4D,QAOrB,MAAZA,EAAK,IAA0B,MAAZA,EAAK,IAC/B6S,EAAa7S,KAAUA,EAAOA,EAAKoR,QAAQ,WAAY,OACvD0B,EAAY9S,EAAKgT,iBACAJ,GAAON,GAAqBtP,SAAS8P,MACpD9S,EAAO8S,GACT9S,EAAOA,EAAKF,MAAM,GAEZ8S,EAAYF,aAAaE,EAAYF,WAAa,IACvDE,EAAYF,WAAW1S,GAAQ5D,EAE5BA,EACG2W,GAAUH,EAAIK,iBAAiBjT,EAAMyS,GAAYI,GAEtDD,EAAIM,oBAAoBlT,EAAMyS,GAAYI,IAGnC,SAAT7S,GACS,YAATA,GAGS,SAATA,GACS,SAATA,GACS,SAATA,GACS,aAATA,GACS,SAATA,GACAA,KAAQ4S,EAERA,EAAI5S,GAAiB,MAAT5D,EAAgB,GAAKA,EACR,mBAATA,GAAgC,4BAAT4D,IAE5B,MAAT5D,IACW,IAAVA,IAOE,MAAM6D,KAAKD,GAEd4S,EAAIO,gBAAgBnT,GAEpB4S,EAAInB,aAAazR,EAAM5D,IAK7B,SAASgX,GAAkBpT,GACzB,MACO,aADCA,EAEG,UAEAA,EAIN,SAASqT,GAAcT,EAAkB5U,GAC9C,IAAK,IAAMgC,KAAQhC,EACjB2U,GAAYC,EAAKQ,GAAkBpT,GAAOhC,EAAMgC,IAI7C,SAASsT,GACdV,EACA5U,GAEA,IAAK,IAAMgC,KAAQhC,EACC,MAAZgC,EAAK,IAA0B,MAAZA,EAAK,IAC5B2S,GAAYC,EAAKQ,GAAkBpT,GAAOhC,EAAMgC,wBCzH/C,SAASuT,GAAoB7S,GAClC,OAAO,SACL8S,EAE+BrW,GAAA,IAAAsW,EAAAtW,EAD7BuW,SAAAA,aAAW,GACkBD,EADXzV,EACWwJ,EAAArK,EAAAoK,IACzBgK,EAAU7Q,EAAYoK,SAASoF,cAAsBsD,GAI3D,OAHAH,GAAc9B,EAASvT,GACvBuT,EAAQoC,aAARpC,EAAOzS,EAAW4U,IAEXnC,uHCbEqC,GAGT,SAAqBzW,GAAlBuD,IACC6Q,IADD7Q,YACuBoK,SAAS0G,gBACnC,6BACA,OA0BF,OAxBAD,EAAQE,aAAa,QAAS,kBAC9BF,EAAQE,aAAa,UAAW,eAChCF,EAAQE,aAAa,QAAS,MAC9BF,EAAQE,aAAa,SAAU,MAE/BF,EAAQsC,UAAR,yXAmBOtC,GChCIuC,GAGT,SAAqB3W,GAAlBuD,IAAAA,IAAAA,YACC6Q,EAAU7Q,EAAYoK,SAAS0G,gBACnC,6BACA,OAEFD,EAAQE,aAAa,QAAS,iBAC9BF,EAAQE,aAAa,UAAW,aAChCF,EAAQE,aAAa,QAAS,MAC9BF,EAAQE,aAAa,SAAU,MAC/BF,EAAQE,aAAa,OAAQ,gBAEvBhZ,IAAAA,EAAOiI,EAAYoK,SAAS0G,gBAChC,6BACA,QASF,OAPA/Y,EAAKgZ,aACH,IACA,imBAGFF,EAAQjB,YAAY7X,GAEb8Y,GCEF,SAASwC,GAW2B5W,GAVzC6W,IAAAA,IAAAA,aACAC,IAAAA,qBACAC,IAAAA,WACAxT,IAAAA,YACAyT,IAAAA,WAMyCC,EAAAjX,EALzC4D,YAAAA,aAAc,SAK2BqT,EAJzC1E,IAAAA,YACA2E,IAAAA,eACAzb,IAAAA,MACA0b,IAAAA,aAEMC,EAAmBhB,GAAoB7S,GAEvC8T,EAAY9E,EAAYzE,aAAZtP,EAAA,CAChB/C,MAAAA,EACAoF,MAAOgW,EAAa/I,aAAa,KAC9BgJ,IAECQ,EAAOF,EAAiB,MAAD5Y,EAAA,CAC3B+Y,MAAOR,EAAWO,MACfD,IAECG,EAAoBJ,EAAiB,MAAO,CAChDG,MAAOR,EAAWS,kBAClB/J,YAAYtC,SAAAA,GACVA,EAAMsM,qBAGJC,EAAkBN,EAAiB,MAAO,CAC9CG,MAAOR,EAAWW,gBAClBnB,SAAU,CAACiB,GACX/J,YAAc,WACZyJ,GAAe,GACfL,EAAa1Q,WAAU,MAIrBwR,EAAapF,EAAYjE,cAAZ9P,EAAA,CACjB/C,MAAAA,EACAoF,MAAOgW,EAAavI,cAAc,KAC/BwI,IAECc,EAAeR,EAAiB,SAAU,CAC9CG,MAAOR,EAAWa,aAClBvW,KAAM,SACNwW,MAAOV,EAAaW,kBACpBvB,SAAU,CAACI,GAAW,CAAEpT,YAAAA,OAEpBuG,EAAQsN,EAAiB,QAAD5Y,EAAA,CAC5B+Y,MAAOR,EAAWjN,MAClByM,SAAU,CAACqB,IACRD,IAECI,EAAcX,EAAiB,SAAU,CAC7CG,MAAOR,EAAWgB,YAClB1W,KAAM,QACNwW,MAAOV,EAAaa,iBACpBzB,SAAU,CAACpC,GAAU,CAAE5Q,YAAAA,OAEnB0U,EAAmBb,EAAiB,MAAO,CAC/CG,MAAOR,EAAWkB,iBAClB1B,SAAU,CAACE,GAAY,CAAElT,YAAAA,OAGrB2U,EC5EgE,SASlElY,GARJ8W,IAAAA,IAAAA,qBACAvT,IAAAA,cACAwT,WAMI,IALJtI,IAAAA,cACA0J,IAAAA,kBACAnB,IAAAA,WACAvb,IAAAA,MACGoF,EACCwJ,EAAArK,EAAAoK,IAEEgK,EADmBgC,GAAoB7S,EAC7B6T,CAAiB,QAASvW,GACpCuX,EAAa3J,EAAajQ,EAAA,CAC9B/C,MAAAA,EACAoF,MAAOsX,EAAkB,CAAEpL,aAAcqH,IACzCrH,aAAcqH,GACX0C,IAeL,OAZAZ,GAAc9B,EAAD5V,EAAAA,EAAA,GACR4Z,GADQ,GAAA,CAEX1I,UAAUvE,SAAAA,GAEJ6L,GAA4B,QAAd7L,EAAM5P,KAIxB6c,EAAW1I,UAAUvE,OAIlBiJ,ED6COiE,CAAM,CAClBd,MAAOR,EAAWmB,MAClB3U,YAAAA,EACA9H,MAAAA,EACAgT,cAAe8D,EAAY9D,cAC3B0J,kBAAmBtB,EAAapI,cAChCqI,qBAAAA,EACAE,WAAAA,IAGIsB,EAAqBlB,EAAiB,MAAO,CACjDG,MAAOR,EAAWuB,mBAClB/B,SAAU,CAACzM,EAAOmO,KAEdM,EAAqBnB,EAAiB,MAAO,CACjDG,MAAOR,EAAWwB,mBAClBhC,SAAU,CAACwB,KAEPS,EAAepB,EAAiB,MAAO,CAC3CG,MAAOR,EAAWyB,aAClBjC,SAAU,CAAC2B,KAGPO,EAAYlG,EAAYtE,aAAZzP,EAAA,CAChB/C,MAAAA,EACAoF,MAAOgW,EAAa5I,aAAa,CAAElB,aAAcmL,KAC9CpB,IAEC4B,EAAOtB,EAAiB,OAAD5Y,EAAA,CAC3B+Y,MAAOR,EAAW2B,KAClBnC,SAAU,CAAC+B,EAAoBE,EAAcD,IAC1CE,IAECE,EAAapG,EAAY9B,cAAZjS,EAAA,CACjB/C,MAAAA,EACAoF,MAAOgW,EAAapG,cAAc,KAC/BqG,IAEC8B,EAAQxB,EAAiB,MAAD5Y,EAAA,CAC5B+Y,MAAOR,EAAW6B,OACfD,IAGCE,EAA4BzB,EAAiB,MAAO,CACxDG,MAAOR,EAAW8B,0BAClBC,YAAard,EAAM2I,QAEf2U,EAAkC3B,EAAiB,MAAO,CAC9DG,MAAOR,EAAWgC,gCAClBC,OAAQxT,QAAQ/J,EAAM2I,OACtB0U,YAAalV,IASf,GAAIoT,EAAY,CACd,IAAMiC,EAA2B7B,EAAiB,MAAO,CACvDG,MAAOR,EAAWkC,yBAClB1C,SAAU,CAACI,GAAW,CAAEpT,YAAAA,OAEpB2V,EAAuB9B,EAAiB,SAAU,CACtD/V,KAAM,SACNkW,MAAOR,EAAWmC,qBAClB1I,QAAU,WACR0G,GAAe,IAEjBX,SAAU,CACR0C,EACAF,EACAF,KAGEM,EAAuB/B,EAAiB,SAAU,CACtD/V,KAAM,SACNkW,MAAOR,EAAWoC,qBAClBL,YAAa3B,EAAaiC,yBAG1B5L,aAAarC,SAAAA,GACXA,EAAMsM,mBAERjH,QAAU,WACRqG,EAAa1Q,WAAU,GACvB+Q,GAAe,MAGbmC,EAAwBjC,EAAiB,MAAO,CACpDG,MAAOR,EAAWsC,sBAClB9C,SAAU,CAACmC,EAAMS,KAGnB3B,EAAkBrE,YAAYkG,GAC9B/B,EAAKnE,YAAY+F,QAEjB5B,EAAKnE,YAAYuF,GAGZ,MAAA,CACLlB,kBAAAA,EACAE,gBAAAA,EACAmB,0BAAAA,EACAE,gCAAAA,EACAP,aAAAA,EACAN,MAAAA,EACAZ,KAAAA,EACAoB,KAAAA,EACA5O,MAAAA,EACA8N,aAAAA,EACAG,YAAAA,EACAE,iBAAAA,EACAW,MAAAA,GElND,IAACrW,GAAE2R,GAAET,GAAIJ,GAAEE,GAAElR,GAAImR,GAAE,GAAG8F,GAAE,GAAGhG,GAAE,oEAAoE,SAASvY,GAAEwH,EAAE2R,GAAG,IAAI,IAAIT,KAAKS,EAAE3R,EAAEkR,GAAGS,EAAET,GAAG,OAAOlR,EAAE,SAASmR,GAAEnR,GAAG,IAAI2R,EAAE3R,EAAEgX,WAAWrF,GAAGA,EAAEsF,YAAYjX,GAAG,SAASkX,GAAEvF,EAAET,EAAE/U,GAAG,IAAI2U,EAAEE,EAAElR,EAAEqX,EAAE,GAAG,IAAIrX,KAAKoR,EAAE,OAAOpR,EAAEgR,EAAEI,EAAEpR,GAAG,OAAOA,EAAEkR,EAAEE,EAAEpR,GAAGqX,EAAErX,GAAGoR,EAAEpR,GAAG,GAAGjI,UAAUC,OAAO,IAAIqf,EAAEnD,SAASnc,UAAUC,OAAO,EAAEkI,GAAEG,KAAKtI,UAAU,GAAGsE,GAAG,mBAAmBwV,GAAG,MAAMA,EAAEyF,aAAa,IAAItX,KAAK6R,EAAEyF,kBAAa,IAASD,EAAErX,KAAKqX,EAAErX,GAAG6R,EAAEyF,aAAatX,IAAI,OAAOuX,GAAE1F,EAAEwF,EAAErG,EAAEE,EAAE,MAAM,SAASqG,GAAErX,EAAE7D,EAAE2U,EAAEE,EAAElR,GAAG,IAAIqX,EAAE,CAACrY,KAAKkB,EAAE1B,MAAMnC,EAAEnD,IAAI8X,EAAEwG,IAAItG,EAAEuG,IAAI,KAAKC,GAAG,KAAKC,IAAI,EAAEC,IAAI,KAAKC,SAAI,EAAOC,IAAI,KAAKC,IAAI,KAAKxX,iBAAY,EAAOyX,IAAI,MAAMhY,IAAIoR,GAAEpR,GAAG,OAAO,MAAMA,GAAG,MAAM6R,GAAEoG,OAAOpG,GAAEoG,MAAMZ,GAAGA,EAAoC,SAASa,GAAEhY,GAAG,OAAOA,EAAEgU,SAAS,SAASrF,GAAE3O,EAAE2R,GAAGH,KAAKlT,MAAM0B,EAAEwR,KAAKvP,QAAQ0P,EAAE,SAASsG,GAAEjY,EAAE2R,GAAG,GAAG,MAAMA,EAAE,OAAO3R,EAAEwX,GAAGS,GAAEjY,EAAEwX,GAAGxX,EAAEwX,GAAGD,IAAItP,QAAQjI,GAAG,GAAG,KAAK,IAAI,IAAIkR,EAAES,EAAE3R,EAAEuX,IAAIzf,OAAO6Z,IAAI,GAAG,OAAOT,EAAElR,EAAEuX,IAAI5F,KAAK,MAAMT,EAAEwG,IAAI,OAAOxG,EAAEwG,IAAI,MAAM,mBAAmB1X,EAAElB,KAAKmZ,GAAEjY,GAAG,KAAK,SAASvH,GAAEuH,GAAG,IAAI2R,EAAET,EAAE,GAAG,OAAOlR,EAAEA,EAAEwX,KAAK,MAAMxX,EAAE4X,IAAI,CAAC,IAAI5X,EAAE0X,IAAI1X,EAAE4X,IAAIM,KAAK,KAAKvG,EAAE,EAAEA,EAAE3R,EAAEuX,IAAIzf,OAAO6Z,IAAI,GAAG,OAAOT,EAAElR,EAAEuX,IAAI5F,KAAK,MAAMT,EAAEwG,IAAI,CAAC1X,EAAE0X,IAAI1X,EAAE4X,IAAIM,KAAKhH,EAAEwG,IAAI,MAAM,OAAOjf,GAAEuH,IAAI,SAASmY,GAAEnY,KAAKA,EAAE2X,MAAM3X,EAAE2X,KAAI,IAAK7G,GAAExW,KAAK0F,KAAKoY,GAAEC,OAAOvY,KAAI6R,GAAE2G,sBAAsBxY,GAAE6R,GAAE2G,oBAAoBtH,IAAGoH,IAAG,SAASA,KAAI,IAAI,IAAIpY,EAAEoY,GAAEC,IAAIvH,GAAEhZ,QAAQkI,EAAE8Q,GAAEyH,MAAK,SAASvY,EAAE2R,GAAG,OAAO3R,EAAE8X,IAAIL,IAAI9F,EAAEmG,IAAIL,OAAM3G,GAAE,GAAG9Q,EAAE4K,MAAK,SAAS5K,GAAG,IAAI2R,EAAET,EAAE/U,EAAE2U,EAAEE,EAAElR,EAAEE,EAAE2X,MAAM3G,GAAGF,GAAGa,EAAE3R,GAAG8X,KAAKJ,KAAK5X,EAAE6R,EAAE6G,OAAOtH,EAAE,IAAI/U,EAAE3D,GAAE,GAAGsY,IAAIgH,IAAIhH,EAAEgH,IAAI,EAAEW,GAAE3Y,EAAEgR,EAAE3U,EAAEwV,EAAE+G,SAAI,IAAS5Y,EAAE6Y,gBAAgB,MAAM7H,EAAE+G,IAAI,CAAC7G,GAAG,KAAKE,EAAE,MAAMF,EAAEiH,GAAEnH,GAAGE,EAAEF,EAAE+G,KAAKe,GAAE1H,EAAEJ,GAAGA,EAAE4G,KAAK1G,GAAGvY,GAAEqY,QAAO,SAAS+H,GAAE7Y,EAAE2R,EAAET,EAAE/U,EAAE2U,EAAEE,EAAElR,EAAEqX,EAAEpG,EAAEvY,GAAG,IAAI2Y,EAAE+F,EAAE9F,EAAEzC,EAAElW,EAAE0f,EAAEC,EAAES,EAAE1c,GAAGA,EAAEob,KAAKR,GAAE+B,EAAED,EAAE/gB,OAAO,IAAIoZ,EAAEqG,IAAI,GAAGpG,EAAE,EAAEA,EAAEQ,EAAE7Z,OAAOqZ,IAAI,GAAG,OAAOxC,EAAEuC,EAAEqG,IAAIpG,GAAG,OAAOxC,EAAEgD,EAAER,KAAK,kBAAkBxC,EAAE,KAAK,iBAAiBA,GAAG,iBAAiBA,GAAG,iBAAiBA,EAAE0I,GAAE,KAAK1I,EAAE,KAAK,KAAKA,GAAG3W,MAAMsH,QAAQqP,GAAG0I,GAAEW,GAAE,CAAChE,SAASrF,GAAG,KAAK,KAAK,MAAMA,EAAE8I,IAAI,EAAEJ,GAAE1I,EAAE7P,KAAK6P,EAAErQ,MAAMqQ,EAAE3V,IAAI,KAAK2V,EAAEmJ,KAAKnJ,GAAG,CAAC,GAAGA,EAAE6I,GAAGtG,EAAEvC,EAAE8I,IAAIvG,EAAEuG,IAAI,EAAE,QAAQrG,EAAEyH,EAAE1H,KAAKC,GAAGzC,EAAE3V,KAAKoY,EAAEpY,KAAK2V,EAAE7P,OAAOsS,EAAEtS,KAAK+Z,EAAE1H,QAAG,OAAY,IAAI+F,EAAE,EAAEA,EAAE4B,EAAE5B,IAAI,CAAC,IAAI9F,EAAEyH,EAAE3B,KAAKvI,EAAE3V,KAAKoY,EAAEpY,KAAK2V,EAAE7P,OAAOsS,EAAEtS,KAAK,CAAC+Z,EAAE3B,QAAG,EAAO,MAAM9F,EAAE,KAAKqH,GAAEzY,EAAE2O,EAAEyC,EAAEA,GAAGH,GAAEH,EAAEE,EAAElR,EAAEqX,EAAEpG,EAAEvY,GAAGC,EAAEkW,EAAE+I,KAAKR,EAAEvI,EAAE2I,MAAMlG,EAAEkG,KAAKJ,IAAIkB,IAAIA,EAAE,IAAIhH,EAAEkG,KAAKc,EAAE9d,KAAK8W,EAAEkG,IAAI,KAAK3I,GAAGyJ,EAAE9d,KAAK4c,EAAEvI,EAAEiJ,KAAKnf,EAAEkW,IAAI,MAAMlW,GAAG,MAAM0f,IAAIA,EAAE1f,GAAG,mBAAmBkW,EAAE7P,MAAM6P,EAAE4I,MAAMnG,EAAEmG,IAAI5I,EAAEgJ,IAAI5G,EAAE1O,GAAEsM,EAAEoC,EAAE/Q,GAAG+Q,EAAEgI,GAAE/Y,EAAE2O,EAAEyC,EAAEyH,EAAEpgB,EAAEsY,GAAG,mBAAmBG,EAAEpS,OAAOoS,EAAEyG,IAAI5G,IAAIA,GAAGK,EAAEsG,KAAK3G,GAAGA,EAAEiG,YAAYhX,IAAI+Q,EAAEkH,GAAE7G,IAAI,IAAIF,EAAEwG,IAAIS,EAAEhH,EAAE2H,EAAE3H,KAAK,MAAM0H,EAAE1H,KAAK,mBAAmBD,EAAEpS,MAAM,MAAM+Z,EAAE1H,GAAGuG,KAAKmB,EAAE1H,GAAGuG,KAAKxG,EAAEyG,MAAMzG,EAAEyG,IAAIM,GAAE9b,EAAEgV,EAAE,IAAI6H,GAAEH,EAAE1H,GAAG0H,EAAE1H,KAAK,GAAGiH,EAAE,IAAIjH,EAAE,EAAEA,EAAEiH,EAAEtgB,OAAOqZ,IAAI8H,GAAEb,EAAEjH,GAAGiH,IAAIjH,GAAGiH,IAAIjH,IAAI,SAAS9O,GAAErC,EAAE2R,EAAET,GAAG,IAAI,IAAI/U,EAAE2U,EAAE9Q,EAAEuX,IAAIvG,EAAE,EAAEF,GAAGE,EAAEF,EAAEhZ,OAAOkZ,KAAK7U,EAAE2U,EAAEE,MAAM7U,EAAEqb,GAAGxX,EAAE2R,EAAE,mBAAmBxV,EAAE2C,KAAKuD,GAAElG,EAAEwV,EAAET,GAAG6H,GAAE7H,EAAE/U,EAAEA,EAAE2U,EAAE3U,EAAEub,IAAI/F,IAAI,OAAOA,EAA0H,SAASoH,GAAE/Y,EAAE2R,EAAET,EAAE/U,EAAE2U,EAAEE,GAAG,IAAIlR,EAAEqX,EAAElG,EAAE,QAAG,IAASU,EAAEgG,IAAI7X,EAAE6R,EAAEgG,IAAIhG,EAAEgG,SAAI,OAAY,GAAG,MAAMzG,GAAGJ,GAAGE,GAAG,MAAMF,EAAEkG,WAAWhX,EAAE,GAAG,MAAMgR,GAAGA,EAAEgG,aAAahX,EAAEA,EAAE4Q,YAAYE,GAAGhR,EAAE,SAAS,CAAC,IAAIqX,EAAEnG,EAAEC,EAAE,GAAGkG,EAAEA,EAAE+B,cAAcjI,EAAE9U,EAAErE,OAAOmZ,GAAG,EAAE,GAAGkG,GAAGrG,EAAE,MAAM9Q,EAAEA,EAAEmZ,aAAarI,EAAEE,GAAGlR,EAAEkR,EAAE,YAAO,IAASlR,EAAEA,EAAEgR,EAAEoI,YAAuO,SAASE,GAAEpZ,EAAE2R,EAAET,GAAG,MAAMS,EAAE,GAAG3R,EAAEiT,YAAYtB,EAAET,GAAGlR,EAAE2R,GAAG,MAAMT,EAAE,GAAG,iBAAiBA,GAAGH,GAAExQ,KAAKoR,GAAGT,EAAEA,EAAE,KAAK,SAASmI,GAAErZ,EAAE2R,EAAET,EAAE/U,EAAE2U,GAAG,IAAIE,EAAEhR,EAAE,GAAG,UAAU2R,EAAE,GAAG,iBAAiBT,EAAElR,EAAE8S,MAAMwG,QAAQpI,MAAM,CAAC,GAAG,iBAAiB/U,IAAI6D,EAAE8S,MAAMwG,QAAQnd,EAAE,IAAIA,EAAE,IAAIwV,KAAKxV,EAAE+U,GAAGS,KAAKT,GAAGkI,GAAEpZ,EAAE8S,MAAMnB,EAAE,IAAI,GAAGT,EAAE,IAAIS,KAAKT,EAAE/U,GAAG+U,EAAES,KAAKxV,EAAEwV,IAAIyH,GAAEpZ,EAAE8S,MAAMnB,EAAET,EAAES,SAAS,GAAG,MAAMA,EAAE,IAAI,MAAMA,EAAE,GAAGX,EAAEW,KAAKA,EAAEA,EAAED,QAAQ,WAAW,KAAKC,EAAEA,EAAE2B,gBAAgBtT,EAAE2R,EAAE2B,cAAclT,MAAM,GAAGuR,EAAEvR,MAAM,GAAGJ,EAAE2R,IAAI3R,EAAE2R,EAAE,IAAI3R,EAAE2R,EAAEA,EAAEX,GAAGE,EAAEA,EAAE/U,GAAG6D,EAAEuT,iBAAiB5B,EAAEX,EAAEuI,GAAEC,GAAExI,GAAGhR,EAAEwT,oBAAoB7B,EAAEX,EAAEuI,GAAEC,GAAExI,QAAQ,GAAG,4BAA4BW,EAAE,CAAC,GAAGb,EAAEa,EAAEA,EAAED,QAAQ,aAAa,KAAKA,QAAQ,SAAS,UAAU,GAAG,SAASC,GAAG,SAASA,GAAG,SAASA,GAAG,aAAaA,GAAG,aAAaA,GAAGA,KAAK3R,EAAE,IAAIA,EAAE2R,GAAG,MAAMT,EAAE,GAAGA,EAAE,MAAMlR,EAAE,MAAMA,IAAI,mBAAmBkR,IAAI,MAAMA,KAAI,IAAKA,GAAG,MAAMS,EAAE,IAAI,MAAMA,EAAE,IAAI3R,EAAE+R,aAAaJ,EAAET,GAAGlR,EAAEyT,gBAAgB9B,KAAK,SAAS6H,GAAExZ,GAAGwR,KAAKG,EAAE3R,EAAElB,MAAK,GAAI6S,GAAE/I,MAAM+I,GAAE/I,MAAM5I,GAAGA,GAAG,SAASuZ,GAAEvZ,GAAGwR,KAAKG,EAAE3R,EAAElB,MAAK,GAAI6S,GAAE/I,MAAM+I,GAAE/I,MAAM5I,GAAGA,GAAG,SAASyY,GAAEzY,EAAEkR,EAAE/U,EAAE2U,EAAEE,EAAElR,EAAEqX,EAAElG,EAAE8F,GAAG,IAAIhG,EAAEI,EAAE+F,EAAEG,EAAEjG,EAAE6G,EAAExf,EAAE0f,EAAEC,EAAE/V,EAAEyW,EAAEC,EAAE7H,EAAEpS,KAAK,QAAG,IAASoS,EAAE7Q,YAAY,OAAO,KAAK,MAAMlE,EAAE0b,MAAMd,EAAE5a,EAAE0b,IAAI5G,EAAEC,EAAEwG,IAAIvb,EAAEub,IAAIxG,EAAE2G,IAAI,KAAK/X,EAAE,CAACmR,KAAKF,EAAEY,GAAE8F,MAAM1G,EAAEG,GAAG,IAAIlR,EAAE,GAAG,mBAAmB+Y,EAAE,CAAC,GAAGZ,EAAEjH,EAAE5S,MAAM8Z,GAAGrH,EAAEgI,EAAEU,cAAc3I,EAAEC,EAAE6G,KAAKvV,EAAE0O,EAAEqH,EAAEA,EAAE9Z,MAAM5B,MAAMqU,EAAEyG,GAAG1G,EAAE3U,EAAEyb,IAAInf,GAAG0Y,EAAED,EAAE0G,IAAIzb,EAAEyb,KAAKJ,GAAGrG,EAAEuI,KAAK,cAAcX,GAAGA,EAAE9Y,UAAU0Z,OAAOzI,EAAE0G,IAAIzG,EAAE,IAAI4H,EAAEZ,EAAE9V,IAAI6O,EAAE0G,IAAIzG,EAAE,IAAIxC,GAAEwJ,EAAE9V,GAAG8O,EAAE9Q,YAAY0Y,EAAE5H,EAAEwI,OAAOC,IAAGxB,GAAGA,EAAEyB,IAAI1I,GAAGA,EAAE7S,MAAM6Z,EAAEhH,EAAEjY,QAAQiY,EAAEjY,MAAM,IAAIiY,EAAElP,QAAQI,EAAE8O,EAAEuH,IAAI5H,EAAEoG,EAAE/F,EAAEwG,KAAI,EAAGxG,EAAE0G,IAAI,IAAI,MAAM1G,EAAE2I,MAAM3I,EAAE2I,IAAI3I,EAAEjY,OAAO,MAAM6f,EAAEgB,2BAA2B5I,EAAE2I,KAAK3I,EAAEjY,QAAQiY,EAAE2I,IAAIthB,GAAE,GAAG2Y,EAAE2I,MAAMthB,GAAE2Y,EAAE2I,IAAIf,EAAEgB,yBAAyB5B,EAAEhH,EAAE2I,OAAOzC,EAAElG,EAAE7S,MAAM8S,EAAED,EAAEjY,MAAMge,EAAE,MAAM6B,EAAEgB,0BAA0B,MAAM5I,EAAE6I,oBAAoB7I,EAAE6I,qBAAqB,MAAM7I,EAAE8I,mBAAmB9I,EAAE0G,IAAIvd,KAAK6W,EAAE8I,uBAAuB,CAAC,GAAG,MAAMlB,EAAEgB,0BAA0B5B,IAAId,GAAG,MAAMlG,EAAE+I,2BAA2B/I,EAAE+I,0BAA0B/B,EAAE9V,IAAI8O,EAAEuG,KAAK,MAAMvG,EAAEgJ,wBAAuB,IAAKhJ,EAAEgJ,sBAAsBhC,EAAEhH,EAAE2I,IAAIzX,IAAI6O,EAAE4G,MAAM3b,EAAE2b,IAAI,CAAC3G,EAAE7S,MAAM6Z,EAAEhH,EAAEjY,MAAMiY,EAAE2I,IAAI5I,EAAE4G,MAAM3b,EAAE2b,MAAM3G,EAAEwG,KAAI,GAAIxG,EAAE2G,IAAI5G,EAAEA,EAAEwG,IAAIvb,EAAEub,IAAIxG,EAAEqG,IAAIpb,EAAEob,IAAIrG,EAAEqG,IAAI7c,SAAQ,SAASsF,GAAGA,IAAIA,EAAEwX,GAAGtG,MAAKC,EAAE0G,IAAI/f,QAAQqf,EAAE7c,KAAK6W,GAAG,MAAMnR,EAAE,MAAMmR,EAAEiJ,qBAAqBjJ,EAAEiJ,oBAAoBjC,EAAEhH,EAAE2I,IAAIzX,GAAG,MAAM8O,EAAEkJ,oBAAoBlJ,EAAE0G,IAAIvd,MAAK,WAAW6W,EAAEkJ,mBAAmBhD,EAAEjG,EAAE6G,MAAK9G,EAAElP,QAAQI,EAAE8O,EAAE7S,MAAM6Z,EAAEhH,EAAEjY,MAAMiY,EAAE2I,KAAK/I,EAAEY,GAAE0G,MAAMtH,EAAEG,GAAGC,EAAEwG,KAAI,EAAGxG,EAAE2G,IAAI5G,EAAEC,EAAEqH,IAAIxY,EAAE+Q,EAAEI,EAAEwI,OAAOxI,EAAE7S,MAAM6S,EAAEjY,MAAMiY,EAAElP,SAASkP,EAAEjY,MAAMiY,EAAE2I,IAAI,MAAM3I,EAAEmJ,kBAAkBxJ,EAAEtY,GAAEA,GAAE,GAAGsY,GAAGK,EAAEmJ,oBAAoBpD,GAAG,MAAM/F,EAAEoJ,0BAA0BtC,EAAE9G,EAAEoJ,wBAAwBlD,EAAEjG,IAAI0H,EAAE,MAAM/H,GAAGA,EAAEjS,OAAOkZ,IAAG,MAAMjH,EAAE/X,IAAI+X,EAAEzS,MAAM0V,SAASjD,EAAE8H,GAAE7Y,EAAEhI,MAAMsH,QAAQwZ,GAAGA,EAAE,CAACA,GAAG5H,EAAE/U,EAAE2U,EAAEE,EAAElR,EAAEqX,EAAElG,EAAE8F,GAAG5F,EAAE+G,KAAKhH,EAAEwG,IAAIxG,EAAE2G,IAAI,KAAK1G,EAAE0G,IAAI/f,QAAQqf,EAAE7c,KAAK6W,GAAG1Y,IAAI0Y,EAAEuI,IAAIvI,EAAEqG,GAAG,MAAMrG,EAAEuG,KAAI,OAAQ,MAAM5X,GAAGoR,EAAE4G,MAAM3b,EAAE2b,KAAK5G,EAAEqG,IAAIpb,EAAEob,IAAIrG,EAAEwG,IAAIvb,EAAEub,KAAKxG,EAAEwG,IAAI8C,GAAEre,EAAEub,IAAIxG,EAAE/U,EAAE2U,EAAEE,EAAElR,EAAEqX,EAAEJ,IAAIhG,EAAEY,GAAE8I,SAAS1J,EAAEG,GAAG,MAAMlR,GAAGkR,EAAE4G,IAAI,MAAMf,GAAG,MAAMjX,KAAKoR,EAAEwG,IAAIzG,EAAEC,EAAE2G,MAAMd,EAAEjX,EAAEA,EAAEmI,QAAQgJ,IAAI,MAAMU,GAAE+F,IAAI1X,EAAEkR,EAAE/U,IAAI,SAASyc,GAAE5Y,EAAEkR,GAAGS,GAAEiG,KAAKjG,GAAEiG,IAAI1G,EAAElR,GAAGA,EAAE4K,MAAK,SAASsG,GAAG,IAAIlR,EAAEkR,EAAE2G,IAAI3G,EAAE2G,IAAI,GAAG7X,EAAE4K,MAAK,SAAS5K,GAAGA,EAAEG,KAAK+Q,MAAK,MAAMlR,GAAG2R,GAAE+F,IAAI1X,EAAEkR,EAAE4G,SAAQ,SAAS0C,GAAE7I,EAAET,EAAE/U,EAAE2U,EAAEE,EAAElR,EAAEqX,EAAEJ,GAAG,IAAIhG,EAAEvY,EAAE0e,EAAEG,EAAElb,EAAEmC,MAAM8S,EAAEF,EAAE5S,MAAM0Z,EAAE9G,EAAEpS,KAAK6P,EAAE,EAAE,GAAG,QAAQqJ,IAAIhH,GAAE,GAAI,MAAMlR,EAAE,KAAK6O,EAAE7O,EAAEhI,OAAO6W,IAAI,IAAIoC,EAAEjR,EAAE6O,KAAK,iBAAiBoC,KAAKiH,IAAIA,EAAEjH,EAAE2J,YAAY1C,EAAE,IAAIjH,EAAE4J,UAAU,CAAChJ,EAAEZ,EAAEjR,EAAE6O,GAAG,KAAK,MAAM,GAAG,MAAMgD,EAAE,CAAC,GAAG,OAAOqG,EAAE,OAAO5M,SAASwP,eAAexJ,GAAGO,EAAEX,EAAE5F,SAAS0G,gBAAgB,6BAA6BkG,GAAG5M,SAASoF,cAAcwH,EAAE5G,EAAEyJ,IAAIzJ,GAAGtR,EAAE,KAAKiX,GAAE,EAAG,GAAG,OAAOiB,EAAEX,IAAIjG,GAAG2F,GAAGpF,EAAEmJ,OAAO1J,IAAIO,EAAEmJ,KAAK1J,OAAO,CAAC,GAAGtR,EAAEA,GAAGE,GAAEG,KAAKwR,EAAEoJ,YAAYviB,GAAG6e,EAAElb,EAAEmC,OAAO2S,IAAG+J,wBAAwB9D,EAAE9F,EAAE4J,yBAAyBjE,EAAE,CAAC,GAAG,MAAMjX,EAAE,IAAIuX,EAAE,GAAG1I,EAAE,EAAEA,EAAEgD,EAAEsJ,WAAWnjB,OAAO6W,IAAI0I,EAAE1F,EAAEsJ,WAAWtM,GAAGrO,MAAMqR,EAAEsJ,WAAWtM,GAAGjS,OAAOwa,GAAG1e,KAAK0e,IAAI1e,GAAG0e,EAAEgE,QAAQ1iB,EAAE0iB,QAAQhE,EAAEgE,SAASvJ,EAAEwC,aAAaxC,EAAEwC,UAAU+C,GAAGA,EAAEgE,QAAQ,KAAK,GAA15H,SAAWlb,EAAE2R,EAAET,EAAE/U,EAAE2U,GAAG,IAAIE,EAAE,IAAIA,KAAKE,EAAE,aAAaF,GAAG,QAAQA,GAAGA,KAAKW,GAAG0H,GAAErZ,EAAEgR,EAAE,KAAKE,EAAEF,GAAG7U,GAAG,IAAI6U,KAAKW,EAAEb,GAAG,mBAAmBa,EAAEX,IAAI,aAAaA,GAAG,QAAQA,GAAG,UAAUA,GAAG,YAAYA,GAAGE,EAAEF,KAAKW,EAAEX,IAAIqI,GAAErZ,EAAEgR,EAAEW,EAAEX,GAAGE,EAAEF,GAAG7U,GAAqsHgf,CAAExJ,EAAEP,EAAEiG,EAAErG,EAAE+F,GAAGG,EAAEhG,EAAEqG,IAAI,QAAQ,GAAG5I,EAAEuC,EAAE5S,MAAM0V,SAAS6E,GAAElH,EAAE3Z,MAAMsH,QAAQqP,GAAGA,EAAE,CAACA,GAAGuC,EAAE/U,EAAE2U,EAAEE,GAAG,kBAAkBgH,EAAElY,EAAEqX,EAAErX,EAAEA,EAAE,GAAG3D,EAAEob,KAAKU,GAAE9b,EAAE,GAAG4a,GAAG,MAAMjX,EAAE,IAAI6O,EAAE7O,EAAEhI,OAAO6W,KAAK,MAAM7O,EAAE6O,IAAIwC,GAAErR,EAAE6O,IAAIoI,IAAI,UAAU3F,QAAG,KAAUzC,EAAEyC,EAAE1U,SAASiS,IAAI0I,EAAE3a,OAAOiS,IAAIgD,EAAEjV,OAAO,aAAasb,IAAIrJ,IAAI0K,GAAE1H,EAAE,QAAQhD,EAAE0I,EAAE3a,OAAM,GAAI,YAAY0U,QAAG,KAAUzC,EAAEyC,EAAEgK,UAAUzM,IAAIgD,EAAEyJ,SAAS/B,GAAE1H,EAAE,UAAUhD,EAAE0I,EAAE+D,SAAQ,IAAK,OAAOzJ,EAAE,SAASsH,GAAEjZ,EAAEkR,EAAE/U,GAAG,IAAI,mBAAmB6D,EAAEA,EAAEkR,GAAGlR,EAAE1I,QAAQ4Z,EAAE,MAAMlR,GAAG2R,GAAE+F,IAAI1X,EAAE7D,IAAI,SAAS6c,GAAEhZ,EAAEkR,EAAE/U,GAAG,IAAI2U,EAAEE,EAAE,GAAGW,GAAE0J,SAAS1J,GAAE0J,QAAQrb,IAAI8Q,EAAE9Q,EAAEsX,OAAOxG,EAAExZ,SAASwZ,EAAExZ,UAAU0I,EAAE0X,KAAKuB,GAAEnI,EAAE,KAAKI,IAAI,OAAOJ,EAAE9Q,EAAE4X,KAAK,CAAC,GAAG9G,EAAEwK,qBAAqB,IAAIxK,EAAEwK,uBAAuB,MAAMtb,GAAG2R,GAAE+F,IAAI1X,EAAEkR,GAAGJ,EAAEoH,KAAKpH,EAAE0H,IAAI,KAAK,GAAG1H,EAAE9Q,EAAEuX,IAAI,IAAIvG,EAAE,EAAEA,EAAEF,EAAEhZ,OAAOkZ,IAAIF,EAAEE,IAAIgI,GAAElI,EAAEE,GAAGE,EAAE,mBAAmBlR,EAAElB,MAAM3C,GAAG,MAAM6D,EAAE0X,KAAKvG,GAAEnR,EAAE0X,KAAK1X,EAAE0X,IAAI1X,EAAE2X,SAAI,EAAO,SAASiC,GAAE5Z,EAAE2R,EAAET,GAAG,OAAOM,KAAKnR,YAAYL,EAAEkR,GAA29BlR,GAAE+W,GAAE3W,MAAMuR,GAAE,CAAC+F,IAAI,SAAS1X,EAAE2R,GAAG,IAAI,IAAIT,EAAE/U,EAAE2U,EAAEa,EAAEA,EAAE6F,IAAI,IAAItG,EAAES,EAAEiG,OAAO1G,EAAEsG,GAAG,IAAI,IAAIrb,EAAE+U,EAAE7Q,cAAc,MAAMlE,EAAEof,2BAA2BrK,EAAEsK,SAASrf,EAAEof,yBAAyBvb,IAAI8Q,EAAEI,EAAEyG,KAAK,MAAMzG,EAAEuK,oBAAoBvK,EAAEuK,kBAAkBzb,GAAG8Q,EAAEI,EAAEyG,KAAK7G,EAAE,OAAOI,EAAEwI,IAAIxI,EAAE,MAAMS,GAAG3R,EAAE2R,EAAE,MAAM3R,IAAIkR,GAAE,EAAwDvC,GAAE1O,UAAUub,SAAS,SAASxb,EAAE2R,GAAG,IAAIT,EAAEA,EAAE,MAAMM,KAAKsI,KAAKtI,KAAKsI,MAAMtI,KAAKtY,MAAMsY,KAAKsI,IAAItI,KAAKsI,IAAIthB,GAAE,GAAGgZ,KAAKtY,OAAO,mBAAmB8G,IAAIA,EAAEA,EAAExH,GAAE,GAAG0Y,GAAGM,KAAKlT,QAAQ0B,GAAGxH,GAAE0Y,EAAElR,GAAG,MAAMA,GAAGwR,KAAKsG,MAAMnG,GAAGH,KAAKqG,IAAIvd,KAAKqX,GAAGwG,GAAE3G,QAAQ7C,GAAE1O,UAAUyb,YAAY,SAAS1b,GAAGwR,KAAKsG,MAAMtG,KAAKkG,KAAI,EAAG1X,GAAGwR,KAAKqG,IAAIvd,KAAK0F,GAAGmY,GAAE3G,QAAQ7C,GAAE1O,UAAU0Z,OAAO3B,GAAElH,GAAE,GAAGE,GAAE,mBAAmBlO,QAAQA,QAAQ7C,UAAUnG,KAAK6hB,KAAK7Y,QAAQK,WAAWhL,WAAWigB,GAAEC,IAAI,ECA/hT,IAAIuD,GAAoB,mBACpBC,GAAqB,oBC2BzB,SAASC,GAAere,GAC7B,IACIse,EADmBte,EAAKue,iBACOC,MAAML,IACrCM,EAAaH,EAAYI,QACzBC,EA1BN,WACM/kB,IACAqF,EADe7E,UAAUC,OAAS,QAAsBH,IAAjBE,UAAU,GAAmBA,UAAU,GAAK,GAEhF,MAAA,CACL0Z,IAAK,WACH,OAAO7U,GAETsC,IAAK,SAAaqd,GACZC,IAAAA,EAAW5f,EAAMA,EAAM5E,OAAS,IAE/BwkB,MAAAA,OAA2C,EAASA,EAASC,iBAAmBF,EAAKE,cACxF7f,EAAMA,EAAM5E,OAAS,GAAK,CACxB4E,MAAO4f,EAAS5f,MAAQ2f,EAAK3f,MAC7B6f,cAAeD,EAASC,eAG1B7f,EAAMpC,KAAK+hB,KAULG,CAAmBN,EAAa,CAAC,CAC3Cxf,MAAOwf,EACPK,eAAe,IACZ,IAeEH,OAdPL,EAAYrhB,SAAQ,SAAU2hB,GAC5B,IAAII,EAAeJ,EAAKJ,MAAMJ,IAC9BO,EAAMpd,IAAI,CACRtC,MAAO+f,EAAa,GACpBF,eAAe,IAGO,KAApBE,EAAa,IACfL,EAAMpd,IAAI,CACRtC,MAAO+f,EAAa,GACpBF,eAAe,OAIdH,EAAM7K,MClDf,SAASnS,GAAmBC,GAAO,OAQnC,SAA4BA,GAAWrH,GAAAA,MAAMsH,QAAQD,GAAM,OAAOE,GAAkBF,GAR1CG,CAAmBH,IAM7D,SAA0BI,GAAY,GAAkB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOzH,MAAM4H,KAAKH,GANjFI,CAAiBR,IAItF,SAAqCS,EAAGC,GAAc,IAACD,EAAG,OAAY,GAAa,iBAANA,EAAgB,OAAOP,GAAkBO,EAAGC,GAAS,IAAIC,EAAItE,OAAOuE,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAAc,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAAM,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOhI,MAAM4H,KAAKE,GAAI,GAAU,cAANE,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOT,GAAkBO,EAAGC,GAJxTS,CAA4BnB,IAE1H,WAAgC,MAAM,IAAIoB,UAAU,wIAF8EC,GAUlI,SAASnB,GAAkBF,EAAKsB,IAAkB,MAAPA,GAAeA,EAAMtB,EAAIvH,UAAQ6I,EAAMtB,EAAIvH,QAAQ,IAAK,IAAIqE,EAAI,EAAGyE,EAAO,IAAI5I,MAAM2I,GAAMxE,EAAIwE,EAAKxE,IAAOyE,EAAKzE,GAAKkD,EAAIlD,GAAM,OAAOyE,EAIzK,SAAS8b,GAAyBjf,GACvC,IAAIuJ,EAAMvJ,EAAKuJ,IACX2V,EAAYlf,EAAKkf,UACjB5jB,EAAOf,MAAMsH,QAAQqd,GAAaA,EAAY,CAACA,GAC/CX,EAAmBnjB,EAAwBmO,EAAK,CAAC,oBAAoBtO,OAAO0G,GAAmBrG,GAAO,CAAC,WAO3G,MALgC,iBAArBijB,IAETA,EAAmBnjB,EAAwBmO,EAAKjO,IAAS,IAGpD+iB,GAAe,CACpBE,iBAAkBA,IC1BtB,IAAIY,GAAc,CAChB,QAAS,IACT,OAAQ,IACR,OAAQ,IACR,SAAU,IACD,QAAA,KAEPC,GAAkB,IAAIC,OAAO,OAC7BC,GAAmB,0BACnBC,GAAsBF,OAAOC,GAAiB3gB,QAQ3C,SAAS6gB,GAAkBb,EAAOjgB,GACnC+gB,IAAAA,EAAQC,EAPIzgB,EASZpF,EAAU8kB,EAAMjgB,GAChBihB,GAAiD,QAA3BF,EAASd,EAAMjgB,EAAI,UAA2B,IAAX+gB,OAAoB,EAASA,EAAOX,iBAAkB,EAC/Gc,GAAsD,QAA5BF,EAAUf,EAAMjgB,EAAI,UAA4B,IAAZghB,OAAqB,EAASA,EAAQZ,iBAAkB,EAE1H,OAAKM,GAAgBtc,MAbL7D,EAamBpF,EAAQoF,QAZ3BsgB,GAAoBzc,KAAK7D,GAASA,EAAMgV,QAAQqL,IAAkB,SAAUO,GACnFV,OAAAA,GAAYU,MAChB5gB,IAUiD2gB,IAA0BD,EAIzE9lB,EAAQilB,cAHNc,ECzBX,SAAS/hB,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAGpM,SAAS8gB,GAAwBnB,GAEtC,OAAKA,EAAMxR,MAAK,SAAUyR,GACjBA,OAAAA,EAAKE,iBASPH,EAAMpf,KAAI,SAAUqf,EAAMlgB,GACxBF,OAAAA,GAAcA,GAAc,GAAIogB,GAAO,GAAI,CAChDE,eAAgBU,GAAkBb,EAAOjgB,QATpCigB,EAAMpf,KAAI,SAAUqf,GAClBpgB,OAAAA,GAAcA,GAAc,GAAIogB,GAAO,GAAI,CAChDE,eAAe,OCdvB,SAASnd,GAAmBC,GAAO,OAQnC,SAA4BA,GAAWrH,GAAAA,MAAMsH,QAAQD,GAAM,OAAOE,GAAkBF,GAR1CG,CAAmBH,IAM7D,SAA0BI,GAAY,GAAkB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOzH,MAAM4H,KAAKH,GANjFI,CAAiBR,IAItF,SAAqCS,EAAGC,GAAc,IAACD,EAAG,OAAY,GAAa,iBAANA,EAAgB,OAAOP,GAAkBO,EAAGC,GAAS,IAAIC,EAAItE,OAAOuE,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAAc,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAAM,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOhI,MAAM4H,KAAKE,GAAI,GAAU,cAANE,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOT,GAAkBO,EAAGC,GAJxTS,CAA4BnB,IAE1H,WAAgC,MAAM,IAAIoB,UAAU,wIAF8EC,GAUlI,SAASnB,GAAkBF,EAAKsB,IAAkB,MAAPA,GAAeA,EAAMtB,EAAIvH,UAAQ6I,EAAMtB,EAAIvH,QAAQ,IAAK,IAAIqE,EAAI,EAAGyE,EAAO,IAAI5I,MAAM2I,GAAMxE,EAAIwE,EAAKxE,IAAOyE,EAAKzE,GAAKkD,EAAIlD,GAAM,OAAOyE,EAIzK,SAAS4c,GAAuB/f,GACrC,IAAIuJ,EAAMvJ,EAAKuJ,IACX2V,EAAYlf,EAAKkf,UACjB5jB,EAAOf,MAAMsH,QAAQqd,GAAaA,EAAY,CAACA,GAC/CX,EAAmBnjB,EAAwBmO,EAAK,CAAC,kBAAkBtO,OAAO0G,GAAmBrG,GAAO,CAAC,WAOzG,MALgC,iBAArBijB,IAETA,EAAmBnjB,EAAwBmO,EAAKjO,IAAS,IAGpD+iB,GAAe,CACpBE,iBAAkBA,IC1BtB,SAAS1gB,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,ECJ3M,IAAIoL,GAAY,CAAC,UAEjB,SAASvM,GAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAaG,GAAAA,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAASC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GAAcJ,OAAAA,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAiBP,EAAKnB,KAAKlC,MAAMqD,EAAMG,GAAY,OAAOH,EAE9U,SAASQ,GAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAItE,UAAUC,OAAQqE,IAAK,CAAE,IAAIC,EAAS,MAAQvE,UAAUsE,GAAKtE,UAAUsE,GAAK,GAAIA,EAAI,EAAIb,GAAQI,OAAOU,IAAS,GAAI1B,SAAQ,SAAU1B,GAAOqD,GAAgBH,EAAQlD,EAAKoD,EAAOpD,OAAY0C,OAAOY,0BAA4BZ,OAAOa,iBAAiBL,EAAQR,OAAOY,0BAA0BF,IAAWd,GAAQI,OAAOU,IAAS1B,SAAQ,SAAU1B,GAAO0C,OAAOc,eAAeN,EAAQlD,EAAK0C,OAAOK,yBAAyBK,EAAQpD,OAAa,OAAOkD,EAEjf,SAASG,GAAgBI,EAAKzD,EAAK0D,GAAiK,OAApJ1D,KAAOyD,EAAOf,OAAOc,eAAeC,EAAKzD,EAAK,CAAE0D,MAAOA,EAAOV,YAAY,EAAMW,cAAc,EAAMC,UAAU,IAAkBH,EAAIzD,GAAO0D,EAAgBD,EAE3M,SAASqL,GAAyB1L,EAAQ2L,GAAY,GAAc,MAAV3L,EAAgB,MAAO,GAAI,IAAkEpD,EAAKmD,EAAnED,EAEzF,SAAuCE,EAAQ2L,GAAY,GAAc,MAAV3L,EAAgB,MAAO,GAAQF,IAAuDlD,EAAKmD,EAA5DD,EAAS,GAAQ8L,EAAatM,OAAOD,KAAKW,GAAqB,IAAKD,EAAI,EAAGA,EAAI6L,EAAWlQ,OAAQqE,IAAOnD,EAAMgP,EAAW7L,GAAQ4L,EAASE,QAAQjP,IAAQ,IAAakD,EAAOlD,GAAOoD,EAAOpD,IAAQ,OAAOkD,EAFxMgM,CAA8B9L,EAAQ2L,GAA2BrM,GAAAA,OAAOC,sBAAuB,CAAE,IAAIwM,EAAmBzM,OAAOC,sBAAsBS,GAAS,IAAKD,EAAI,EAAGA,EAAIgM,EAAiBrQ,OAAQqE,IAAOnD,EAAMmP,EAAiBhM,GAAQ4L,EAASE,QAAQjP,IAAQ,GAAkB0C,OAAOuE,UAAUmI,qBAAqBjI,KAAK/D,EAAQpD,KAAgBkD,EAAOlD,GAAOoD,EAAOpD,IAAU,OAAOkD,EAIne,SAASkD,GAAmBC,GAAO,OAQnC,SAA4BA,GAAWrH,GAAAA,MAAMsH,QAAQD,GAAM,OAAOE,GAAkBF,GAR1CG,CAAmBH,IAM7D,SAA0BI,GAAY,GAAkB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOzH,MAAM4H,KAAKH,GANjFI,CAAiBR,IAItF,SAAqCS,EAAGC,GAAc,IAACD,EAAG,OAAY,GAAa,iBAANA,EAAgB,OAAOP,GAAkBO,EAAGC,GAAS,IAAIC,EAAItE,OAAOuE,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAAc,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAAM,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOhI,MAAM4H,KAAKE,GAAI,GAAU,cAANE,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOT,GAAkBO,EAAGC,GAJxTS,CAA4BnB,IAE1H,WAAgC,MAAM,IAAIoB,UAAU,wIAF8EC,GAUlI,SAASnB,GAAkBF,EAAKsB,IAAkB,MAAPA,GAAeA,EAAMtB,EAAIvH,UAAQ6I,EAAMtB,EAAIvH,QAAQ,IAAK,IAAIqE,EAAI,EAAGyE,EAAO,IAAI5I,MAAM2I,GAAMxE,EAAIwE,EAAKxE,IAAOyE,EAAKzE,GAAKkD,EAAIlD,GAAM,OAAOyE,EClBzK,SAAS6c,GAGShgB,GAFvB+S,IAAAA,IAAAA,cACAkN,IAAAA,SAEA,SAASC,EAIiCjc,GAHxCsF,IAAAA,IAAAA,IACA2V,IAAAA,UAEwCiB,EAAAlc,EADxCoS,QAAAA,aAAU,OAC8B8J,EACxC,OAAOpN,EACLkN,EACA,GACAhB,GAA+B,CAAE1V,IAAAA,EAAK2V,UAAAA,IAAa3f,KAAI,SAACqF,EAAGlF,GAAJ,OACrDkF,EAAEka,cACE/L,EAAcsD,EAAS,CAAE9a,IAAKmE,GAASkF,EAAE3F,OACzC2F,EAAE3F,UAOZ,OAFAihB,EAAUE,6BAA+B,YAElCF,ECtBF,SAASG,GAGSrgB,GAFvB+S,IAAAA,IAAAA,cACAkN,IAAAA,SAEA,SAASK,EAIiCrc,GAHxCsF,ICP4C1I,EDO5C0I,IAAAA,IACA2V,IAAAA,UAEwCiB,EAAAlc,EADxCoS,QAAAA,aAAU,OAC8B8J,EACxC,OAAOpN,EACLkN,EACA,ICb0Cpf,EDcJ,CACpC0I,IAAAA,EACA2V,UAAAA,GCfCY,GAAwBb,GAAyBpe,KDgBjDtB,KAAI,SAACqF,EAAGlF,GAAJ,OACLkF,EAAEka,cACE/L,EAAcsD,EAAS,CAAE9a,IAAKmE,GAASkF,EAAE3F,OACzC2F,EAAE3F,UAOZ,OAFAqhB,EAAiBF,6BAA+B,mBAEzCE,EEzBF,SAASC,GAGSvgB,GAFvB+S,IAAAA,IAAAA,cACAkN,IAAAA,SAEA,SAASO,EAIiCvc,GAHxCsF,ICP0C1I,EDO1C0I,IAAAA,IACA2V,IAAAA,UAEwCiB,EAAAlc,EADxCoS,QAAAA,aAAU,OAC8B8J,EACxC,OAAOpN,EACLkN,EACA,ICbwCpf,EDcJ,CAClC0I,IAAAA,EACA2V,UAAAA,GCfCY,GAAwBC,GAAuBlf,KDgB/CtB,KAAI,SAACqF,EAAGlF,GAAJ,OACLkF,EAAEka,cACE/L,EAAcsD,EAAS,CAAE9a,IAAKmE,GAASkF,EAAE3F,OACzC2F,EAAE3F,UAOZ,OAFAuhB,EAAeJ,6BAA+B,iBAEvCI,EEzBF,SAASC,GAGSzgB,GAFvB+S,IAAAA,IAAAA,cACAkN,IAAAA,SAEA,SAASS,EAIiCzc,GAHxCsF,IAAAA,IAAAA,IACA2V,IAAAA,UAEwCiB,EAAAlc,EADxCoS,QAAAA,aAAU,OAC8B8J,EACxC,OAAOpN,EACLkN,EACA,GACAF,GAA6B,CAAExW,IAAAA,EAAK2V,UAAAA,IAAa3f,KAAI,SAACqF,EAAGlF,GAAJ,OACnDkF,EAAEka,cACE/L,EAAcsD,EAAS,CAAE9a,IAAKmE,GAASkF,EAAE3F,OACzC2F,EAAE3F,UAOZ,OAFAyhB,EAAQN,6BAA+B,UAEhCM,+RCEHC,GAA4C,CAChD5I,YAAa,iBACboB,qBAAsB,0BACtB3B,kBAAmB,uBACnB6B,sBAAuB,2BACvB3B,gBAAiB,qBACjBwB,qBAAsB,0BACtBD,yBAA0B,8BAC1BF,gCAAiC,qCACjCF,0BAA2B,+BAC3BH,KAAM,UACNR,MAAO,WACPM,aAAc,kBACdF,mBAAoB,wBACpBC,mBAAoB,wBACpBxY,KAAM,UACN+J,MAAO,WACP/I,KAAM,UACNkX,iBAAkB,sBAClBW,MAAO,WACPgI,YAAa,sCACbtJ,KAAM,kBACN3Y,OAAQ,YACRkiB,aAAc,kBACdC,aAAc,kBACdC,gBAAiB,qBACjBnJ,aAAc,mBAGVoJ,GAAyC,SAAAhhB,EAAuBsX,GAApBf,IAAAA,IAAAA,UAChD2F,IAD0DA,QACnD3F,EAAUe,IAGb2J,GAAkD,CACtDlO,cAAemO,GACfjB,SAAUkB,GACVjF,OfhEq0P,SAAWzI,EAAE/U,EAAE2U,GAAG,IAAIE,EAAElR,EAAEqX,EAAExF,GAAE6F,IAAI7F,GAAE6F,GAAGtG,EAAE/U,GAAG2D,GAAGkR,EAAE,mBAAmBF,GAAG,KAAKA,GAAGA,EAAEyG,KAAKpb,EAAEob,IAAIJ,EAAE,GAAGsB,GAAEtc,EAAE+U,IAAIF,GAAGF,GAAG3U,GAAGob,IAAIL,GAAEc,GAAE,KAAK,CAAC9G,IAAIpR,GAAGmR,GAAEA,QAAE,IAAS9U,EAAEwc,iBAAiB3H,GAAGF,EAAE,CAACA,GAAGhR,EAAE,KAAK3D,EAAE0iB,WAAW7e,GAAEG,KAAKhE,EAAE4e,YAAY,KAAK5D,GAAGnG,GAAGF,EAAEA,EAAEhR,EAAEA,EAAE4X,IAAIvb,EAAE0iB,WAAW7N,GAAG4H,GAAEzB,EAAEjG,KgBUpkQ,SAAS4N,GAKiBrhB,GAJ/BshB,IAAAA,IAAAA,eACA/Y,IAAAA,UACAmQ,IAAAA,KACAnV,IAAAA,YAEMge,EAAgBhZ,EAAUiZ,wBAQ1BC,GAJHle,EAAYme,aACbne,EAAYoK,SAASgU,gBAAgBC,WACrCre,EAAYoK,SAASkU,KAAKD,WAC1B,GACsBL,EAAcE,IAAMF,EAAcO,OAE1D,OAAQR,GACN,IAAK,QACI,MAAA,CACLG,IAAAA,EACAM,KAAMR,EAAcQ,MAIxB,IAAK,MACI,MAAA,CACLN,IAAAA,EACAO,MACEze,EAAYoK,SAASgU,gBAAgBM,aACpCV,EAAcQ,KAAOR,EAAcW,QAI1C,IAAK,aACI,MAAA,CACLT,IAAAA,EACAM,KAAM,EACNC,MAAO,EACPE,MAAO,QACPC,SAAU,SAId,IAAK,sBACH,IAAMC,EAAW1J,EAAK8I,wBAEf,MAAA,CACLC,IAAAA,EACAM,KAAMK,EAASL,KACfC,MACEze,EAAYoK,SAASgU,gBAAgBM,aACpCG,EAASL,KAAOK,EAASF,OAC5BA,MAAO,QACPC,SAAU,SAId,QACQ,MAAA,IAAIrc,MACuCC,6CAAAA,OAAAA,KAAKC,UAClDsb,GAFJ,oBClEC,IAAMtlB,GAAa,CAAC,CAAEC,QAAS,kBAAmBF,QAAAA,sBCKlD,IAAMsmB,GXDN,SAAyBC,EAASva,GAC9BL,SAAAA,EAAQ6a,GACf,OAAOD,EAAQ,CACbha,aAAcia,EAAcja,aAC5BH,QAASoa,EAAcra,SAAS3I,KAAI,SAAUqF,GACrCA,OAAAA,EAAER,WAEV/H,MAAK,SAAUuM,GACTA,OAAAA,EAAUrJ,KAAI,SAAUyJ,EAAUtJ,GACvC,IAAI8iB,EAAwBD,EAAcra,SAASxI,GAG5C,MAAA,CACL7D,MAAOmN,EACPpD,SAJa4c,EAAsB5c,SAKnCwC,kBAJsBoa,EAAsBpa,yBAUpD,OAAO,SAAkCqa,GACvC,OAAO,SAAmBC,GACjBlkB,OAAAA,GAAcA,GAAc,CACjCuJ,YAAaA,EACbL,QAASA,GACR+a,GAAkBC,KWzBWC,EACpC,SAACje,GACCke,OViBG,SAA6B5iB,GAClC,IAAIsI,EAAetI,EAAKsI,aACpBH,EAAUnI,EAAKmI,QACf0a,EAAkB7iB,EAAKhE,WACvBA,OAAiC,IAApB6mB,EAA6B,GAAKA,EAW5Cva,MATqC,mBAAjCA,EAAawa,iBACF,GAAG7nB,OAAO0G,GAAmBohB,GAAiBphB,GAAmB3F,IACvEiB,SAAQ,SAAUgH,GAC9B,IAAIhI,EAAUgI,EAAMhI,QAChBF,EAAUkI,EAAMlI,QACpBuM,EAAawa,gBAAgB7mB,EAASF,MAInCuM,EAAa0a,OAAO7a,EAAQ5I,KAAI,SAAU0jB,GAC/C,IAAIve,EAASue,EAAiBve,OAGvBlG,OAAAA,GAAcA,GAAc,GAFrB6L,GAAyB4Y,EAAkB7Y,KAER,GAAI,CACnD1F,OAAQlG,GAAc,CACpB0kB,YAAa,EACbC,gBAAiBhF,GACjBiF,iBAAkBhF,IACjB1Z,SAEHrI,MAAK,SAAU2M,GACVA,OAAAA,EAASC,WU5ChB2Z,QACKle,GADc,GAAA,CAEjB1I,WAAAA,QAEJ,WCRWqnB,IAAAA,GAAoBhB,GAAuB,CACtDja,kBAAmB,SAACY,GAAaA,OAAAA,EAASM,uBCuBrC,SACLgI,GAEA,IChBMgS,EDgBNC,EEvBK,WACDC,IAAAA,EAAsB,GACtBC,EAAwB,GAEnBC,SAAAA,EAAU3pB,GACjBypB,EAAQ3mB,KAAK9C,GACP4pB,IAAAA,EAAgB5pB,IACtB0pB,EAAS5mB,KAAK8mB,GAGT,MAAA,CACLD,UAAAA,EACAE,eAAiB,WACTC,IAAAA,EAAkBJ,EACxBA,EAAW,GACXI,EAAgB5mB,SAAQ,SAAC6mB,GACvBA,QAGJC,WAAa,WACLC,IAAAA,EAAiBR,EACvBA,EAAU,GACVQ,EAAe/mB,SAAQ,SAACgnB,GACtBP,EAAUO,QFAkCC,GAA1CR,IAAAA,UAAWE,IAAAA,eAAgBG,IAAAA,WACnCI,GCjBMb,EAAkC,GAEjC,CACLc,SAAiBnlB,SAAAA,GACTpF,IAAAA,EAAUoF,IACVmlB,EAA6B,CACjCC,IAAKplB,EACLe,KAAM,CAAEnG,QAAAA,GACJoF,YACK,OAAA8U,KAAK/T,KAAKnG,SAEfoF,UAAMA,GACR8U,KAAK/T,KAAKnG,QAAUoF,IAMxB,OAFAqkB,EAAUzmB,KAAKunB,GAERA,GAETE,aAAe,WACbhB,EAAUrmB,SAAQ,SAACgC,GACjBA,EAAMe,KAAKnG,QAAUoF,EAAMolB,YDLzBD,IAAAA,SAAUE,IAAAA,aAEZC,EAAgC5qB,GAAU,GAC1C6qB,EAAa7qB,EAAU2X,GACvBmT,EAAmB9qB,OAEvBO,GACI2G,EAAQujB,GAAS,WAAA,OL2BlB,SACL9S,GACA,IAAAoT,EAEE3N,EAmBEzF,EAnBFyF,WACAxO,EAkBE+I,EAlBF/I,UACAsE,EAiBEyE,EAjBFzE,oBACAoB,EAgBEqD,EAhBFrD,aACAQ,EAeE6C,EAfF7C,cACAmC,EAcEU,EAdFV,aACAtC,EAaEgD,EAbFhD,cACAqC,EAYEW,EAZFX,aACAF,EAWEa,EAXFb,cACA3C,EAUEwD,EAVFxD,aACA6W,EASErT,EATFqT,eACArD,EAQEhQ,EARFgQ,eACApF,EAOE5K,EAPF4K,OACA0I,EAMEtT,EANFsT,gBACAC,EAKEvT,EALFuT,SACAC,EAIExT,EAJFwT,mBACAC,EAGEzT,EAHFyT,WACA5N,EAEE7F,EAFF6F,aACG6N,IACD1T,EApBJlH,IAuBM7G,EAA0D,oBAAXC,OACjDA,OACA,GAEEyhB,EAAmB1Q,GAAehR,EAAagF,GAGnD0c,EAAiB5O,QA4BnB,IAAM6O,EAAiB1mB,EAAAA,EAAA,GAAQyiB,IAAoB4D,GAE7CM,EAA4C,CAChDjF,UAAWF,GAAyBkF,GACpC5E,iBAAkBD,GAAgC6E,GAClD1E,eAAgBD,GAA8B2E,GAC9CxE,QAASD,GAAuByE,IAS3B,MAAA,CACLL,SAAU,CACR9N,WAAYvC,GACVmM,GACA5J,MAAAA,EAAAA,EAAc,IAEhBxO,UAAW0c,EACXpY,oBAAqBA,MAAAA,EAAAA,EAAwB,SAAA5I,GAAA,SAAGpD,OAChDoN,aAAcA,MAAAA,EAAAA,EAAiB,SAAAlH,GAAA,SAAGlG,OAClC4N,cAAeA,MAAAA,EAAAA,EAAkB,SAAAtH,GAAA,SAAGtG,OACpC+P,aAAcA,MAAAA,EAAAA,EAAiB,SAAApJ,GAAA,SAAG3G,OAClCyN,cAAeA,MAAAA,EAAAA,EAAkB,SAAA8W,GAAA,SAAGvkB,OACpC8P,aAAcA,MAAAA,EAAAA,EAAiB,SAAA0U,GAAA,SAAGxkB,OAClC4P,cAAeA,MAAAA,EAAAA,EAAkB,SAAA6U,GAAA,SAAGzkB,OACpCiN,aAAcA,MAAAA,EAAAA,EAAiB,SAAAyX,GAAA,SAAG1kB,OAClC8jB,eAAgBA,EACZpQ,GAAehR,EAAaohB,GAC5BphB,EAAYoK,SAASkU,KACzBP,eAAgBA,MAAAA,EAAAA,EAAkB,sBAClCpF,OAAQA,MAAAA,EAAAA,EAAU8E,GAClB4D,gBAAAA,EACAC,SAAUK,EACVJ,mBACEA,MAAAA,EAAAA,EACAU,iBAAiBjiB,EAAYoK,SAASgU,iBAAiB8D,iBACrD,6BAEJV,WAAUvmB,EAAAA,EAAA,GAIL2mB,GACAJ,GAEL5N,aAAY3Y,EAAAA,EAAA,GAxCsC,CACpDwZ,iBAAkB,QAClBoB,yBAA0B,SAC1BtB,kBAAmB,WAuCZX,IAGP6N,YACKA,GADD,GAAA,CAEF7gB,GAAE,QAAE6gB,EAAAA,EAAK7gB,UAAP,IAAAugB,EAAAA,EAAavpB,IACfoI,YAAAA,KKjJyBmiB,CAAkBlB,EAAW3qB,YACpDmd,EAAaoN,GACjB,WAAA,OACEvjB,EAAM5B,MAAM+lB,KAAKzhB,YAAYoiB,WAC3B9kB,EAAM5B,MAAM4lB,SAASC,oBACrB/b,WAGA8N,EAAeuN,GAAS,WAAA,OAC5BnS,GACKpR,EAAAA,EAAAA,GAAAA,EAAM5B,MAAM+lB,MADC,GAAA,CAEhBvgB,cAAcC,SAAAA,GAAQ,IAAAkhB,EAAAC,EAAAC,EACpBvB,EAA8B1qB,QAAU6K,EAAOjJ,MAAMC,YAAYyR,MAC/D,SAACvR,GAAD,OACGA,EAAW+C,OAAqConB,UAAUC,qBAE/DJ,EAAAnB,EAAiB5qB,6BAAjB4qB,EAA2B/f,WAC3B7D,GAAAA,EAAAA,EAAM5B,MAAM+lB,MAAKvgB,qCAAgBC,IAEnCX,gBACEygB,EAAW3qB,QAAQkK,iBAClB,SAAe/D,GAAZvE,IAAAA,IAAAA,MACEub,GAAAA,EAAW/X,MACb,OAAO,EAGT,IAAMgnB,EAAWzqB,EAAcC,GAAS,EAExC,IAAKoF,EAAM5B,MAAM+lB,KAAKrhB,cAAgBlI,EAAM2I,MAC1C,OAAO6hB,EAGT,IAAMC,EAAuB1gB,QAC3B+e,EAA8B1qB,SAC5BgH,EAAM5B,MAAM4lB,SAASD,iBAGzB,OAASqB,GAAYC,GAAyBD,GAElDzU,wBAAyB,CACvBxV,WAAAA,GACAsV,QAAAA,SAIA6U,EAAexsB,EAAS6E,EAAA,CAC5B9C,YAAa,GACb2I,WAAY,KACZG,QAAS,GACTF,QAAQ,EACRF,MAAO,GACPvE,aAAc,KACd0E,OAAQ,QACL1D,EAAM5B,MAAM+lB,KAAK5oB,eAGhBmW,EAA8C,CAClD1F,oBAAqBhM,EAAM5B,MAAM4lB,SAAShY,oBAC1CoB,aAAcpN,EAAM5B,MAAM4lB,SAAS5W,aACnCQ,cAAe5N,EAAM5B,MAAM4lB,SAASpW,cACpCmC,aAAc/P,EAAM5B,MAAM4lB,SAASjU,aACnCtC,cAAezN,EAAM5B,MAAM4lB,SAASvW,cACpCqC,aAAc9P,EAAM5B,MAAM4lB,SAASlU,aACnCF,cAAe5P,EAAM5B,MAAM4lB,SAASpU,cACpC3C,aAAcjN,EAAM5B,MAAM4lB,SAAS/W,cAE/BgJ,EAAoD,CACxDpL,gBAAiBmL,EAAa5X,MAAMyM,gBACpCD,SAAUoL,EAAa5X,MAAMwM,SAC7BD,eAAgBqL,EAAa5X,MAAMuM,eACnCrF,UAAW0Q,EAAa5X,MAAMkH,UAC9BwF,UAAWkL,EAAa5X,MAAM0M,UAC9B0G,WAAYwE,EAAa5X,MAAMoT,WAC/B/G,QAASuL,EAAa5X,MAAMqM,QAC5BzE,UAAWgQ,EAAa5X,MAAM4H,WAG1Buf,EAAOhC,GAAS,WAAA,OACpBvQ,GAAIqK,KAAYrd,EAAM5B,MAAM4lB,SAASA,SAAS9R,kBAG1C0C,EAAM2O,GAAS,WAAA,OACnBxN,GAAsB,CACpBC,aAAcA,EAAa5X,MAC3B6X,qBAAAA,EACAC,WAAYlW,EAAM5B,MAAM4lB,SAAS9N,WACjCxT,YAAa1C,EAAM5B,MAAM+lB,KAAKzhB,YAC9ByT,WAAYA,EAAW/X,MACvB2E,YAAa/C,EAAM5B,MAAM+lB,KAAKphB,YAC9B2O,YAAAA,EACA2E,eAAAA,EACAzb,MAAO0qB,EAAatsB,QACpBsd,aAActW,EAAM5B,MAAM4lB,SAAS1N,kBAIvC,SAASkP,IACPnQ,GAAcT,EAAIxW,MAAM2Z,MAAO,CAC7BvD,MAAO2B,EAAW/X,MACd,GACAoiB,GAAuB,CACrBC,eAAgBzgB,EAAM5B,MAAM4lB,SAASvD,eACrC/Y,UAAWkN,EAAIxW,MAAMqY,KACrBoB,KAAMjD,EAAIxW,MAAMyZ,KAChBnV,YAAa1C,EAAM5B,MAAM+lB,KAAKzhB,gBAK/B+iB,SAAAA,EAAe7qB,GACtB0qB,EAAatsB,QAAU4B,EAEvB,IAAM8qB,EAAc,CAClB1P,aAAcA,EAAa5X,MAC3B6X,qBAAAA,EACAC,WAAYlW,EAAM5B,MAAM4lB,SAAS9N,WACjCgO,WAAYlkB,EAAM5B,MAAM4lB,SAASE,WACjCxc,UAAW1H,EAAM5B,MAAM4lB,SAAStc,UAChC6d,KAAMA,EAAKnnB,MACXwW,IAAKA,EAAIxW,MACT0lB,eAAgB3N,EAAW/X,MACvBwW,EAAIxW,MAAMuY,kBACV3W,EAAM5B,MAAM4lB,SAASF,eACzBpS,YAAAA,EACA9W,MAAO0qB,EAAatsB,QACpBgrB,SAAUhkB,EAAM5B,MAAM4lB,SAASA,UAG3B3I,GACF1gB,EAAcC,KACb8oB,EAA8B1qB,SAC/BgH,EAAM5B,MAAM4lB,SAASD,iBACvB/jB,EAAM5B,MAAM4lB,SAAS3I,QG3IpB,SAMsBlc,GAL3B6W,IAAAA,IAAAA,aACAC,IAAAA,qBACArB,IAAAA,IACAlD,IAAAA,YACA9W,IAAAA,MAEA0a,GACEV,EAAI6B,KACJ/E,EAAYzE,aAAZtP,EAAA,CACE/C,MAAAA,EACAoF,MAAOgW,EAAa/I,aAAa,KAC9BgJ,KAGPX,GACEV,EAAIyC,MACJ3F,EAAY9D,cAAZjQ,EAAA,CACE/C,MAAAA,EACAoF,MAAOgW,EAAapI,cAAc,CAAE1B,aAAc0I,EAAIyC,QACtDnL,aAAc0I,EAAIyC,OACfpB,KAGPZ,GAAcT,EAAI3L,MAAO,CAAEkP,OAAyB,YAAjBvd,EAAM8I,SACzC2R,GAAcT,EAAIwC,iBAAkB,CAAEe,OAAyB,YAAjBvd,EAAM8I,SACpD2R,GAAcT,EAAIsC,YAAa,CAAEiB,QAASvd,EAAM2I,QAChD8R,GAAcT,EAAIoD,0BAA2B,CAC3CC,YAAard,EAAM2I,QAErB8R,GAAcT,EAAIsD,gCAAiC,CACjDC,OAAQxT,QAAQ/J,EAAM2I,SH8GtBoiB,CAAgBD,GG1Gb,SACLrK,EAaMjY,GAXJ4S,IAAAA,IAAAA,aACAC,IAAAA,qBACAC,IAAAA,WACAqP,IAAAA,KACA3Q,IAAAA,IACAkP,IAAAA,eACApS,IAAAA,YACA9W,IAAAA,MACAspB,IAAAA,WACAF,IAAAA,SAGF,GAAKppB,EAAM6I,OAAX,CAUKqgB,EAAepX,SAASkI,EAAImD,QAA2B,YAAjBnd,EAAM8I,QAC/CogB,EAAexR,YAAYsC,EAAImD,OAGjCnD,EAAImD,MAAM6N,UAAUC,OAAO,oBAAsC,YAAjBjrB,EAAM8I,QAEtD,IAAMoiB,EAAWlrB,EAAMC,YACpB0C,QACC,SAAA2I,GAAGpI,IAAAA,IAAAA,OAAQ9C,IAAAA,MAAY8C,OAAAA,EAAOonB,UAAUC,WAAanqB,EAAMxB,OAAS,KAErEkF,KAAI,SAAA4H,EAAoBoH,GAAjB5P,IAAAA,IAAAA,OAAQ9C,IAAAA,MACd,OAAAgpB,EAAA9R,cAAA,UAAA,CACExX,IAAKgT,EACLqY,UAAW7P,EAAWpY,OACtB,8BAA6BA,EAAOiH,UAEnCjH,EAAOonB,UAAUc,QAChBhC,EAAA9R,cAAA,MAAA,CAAK6T,UAAW7P,EAAW+J,cACxBniB,EAAOonB,UAAUc,OAAO,CACvB9B,WAAAA,EACAhS,cAAe8R,EAAS9R,cACxBkN,SAAU4E,EAAS5E,SACnBpkB,MAAAA,EACA8C,OAAAA,EACAlD,MAAAA,EACA2qB,KAAAA,KAKLznB,EAAOonB,UAAUC,WAA8B,IAAjBnqB,EAAMxB,OACnCwqB,EAAA9R,cAAA,MAAA,CAAK6T,UAAW7P,EAAWgK,iBACxBpiB,EAAOonB,UAAUC,UAAU,CAC1BjB,WAAAA,EACAhS,cAAe8R,EAAS9R,cACxBkN,SAAU4E,EAAS5E,SACnBthB,OAAAA,EACAlD,MAAAA,EACA2qB,KAAAA,KAIJvB,EAAA9R,cAAA,KAAA+T,EAAA,CACEF,UAAW7P,EAAWhW,MAClBwR,EAAY5B,aAAZnS,EAAA,CACF/C,MAAAA,EACAoF,MAAOgW,EAAalG,aAAa,CAC/BpC,YAAAA,KAECuI,KAGJjb,EAAM0D,KAAI,SAACQ,GACV,IAAMgnB,EAAYlQ,EAAajG,aAAa,CAC1C7Q,KAAAA,EACApB,OAAAA,EACA4P,YAAAA,IAIA,OAAAsW,EAAA9R,cAAA,KAAA+T,EAAA,CACEvrB,IAAKwrB,EAAU5iB,GACfyiB,UAAW7P,EAAWhX,MAClBwS,EAAY3B,aAAZpS,EAAA,CACF/C,MAAAA,EACAoF,MAAOkmB,GACJjQ,KAGJnY,EAAOonB,UAAUhmB,KAAK,CACrBglB,WAAAA,EACAhS,cAAe8R,EAAS9R,cACxBkN,SAAU4E,EAAS5E,SACnBlgB,KAAAA,EACAtE,MAAAA,EACA2qB,KAAAA,SAQXznB,EAAOonB,UAAUiB,QAChBnC,EAAA9R,cAAA,MAAA,CAAK6T,UAAW7P,EAAW8J,cACxBliB,EAAOonB,UAAUiB,OAAO,CACvBjC,WAAAA,EACAhS,cAAe8R,EAAS9R,cACxBkN,SAAU4E,EAAS5E,SACnBpkB,MAAAA,EACA8C,OAAAA,EACAlD,MAAAA,EACA2qB,KAAAA,SAON7P,EACJsO,EAAA9R,cAAC8R,EAAS5E,SACR,KAAA4E,EAAA9R,cAAA,MAAA,CAAK6T,UAAW7P,EAAW6J,aAAc+F,GACzC9B,EAAA9R,cAAA,MAAA,CAAK6T,UAAU,uBAGbK,EAAWN,EAAS7rB,QAAO,SAAC0E,EAAK3F,GAErC,OADA2F,EAAI3F,EAAQgH,MAAM,gCAAkChH,EAC7C2F,IACN,IAEH0c,EAAM1d,EAAAA,EAAA,CAEF+X,SAAAA,EACA9a,MAAAA,EACAkrB,SAAAA,EACAM,SAAAA,GACGpC,GAND,GAAA,CAOFE,WAAAA,EACAqB,KAAAA,GACGtP,GAELrB,EAAImD,YAlIA+L,EAAepX,SAASkI,EAAImD,QAC9B+L,EAAenL,YAAY/D,EAAImD,OH0FjCsO,CAAYhL,EAAQqK,GAsKtB,SAASY,IAAOC,IAAAA,yDAAsD,GACpExD,IAEA,IAAAyD,EAAyCxmB,EAAM5B,MAAM4lB,SAA7CE,IAAAA,WAAeuC,EAAvBjd,EAAAgd,EAAAjd,IAEAoa,EAAW3qB,QAAUib,GACnBwS,EACAzmB,EAAM5B,MAAM+lB,KACZ,CAMED,WAAYhQ,GACVgQ,GACA,SAAA5d,GAAA,SAAGlI,MAAmB8S,eAAe,mCAEvC3V,aAAc+pB,EAAatsB,SAE7ButB,GAGF9C,IACAP,IAEAlN,EAAa5X,MAAMqM,UAAUjP,MAAK,WAChCiqB,EAAeH,EAAatsB,YAIvBqd,SAAAA,EAAejY,GACtBsoB,uBAAsB,WACdC,IAAAA,EAAY3mB,EAAM5B,MAAM+lB,KAAKzhB,YAAYoK,SAASkU,KAAKtU,SAC3DkI,EAAIxW,MAAMyY,iBAGRzY,IAAUuoB,IAIVvoB,GACF4B,EAAM5B,MAAM+lB,KAAKzhB,YAAYoK,SAASkU,KAAK1O,YACzCsC,EAAIxW,MAAMyY,iBAEZ7W,EAAM5B,MAAM+lB,KAAKzhB,YAAYoK,SAASkU,KAAK4E,UAAUllB,IAAI,eACzDkU,EAAIxW,MAAMiZ,MAAM5Q,UAEhBzG,EAAM5B,MAAM+lB,KAAKzhB,YAAYoK,SAASkU,KAAKrI,YACzC/D,EAAIxW,MAAMyY,iBAEZ7W,EAAM5B,MAAM+lB,KAAKzhB,YAAYoK,SAASkU,KAAK4E,UAAUgB,OACnD,oBAMR,OA7NA/D,GAAU,WACR,IAAMgE,EAAmB7Q,EAAa5X,MAAM4N,oBAAoB,CAC9DG,YAAayI,EAAIxW,MAAMyZ,KACvBzL,aAAcwI,EAAIxW,MAAM2Z,MACxB7L,aAAc0I,EAAIxW,MAAMiZ,QAK1B,OAFAhC,GAAcrV,EAAM5B,MAAM+lB,KAAKzhB,YAAoBmkB,GAE5C,WACLxR,GACErV,EAAM5B,MAAM+lB,KAAKzhB,YACjBtF,OAAOD,KAAK0pB,GAAkB5sB,QAAO,SAAC0E,EAAKjE,GACzC,OAAAiD,EAAAA,EAAA,GACKgB,GADL,GAAAZ,EAAA,GAEGrD,OAAMrB,MAER,SAKTwpB,GAAU,WACFiE,IAAAA,EAAwB3Q,EAAW/X,MACrC4B,EAAM5B,MAAM+lB,KAAKzhB,YAAYoK,SAASkU,KACtChhB,EAAM5B,MAAM4lB,SAASF,eACnB1X,EAAe+J,EAAW/X,MAC5BwW,EAAIxW,MAAMyY,gBACVjC,EAAIxW,MAAM2Z,MAQd,OANI5B,EAAW/X,OAASknB,EAAatsB,QAAQyK,QAC3C4S,GAAe,GAGjBoP,EAAeH,EAAatsB,SAErB,WACD8tB,EAAsBpa,SAASN,IACjC0a,EAAsBnO,YAAYvM,OAKxCyW,GAAU,WACFuB,IAAAA,EAAmBpkB,EAAM5B,MAAM4lB,SAAStc,UAG9C,OAFA0c,EAAiB9R,YAAYsC,EAAIxW,MAAMqY,MAEhC,WACL2N,EAAiBzL,YAAY/D,EAAIxW,MAAMqY,UAI3CoM,GAAU,WACR,IAAMkE,EAAkB9tB,GAErB,SAAemK,GAChBqiB,IADI7qB,SAEH,GA+BH,OA7BAgpB,EAAiB5qB,QAAU,SAA0BkN,GAAvBtL,IAAAA,IAAAA,MAAO2F,IAAAA,WAC/B4V,EAAW/X,OAASmC,EAAUkD,SAAW7I,EAAM6I,QACjD4S,EAAezb,EAAM6I,QAOlB0S,EAAW/X,QAASxD,EAAM6I,QAAWlD,EAAUkD,QAClD+hB,IAKE5qB,EAAM2I,QAAUhD,EAAUgD,QACHvD,EAAM5B,MAAM+lB,KAAKzhB,YAAYoK,SAASka,iBAC7D,yBAEe5qB,SAAQ,SAAC6qB,GACU,IAA9BA,EAAgBlG,YAClBkG,EAAgBlG,UAAY,MAKlCgG,EAAgB,CAAEnsB,MAAAA,KAGb,WACLgpB,EAAiB5qB,aAAUK,MAI/BwpB,GAAU,WACR,IAAMqE,EAAWjuB,GAAgB,WAC/B,IAAMkuB,EAAqBhR,EAAW/X,MACtC+X,EAAW/X,MAAQ4B,EAAM5B,MAAM+lB,KAAKzhB,YAAYoiB,WAC9C9kB,EAAM5B,MAAM4lB,SAASC,oBACrB/b,QAEEif,IAAuBhR,EAAW/X,MACpCkoB,EAAO,IAEPI,sBAAsBlB,KAEvB,IAGH,OAFAxlB,EAAM5B,MAAM+lB,KAAKzhB,YAAYuS,iBAAiB,SAAUiS,GAEjD,WACLlnB,EAAM5B,MAAM+lB,KAAKzhB,YAAYwS,oBAAoB,SAAUgS,OAI/DrE,GAAU,WACR,IAAK1M,EAAW/X,MACP,OAAA,aAGAgpB,SAAAA,EAAqBC,GAC5BzS,EAAIxW,MAAMuY,kBAAkBiP,UAAUC,OACpC,8BACAwB,GAIK1Y,SAAAA,EAASrE,GAChB8c,EAAqB9c,EAAMpC,SAG7B,IAAMof,EAAqBtnB,EAAM5B,MAAM+lB,KAAKzhB,YAAYoiB,WACtDH,iBACE3kB,EAAM5B,MAAM+lB,KAAKzhB,YAAYoK,SAASgU,iBACtC8D,iBAAiB,oCAGrBwC,EAAqBE,EAAmBpf,SAKxC,IAAMqf,EAAyB5iB,QAAQ2iB,EAAmBrS,kBAM1D,OAJAsS,EACID,EAAmBrS,iBAAiB,SAAUtG,GAC9C2Y,EAAmBE,YAAY7Y,GAE5B,WACL4Y,EACID,EAAmBpS,oBAAoB,SAAUvG,GACjD2Y,EAAmBG,eAAe9Y,OAI1CkU,GAAU,WAGD,OAFP6D,sBAAsBlB,GAEf,gBAiET7nB,EAAAA,EAAA,GACKsY,GADL,GAAA,CAEEqQ,OAAAA,EACAoB,QAjEF,WACE3E,2BI1UG,SAAiClB,GAChC8F,IAAAA,EAAYnG,GAAuB,CACvCja,kBAAmB,SAACY,GAAaA,OAAAA,EAASW,aAGtCxB,EAAUua,EAAcva,QAAQ5I,KAAI,SAAC6E,GAAD,OAAA5F,EAAAA,EAAA,GACrC4F,GADqC,GAAA,CAExC/C,KAAM,aAGDmnB,OAAAA,SACF9F,GADW,GAAA,CAEdva,QAAAA"}